<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>File ‹~~/src/Tools/Argo/argo_lit.ML›</title>
</head>


<body>
<div class="head">
<h1>File ‹~~/src/Tools/Argo/argo_lit.ML›</h1>
</div>

<pre class="source"><span class="comment1"><span>(*  Title:      Tools/Argo/argo_lit.ML
    Author:     Sascha Boehme

Representation of literals. Literals are terms with a polarity, either positive or negative.
A literal for term t with positive polarity is equivalent to t.
A literal for term t with negative polarity is equivalent to the propositional negation of t.
*)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>signature</span></span></span><span> </span><span class="entity"><span>ARGO_LIT</span></span><span> </span><span class="main"><span>=</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>sig</span></span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>datatype</span></span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Pos</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> Argo_Term.term </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>Neg</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> Argo_Term.term
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> literal</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>Argo_Term.term</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>bool</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span class="entity"><span>literal</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> dest</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span class="entity"><span>Argo_Term.term</span></span><span> * </span><span>bool</span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> term_of</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span class="entity"><span>Argo_Term.term</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> signed_id_of</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>int</span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> signed_expr_of</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span class="entity"><span>Argo_Expr.expr</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> negate</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span class="entity"><span>literal</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> eq_id</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>literal</span></span><span> * </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>bool</span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> eq_lit</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>literal</span></span><span> * </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>bool</span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> dual_lit</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>literal</span></span><span> * </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>bool</span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Argo_Lit</span></span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>ARGO_LIT</span></span><span> </span><span class="main"><span>=</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>struct</span></span></span><span>

</span><span class="comment1"><span>(* data type *)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>datatype</span></span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Pos</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> Argo_Term.term </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>Neg</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> Argo_Term.term


</span><span class="comment1"><span>(* operations *)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span>true</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>literal</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span>false</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>dest</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span>true</span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dest</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span>false</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>term_of</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>t</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>term_of</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>t</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>signed_id_of</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Term.id_of</span></span><span> </span><span class="entity"><span>t</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>signed_id_of</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>~</span><span class="main"><span>(</span></span><span class="entity"><span>Argo_Term.id_of</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>signed_expr_of</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Term.expr_of</span></span><span> </span><span class="entity"><span>t</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>signed_expr_of</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Expr.mk_not</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Argo_Term.expr_of</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>id_of</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Term.id_of</span></span><span> </span><span class="entity"><span>t</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>id_of</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Term.id_of</span></span><span> </span><span class="entity"><span>t</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>negate</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>negate</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>eq_id</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>lit1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>lit2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>id_of</span></span><span> </span><span class="entity"><span>lit1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>id_of</span></span><span> </span><span class="entity"><span>lit2</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>eq_lit</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Term.eq_term</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>t1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>t2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>eq_lit</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Term.eq_term</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>t1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>t2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>eq_lit</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>false</span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>dual_lit</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Term.eq_term</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>t1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>t2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dual_lit</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Neg</span></span><span> </span><span class="entity"><span>t1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>Pos</span></span><span> </span><span class="entity"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Argo_Term.eq_term</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>t1</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>t2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dual_lit</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>false</span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>