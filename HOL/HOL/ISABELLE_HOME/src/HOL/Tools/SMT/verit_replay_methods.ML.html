<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>File ‹Tools/SMT/verit_replay_methods.ML›</title>
</head>


<body>
<div class="head">
<h1>File ‹Tools/SMT/verit_replay_methods.ML›</h1>
</div>

<pre class="source"><span class="comment1"><span>(*  Title:      HOL/Tools/SMT/verit_replay_methods.ML
    Author:     Mathias Fleury, MPII, JKU

Proof method for replaying veriT proofs.
*)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>signature</span></span></span><span> </span><span class="entity"><span>VERIT_REPLAY_METHODS</span></span><span> </span><span class="main"><span>=</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>sig</span></span></span><span>
  </span><span class="comment1"><span>(*methods for verit proof rules*)</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> method_for</span><span class="main"><span>:</span></span><span> </span><span>string</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span class="entity"><span>Proof.context</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>thm</span><span> </span><span>list</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>term</span><span> </span><span>list</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>term</span><span> </span><span>Symtab.table</span><span> </span><span class="main"><span>-&gt;</span></span><span>
     </span><span class="main"><span>(</span></span><span>string</span><span> * </span><span>term</span><span class="main"><span>)</span></span><span> </span><span>list</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>term</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>thm</span><span>

  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> discharge</span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>Proof.context</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>thm</span><span> </span><span>list</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>term</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>thm</span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>;</span></span><span>


</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Verit_Replay_Methods</span></span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>VERIT_REPLAY_METHODS</span></span><span> </span><span class="main"><span>=</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>struct</span></span></span><span>

</span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Lethe_Replay_Methods</span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"bind"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Bind</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"cong"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Cong</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"refl"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Refl</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"equiv1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Equiv1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"equiv2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Equiv2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"equiv_pos1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Equiv_pos1</span></span><span>
   </span><span class="comment1"><span>(*Equiv_pos2 covered below*)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"equiv_neg1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Equiv_neg1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"equiv_neg2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Equiv_neg2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"sko_forall"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Skolem_Forall</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"sko_ex"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Skolem_Ex</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"eq_reflexive"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Eq_Reflexive</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"forall_inst"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Forall_Inst</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"implies_pos"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Implies_Pos</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"or"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Or</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_or"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_Or</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"resolution"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Resolution</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"trans"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Trans</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"false"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>False</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"ac_simp"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>AC_Simp</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"and"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>And</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_and"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_And</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"and_neg"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>And_Neg</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"or_pos"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Or_Pos</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"or_neg"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Or_Neg</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_equiv1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_Equiv1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_equiv2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_Equiv2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_implies1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_Implies1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_implies2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_Implies2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"implies_neg1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Implies_Neg1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"implies_neg2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Implies_Neg2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"implies"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Implies</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"bfun_elim"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Bfun_Elim</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"ite1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ITE1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"ite2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ITE2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_ite1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_ITE1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_ite2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_ITE2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"ite_pos1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ITE_Pos1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"ite_pos2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ITE_Pos2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"ite_neg1"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ITE_Neg1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"ite_neg2"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ITE_Neg2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"la_disequality"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>LA_Disequality</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"lia_generic"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>LIA_Generic</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"la_generic"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>LA_Generic</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"la_tautology"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>LA_Tautology</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"la_totality"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>LA_Totality</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"la_rw_eq"</span></span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>LA_RW_Eq</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"nla_generic"</span></span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>NLA_Generic</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"eq_transitive"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Eq_Transitive</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"qnt_rm_unused"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Qnt_Rm_Unused</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"onepoint"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Onepoint</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"qnt_join"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Qnt_Join</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"subproof"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Subproof</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"bool_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Bool_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"or_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Or_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"ite_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ITE_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"and_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>And_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"not_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Not_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"equiv_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Equiv_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"eq_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Eq_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"implies_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Implies_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"connective_def"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Connective_Def</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"minus_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Minus_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"sum_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Sum_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"prod_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Prod_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"comp_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Comp_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"qnt_simplify"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Qnt_Simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"tautology"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Tautological_Clause</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="inner_quoted"><span>"qnt_cnf"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Qnt_CNF</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.normalized_input_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Normalized_Input</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.local_input_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Local_Input</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.lethe_def</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Definition</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.not_not_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Not_Not</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.contract_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Duplicate_Literals</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.ite_intro_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>ITE_Intro</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.eq_congruent_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Eq_Congruent</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.eq_congruent_pred_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Eq_Congruent_Pred</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.theory_resolution2_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Theory_Resolution2</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.th_resolution_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Theory_Resolution</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.equiv_pos2_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>Equiv_pos2</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Lethe_Proof.and_pos_rule</span></span><span> </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="entity"><span>And_Pos</span></span><span>
     </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>print</span></span><span class="antiquote"><span>}</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"Unsupport rule"</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span> </span><span class="entity"><span>Unsupported</span></span><span class="main"><span>)</span></span><span>


</span><span class="comment1"><span>(* Combining all together *)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>unsupported</span></span><span> </span><span class="entity"><span>rule</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thms</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>SMT_Replay_Methods.replay_error</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="inner_quoted"><span>"Unsupported verit rule"</span></span><span>
  </span><span class="entity"><span>rule</span></span><span> </span><span class="entity"><span>thms</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>f</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thm</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>f</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thm</span></span><span> </span><span class="entity"><span>t</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>ignore_decls</span></span><span> </span><span class="entity"><span>f</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thm</span></span><span> </span><span class="entity"><span>args</span></span><span> </span><span class="entity"><span>insts</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>f</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thm</span></span><span> </span><span class="entity"><span>args</span></span><span> </span><span class="entity"><span>insts</span></span><span> </span><span class="entity"><span>t</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>ignore_insts</span></span><span> </span><span class="entity"><span>f</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thm</span></span><span> </span><span class="entity"><span>args</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>f</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thm</span></span><span> </span><span class="entity"><span>args</span></span><span> </span><span class="entity"><span>t</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>And</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>and_rule</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>And_Neg</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>and_neg_rule</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>And_Pos</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>and_pos</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>And_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_and_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Bind</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_insts</span></span><span> </span><span class="entity"><span>bind</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Bool_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_bool_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Comp_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_comp_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Cong</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>cong</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Connective_Def</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_connective_def</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Duplicate_Literals</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>duplicate_literals</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Eq_Congruent</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>eq_congruent</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Eq_Congruent_Pred</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>eq_congruent_pred</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Eq_Reflexive</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>eq_reflexive</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Eq_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_eq_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Eq_Transitive</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>eq_transitive</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Equiv1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>equiv1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Equiv2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>equiv2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Equiv_neg1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>equiv_neg1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Equiv_neg2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>equiv_neg2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Equiv_pos1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>equiv_pos1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Equiv_pos2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>equiv_pos2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Equiv_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_equiv_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>False</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>false_rule</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Forall_Inst</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_decls</span></span><span> </span><span class="entity"><span>forall_inst</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Implies</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>implies_rules</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Implies_Neg1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>implies_neg1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Implies_Neg2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>implies_neg2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Implies_Pos</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>implies_pos</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Implies_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_implies_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>ITE1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>ite1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>ITE2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>ite2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>ITE_Intro</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>ite_intro</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>ITE_Neg1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>ite_neg1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>ITE_Neg2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>ite_neg2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>ITE_Pos1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>ite_pos1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>ITE_Pos2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>ite_pos2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>ITE_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_ite_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>LA_Disequality</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>la_disequality</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>LA_Generic</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_insts</span></span><span> </span><span class="entity"><span>la_generic</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>LA_RW_Eq</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>la_rw_eq</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>LA_Tautology</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>SMT_Replay_Methods.arith_th_lemma_wo_shallow</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>LA_Totality</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>SMT_Replay_Methods.arith_th_lemma_wo_shallow</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>LIA_Generic</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>lia_generic</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Local_Input</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>refl</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Minus_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_minus_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>NLA_Generic</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>SMT_Replay_Methods.arith_th_lemma_wo_shallow</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Normalized_Input</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>normalized_input</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_And</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_and_rule</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_Equiv1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_equiv1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_Equiv2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_equiv2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_Implies1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_implies1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_Implies2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_implies2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_ITE1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_ite1</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_ITE2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_ite2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_Not</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_not</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_Or</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>not_or_rule</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Not_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_not_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Or</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>or</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Or_Neg</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>or_neg_rule</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Or_Pos</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>or_pos_rule</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Or_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>rewrite_or_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Theory_Resolution2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>theory_resolution2</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Prod_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>prod_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Qnt_Join</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>qnt_join</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Qnt_Rm_Unused</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>qnt_rm_unused</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Onepoint</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>onepoint</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Qnt_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>qnt_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Refl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>refl</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Resolution</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>unit_res</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Skolem_Ex</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>skolem_ex</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Skolem_Forall</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>skolem_forall</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Subproof</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>subproof</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Sum_Simplify</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>sum_simplify</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Tautological_Clause</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>tautological_clause</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Theory_Resolution</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>unit_res</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>AC_Simp</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>tmp_AC_rule</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Bfun_Elim</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>bfun_elim</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Qnt_CNF</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>qnt_cnf</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>Trans</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>ignore_args</span></span><span> </span><span class="entity"><span>trans</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>choose</span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>unsupported</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>string_of_verit_rule</span></span><span> </span><span class="entity"><span>r</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>type</span></span></span><span> </span><span class="entity"><span>verit_method</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Proof.context</span></span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>thm</span><span> </span><span>list</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>term</span><span> </span><span class="main"><span>-&gt;</span></span><span> </span><span>thm</span><span>
</span><span class="keyword1"><span class="keyword"><span>type</span></span></span><span> </span><span class="entity"><span>abs_context</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>int</span><span> * </span><span>term</span><span> </span><span>Termtab.table</span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>with_tracing</span></span><span> </span><span class="entity"><span>rule</span></span><span> </span><span class="entity"><span>method</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thms</span></span><span> </span><span class="entity"><span>args</span></span><span> </span><span class="entity"><span>insts</span></span><span> </span><span class="entity"><span>decls</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>SMT_Replay_Methods.trace_goal</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>rule</span></span><span> </span><span class="entity"><span>thms</span></span><span> </span><span class="entity"><span>t</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="entity"><span>method</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>thms</span></span><span> </span><span class="entity"><span>args</span></span><span> </span><span class="entity"><span>insts</span></span><span> </span><span class="entity"><span>decls</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>method_for</span></span><span> </span><span class="entity"><span>rule</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>with_tracing</span></span><span> </span><span class="entity"><span>rule</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>choose</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>verit_rule_of</span></span><span> </span><span class="entity"><span>rule</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>discharge</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>thm</span></span><span class="main"><span>]</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="entity"><span>SMT_Replay_Methods.prove</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
    </span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>thm</span></span><span class="main"><span>]</span></span><span> </span><span>THEN_ALL_NEW</span><span> </span><span class="main"><span>(</span></span><span>resolve_tac</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="../../../../../HOL.html#HOL.refl|fact"><span>refl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span class="main"><span>;</span></span><span>
</span></pre>
</body>

</html>