<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Transitive_Closure</title>
</head>


<body>
<div class="head">
<h1>Theory Transitive_Closure</h1>
</div>

<pre class="source"><span class="comment1"><span>(</span><span>*</span><span>  Title:      HOL/Transitive_Closure.thy
    Author:     Lawrence C Paulson, Cambridge University Computer Laboratory
    Copyright   1992  University of Cambridge
</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Reflexive and Transitive closure of a relation</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Transitive_Closure.html"><span>Transitive_Closure</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Relation.html"><span>Relation</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>abbrevs</span></span></span><span> </span><span class="quoted"><span>"</span><span>^*</span><span>"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"</span><span><span class="hidden">⇧</span><sup>*</sup></span><span>"</span></span><span> </span><span class="quoted"><span>"</span><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span><span>"</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"</span><span>^+</span><span>"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"</span><span><span class="hidden">⇧</span><sup>+</sup></span><span>"</span></span><span> </span><span class="quoted"><span>"</span><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span><span>"</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span>"</span><span>^=</span><span>"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"</span><span><span class="hidden">⇧</span><sup>=</sup></span><span>"</span></span><span> </span><span class="quoted"><span>"</span><span><span class="hidden">⇧</span><sup>=</sup><span class="hidden">⇧</span><sup>=</sup></span><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML_file</span></span></span><span> </span><span class="quoted"><a href="ISABELLE_HOME/src/Provers/trancl.ML.html"><span>‹</span><span>~~/src/Provers/trancl.ML</span><span>›</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>
  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>rtrancl›</span></span></span><span> is reflexive/transitive closure,
</span><span>  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>trancl›</span></span></span><span> is transitive closure,
</span><span>  </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>reflcl›</span></span></span><span> is reflexive closure.
</span><span>
</span><span>  These postfix operators have </span><span class="antiquoted"><span class="operator"><span>∗</span></span><span class="plain_text"><span>‹</span><span>maximum priority</span><span>›</span></span></span><span>, forcing their
</span><span>  operands to be atomic.</span><span>
</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive.ML.html#Inductive.inductive_internals|attribute"><span class="operator"><span>inductive_internals</span></span></a><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Transitive_Closure.rtrancl.inducts|fact"><span class="entity_def" id="Transitive_Closure.rtrancl.simps|fact"><span class="entity_def" id="Transitive_Closure.rtrancl.induct|fact"><span class="entity_def" id="Transitive_Closure.rtrancl.cases|fact"><span class="entity_def" id="Transitive_Closure.rtrancl.intros|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_rtrancl_eq|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_def|fact"><span class="entity_def" id="Transitive_Closure.rtranclp.inducts|fact"><span class="entity_def" id="Transitive_Closure.rtranclp.simps|fact"><span class="entity_def" id="Transitive_Closure.rtranclp.induct|fact"><span class="entity_def" id="Transitive_Closure.rtranclp.cases|fact"><span class="entity_def" id="Transitive_Closure.rtranclp.intros|fact"><span class="entity_def" id="Transitive_Closure.rtranclp.mono|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_def|fact"><span class="entity_def" id="Transitive_Closure.rtrancl.inducts|thm"><span class="entity_def" id="Transitive_Closure.rtrancl.simps|thm"><span class="entity_def" id="Transitive_Closure.rtrancl.induct|thm"><span class="entity_def" id="Transitive_Closure.rtrancl.cases|thm"><span class="entity_def" id="Transitive_Closure.rtrancl.intros(2)|thm"><span class="entity_def" id="Transitive_Closure.rtrancl.intros(1)|thm"><span class="entity_def" id="Transitive_Closure.rtranclp_rtrancl_eq|thm"><span class="entity_def" id="Transitive_Closure.rtrancl_def|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.inducts|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.simps|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.induct|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.cases|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.intros(2)|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.intros(1)|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.mono|thm"><span class="entity_def" id="Transitive_Closure.rtranclp_def|thm"><span class="entity_def" id="Transitive_Closure.rtrancl_def|axiom"><span class="entity_def" id="Transitive_Closure.rtranclp_def|axiom"><span class="entity_def" id="offset_659..672">inductive_set</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.rtrancl|const"><span class="entity_def" id="Transitive_Closure.rtranclp|const"><span>rtrancl</span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>*</sup></span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="Transitive_Closure.rtrancl.rtrancl_refl|fact"><span class="entity_def" id="Transitive_Closure.rtranclp.rtrancl_refl|fact"><span class="entity_def" id="Transitive_Closure.rtrancl.rtrancl_refl|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.rtrancl_refl|thm"><span>rtrancl_refl</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>Pure.intro</span></span><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span class="free"><span><span class="hidden">⇧</span><sup>*</sup></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl.rtrancl_into_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.rtranclp.rtrancl_into_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.rtrancl.rtrancl_into_rtrancl|thm"><span class="entity_def" id="Transitive_Closure.rtranclp.rtrancl_into_rtrancl|thm"><span>rtrancl_into_rtrancl</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>Pure.intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span class="free"><span><span class="hidden">⇧</span><sup>*</sup></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span class="free"><span><span class="hidden">⇧</span><sup>*</sup></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Transitive_Closure.trancl.inducts|fact"><span class="entity_def" id="Transitive_Closure.trancl.simps|fact"><span class="entity_def" id="Transitive_Closure.trancl.induct|fact"><span class="entity_def" id="Transitive_Closure.trancl.cases|fact"><span class="entity_def" id="Transitive_Closure.trancl.intros|fact"><span class="entity_def" id="Transitive_Closure.tranclp_trancl_eq|fact"><span class="entity_def" id="Transitive_Closure.trancl_def|fact"><span class="entity_def" id="Transitive_Closure.tranclp.inducts|fact"><span class="entity_def" id="Transitive_Closure.tranclp.simps|fact"><span class="entity_def" id="Transitive_Closure.tranclp.induct|fact"><span class="entity_def" id="Transitive_Closure.tranclp.cases|fact"><span class="entity_def" id="Transitive_Closure.tranclp.intros|fact"><span class="entity_def" id="Transitive_Closure.tranclp.mono|fact"><span class="entity_def" id="Transitive_Closure.tranclp_def|fact"><span class="entity_def" id="Transitive_Closure.trancl.inducts|thm"><span class="entity_def" id="Transitive_Closure.trancl.simps|thm"><span class="entity_def" id="Transitive_Closure.trancl.induct|thm"><span class="entity_def" id="Transitive_Closure.trancl.cases|thm"><span class="entity_def" id="Transitive_Closure.trancl.intros(2)|thm"><span class="entity_def" id="Transitive_Closure.trancl.intros(1)|thm"><span class="entity_def" id="Transitive_Closure.tranclp_trancl_eq|thm"><span class="entity_def" id="Transitive_Closure.trancl_def|thm"><span class="entity_def" id="Transitive_Closure.tranclp.inducts|thm"><span class="entity_def" id="Transitive_Closure.tranclp.simps|thm"><span class="entity_def" id="Transitive_Closure.tranclp.induct|thm"><span class="entity_def" id="Transitive_Closure.tranclp.cases|thm"><span class="entity_def" id="Transitive_Closure.tranclp.intros(2)|thm"><span class="entity_def" id="Transitive_Closure.tranclp.intros(1)|thm"><span class="entity_def" id="Transitive_Closure.tranclp.mono|thm"><span class="entity_def" id="Transitive_Closure.tranclp_def|thm"><span class="entity_def" id="Transitive_Closure.trancl_def|axiom"><span class="entity_def" id="Transitive_Closure.tranclp_def|axiom"><span class="entity_def" id="offset_917..930">inductive_set</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.trancl|const"><span class="entity_def" id="Transitive_Closure.tranclp|const"><span>trancl</span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>+</sup></span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="Transitive_Closure.trancl.r_into_trancl|fact"><span class="entity_def" id="Transitive_Closure.tranclp.r_into_trancl|fact"><span class="entity_def" id="Transitive_Closure.trancl.r_into_trancl|thm"><span class="entity_def" id="Transitive_Closure.tranclp.r_into_trancl|thm"><span>r_into_trancl</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>Pure.intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span class="free"><span><span class="hidden">⇧</span><sup>+</sup></span></span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl.trancl_into_trancl|fact"><span class="entity_def" id="Transitive_Closure.tranclp.trancl_into_trancl|fact"><span class="entity_def" id="Transitive_Closure.trancl.trancl_into_trancl|thm"><span class="entity_def" id="Transitive_Closure.tranclp.trancl_into_trancl|thm"><span>trancl_into_trancl</span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>Pure.intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span class="free"><span><span class="hidden">⇧</span><sup>+</sup></span></span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span class="free"><span><span class="hidden">⇧</span><sup>+</sup></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span>rtranclp</span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 1000</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span>tranclp</span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 1000</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#offset_659..672"><span>rtrancl_def</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="HOL.html#HOL.nitpick_unfold|attribute"><span class="operator"><span>nitpick_unfold</span></span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#offset_659..672"><span>rtranclp_def</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="HOL.html#HOL.nitpick_unfold|attribute"><span class="operator"><span>nitpick_unfold</span></span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#offset_917..930"><span>trancl_def</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="HOL.html#HOL.nitpick_unfold|attribute"><span class="operator"><span>nitpick_unfold</span></span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#offset_917..930"><span>tranclp_def</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="HOL.html#HOL.nitpick_unfold|attribute"><span class="operator"><span>nitpick_unfold</span></span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.reflcl|const"><span>reflcl</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>=</sup></span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span class="free"><span><span class="hidden">⇧</span><sup>=</sup></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.reflclp|const"><span>reflclp</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span><span class="hidden">⇧</span><sup>=</sup><span class="hidden">⇧</span><sup>=</sup></span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 1000</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span class="free"><span><span class="hidden">⇧</span><sup>=</sup><span class="hidden">⇧</span><sup>=</sup></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Lattices.html#Lattices.sup_class.sup|const"><span>sup</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>(=)</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><span class="main"><span>(</span></span><span>ASCII</span><span class="main"><span>)</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span>rtrancl</span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span>^*</span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span>^+</span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span>reflcl</span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span>^=</span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span>rtranclp</span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span>^**</span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 1000</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span>tranclp</span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span>^++</span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 1000</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp|const"><span>reflclp</span></a><span>  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword3"><span>(</span></span><span>_</span><span class="keyword1"><span>^==</span></span><span class="keyword3"><span>)</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 1000</span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Reflexive closure</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.refl_reflcl|fact"><span class="entity_def" id="Transitive_Closure.refl_reflcl|thm"><span>refl_reflcl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.refl|const"><span>refl</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.antisym_reflcl|fact"><span class="entity_def" id="Transitive_Closure.antisym_reflcl|thm"><span>antisym_reflcl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.antisym|const"><span>antisym</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.antisym|const"><span>antisym</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.antisym_def|fact"><span>antisym_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trans_reflclI|fact"><span class="entity_def" id="Transitive_Closure.trans_reflclI|thm"><span>trans_reflclI</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.trans_def|fact"><span>trans_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.reflclp_idemp|fact"><span class="entity_def" id="Transitive_Closure.reflclp_idemp|thm"><span>reflclp_idemp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp|const"><span><span class="hidden">⇧</span><sup>=</sup><span class="hidden">⇧</span><sup>=</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp|const"><span><span class="hidden">⇧</span><sup>=</sup><span class="hidden">⇧</span><sup>=</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp|const"><span><span class="hidden">⇧</span><sup>=</sup><span class="hidden">⇧</span><sup>=</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Reflexive-transitive closure</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.reflcl_set_eq|fact"><span class="entity_def" id="Transitive_Closure.reflcl_set_eq|thm"><span>reflcl_set_eq</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.pred_set_conv|attribute"><span class="operator"><span>pred_set_conv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Lattices.html#Lattices.sup_class.sup|const"><span>sup</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>(=)</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.r_into_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.r_into_rtrancl|thm"><span>r_into_rtrancl</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>― ‹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>rtrancl›</span></span></span><span> of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r›</span></span></span><span> contains </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r›</span></span></span><span>›</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Product_Type.html#Product_Type.split_tupled_all|fact"><span>split_tupled_all</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl.rtrancl_refl|fact"><span>rtrancl_refl</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl.rtrancl_into_rtrancl|fact"><span>rtrancl_into_rtrancl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.r_into_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.r_into_rtranclp|thm"><span>r_into_rtranclp</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>― ‹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>rtrancl›</span></span></span><span> of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r›</span></span></span><span> contains </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r›</span></span></span><span>›</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.rtrancl_refl|fact"><span>rtranclp.rtrancl_refl</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.rtrancl_into_rtrancl|fact"><span>rtranclp.rtrancl_into_rtrancl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_mono|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_mono|thm"><span>rtranclp_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>― ‹</span><span>monotonicity of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>rtrancl›</span></span></span><span>›</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Orderings.html#Orderings.predicate2I|fact"><span>predicate2I</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>s</span></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.induct|fact"><span>rtranclp.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.rtrancl_into_rtrancl|fact"><span>rtranclp.rtrancl_into_rtrancl</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.mono_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.mono_rtranclp|thm"><span>mono_rtranclp</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive.ML.html#Inductive.mono|attribute"><span class="operator"><span>mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>y</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
   </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_mono|fact"><span>rtranclp_mono</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_mono|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_mono|thm"><span>rtrancl_mono</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_mono|fact"><span>rtranclp_mono</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_induct|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_induct|thm"><span>rtranclp_induct</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> base step</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|attribute"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>set</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>:</span></span></span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span>rtranclp</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3218..3219">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3241..3246">cases</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_3218..3219"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span class="main"><span>≡</span></span></span><span class="quoted"><span class="free"><span>a</span></span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_3241..3246"><span>cases</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_induct|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_induct|thm"><span>rtrancl_induct</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|attribute"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>set</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span>rtrancl</span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_induct|fact"><span>rtranclp_induct</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_induct2|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_induct2|thm"><span>rtranclp_induct2</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_induct|fact"><span>rtranclp_induct</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>ax</span></span><span class="main"><span>,</span></span><span class="free"><span>ay</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bx</span></span><span class="main"><span>,</span></span><span class="free"><span>by</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/split_rule.ML.html#Product_Type.split_rule|attribute"><span class="operator"><span>split_rule</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> refl step</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_induct2|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_induct2|thm"><span>rtrancl_induct2</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_induct|fact"><span>rtrancl_induct</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>ax</span></span><span class="main"><span>,</span></span><span class="free"><span>ay</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bx</span></span><span class="main"><span>,</span></span><span class="free"><span>by</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/split_rule.ML.html#Product_Type.split_format|attribute"><span class="operator"><span>split_format</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>complete</span></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> refl step</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.refl_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.refl_rtrancl|thm"><span>refl_rtrancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.refl|const"><span>refl</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.refl_on_def|fact"><span>refl_on_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Transitivity of transitive closure.</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trans_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.trans_rtrancl|thm"><span>trans_rtrancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.transI|fact"><span>transI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>z</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>base</span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>step</span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_trans|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_trans|thm"><span>rtrancl_trans</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trans_rtrancl|fact"><span>trans_rtrancl</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.transD|fact"><span>transD</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4134..4139">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_trans|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_trans|thm"><span>rtranclp_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_4134..4139"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclE|fact"><span class="entity_def" id="Transitive_Closure.rtranclE|thm"><span>rtranclE</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|attribute"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>set</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>:</span></span></span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span>rtrancl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4322..4327">major</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span>
    </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4359..4363">base</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4378..4382">step</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>― ‹</span><span>elimination of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>rtrancl›</span></span></span><span> -- by induction on a special formula</span><span>›</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_4322..4327"><span>major</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_induct|fact"><span>rtrancl_induct</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_4359..4363"><span>base</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_4378..4382"><span>step</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_Int_subset|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_Int_subset|thm"><span>rtrancl_Int_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_induct|fact"><span>rtrancl_induct</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtranclp_into_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.converse_rtranclp_into_rtranclp|thm"><span>converse_rtranclp_into_rtranclp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtrancl_into_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.converse_rtrancl_into_rtrancl|thm"><span>converse_rtrancl_into_rtrancl</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclp_into_rtranclp|fact"><span>converse_rtranclp_into_rtranclp</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span class="antiquoted"><span class="operator"><span>┉</span></span></span><span> More </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>›</span></span></span><span> equations and inclusions.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_idemp|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_idemp|thm"><span>rtranclp_idemp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_induct|fact"><span>rtranclp_induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Orderings.html#Orderings.order_class.order_antisym|fact"><span>order_antisym</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_idemp|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_idemp|thm"><span>rtrancl_idemp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_idemp|fact"><span>rtranclp_idemp</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_idemp_self_comp|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_idemp_self_comp|thm"><span>rtrancl_idemp_self_comp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trans|fact"><span>rtrancl_trans</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_subset_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_subset_rtrancl|thm"><span>rtrancl_subset_rtrancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>drule</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_mono|fact"><span>rtrancl_mono</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_subset|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_subset|thm"><span>rtranclp_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_mono|fact"><span>rtranclp_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_subset|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_subset|thm"><span>rtrancl_subset</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_subset|fact"><span>rtranclp_subset</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_sup_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_sup_rtranclp|thm"><span>rtranclp_sup_rtranclp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Lattices.html#Lattices.sup_class.sup|const"><span>sup</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Lattices.html#Lattices.sup_class.sup|const"><span>sup</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_subset|fact"><span>rtranclp_subset</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_mono|fact"><span>rtranclp_mono</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Orderings.html#Orderings.predicate2D|fact"><span>predicate2D</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_Un_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_Un_rtrancl|thm"><span>rtrancl_Un_rtrancl</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_sup_rtranclp|fact"><span>rtranclp_sup_rtranclp</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_reflclp|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_reflclp|thm"><span>rtranclp_reflclp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp|const"><span><span class="hidden">⇧</span><sup>=</sup><span class="hidden">⇧</span><sup>=</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_subset|fact"><span>rtranclp_subset</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_reflcl|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_reflcl|thm"><span>rtrancl_reflcl</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_reflclp|fact"><span>rtranclp_reflclp</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_r_diff_Id|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_r_diff_Id|thm"><span>rtrancl_r_diff_Id</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_subset|fact"><span>rtrancl_subset</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_r_diff_Id|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_r_diff_Id|thm"><span>rtranclp_r_diff_Id</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Lattices.html#Lattices.inf_class.inf|const"><span>inf</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>(≠)</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_subset|fact"><span>rtranclp_subset</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6155..6162">theorem</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_converseD|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_converseD|thm"><span>rtranclp_converseD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_6155..6162"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepD|fact"><span>conversepD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_converseD|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_converseD|thm"><span>rtrancl_converseD</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_converseD|fact"><span>rtranclp_converseD</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6361..6368">theorem</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_converseI|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_converseI|thm"><span>rtranclp_converseI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_6361..6368"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepI|fact"><span>conversepI</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_converseI|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_converseI|thm"><span>rtrancl_converseI</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_converseI|fact"><span>rtranclp_converseI</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_converse|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_converse|thm"><span>rtrancl_converse</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.converse|const"><span>¯</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_converseD|fact"><span>rtrancl_converseD</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_converseI|fact"><span>rtrancl_converseI</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.sym_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.sym_rtrancl|thm"><span>sym_rtrancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.sym|const"><span>sym</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.sym|const"><span>sym</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.sym_conv_converse_eq|fact"><span>sym_conv_converse_eq</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_converse|fact"><span>rtrancl_converse</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtranclp_induct|fact"><span class="entity_def" id="Transitive_Closure.converse_rtranclp_induct|thm"><span>converse_rtranclp_induct</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> base step</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6853..6858">major</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6880..6885">cases</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_converseI|fact"><span>rtranclp_converseI</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_6853..6858"><span>major</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_6880..6885"><span>cases</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepD|fact"><span>conversepD</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_converseD|fact"><span>rtranclp_converseD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtrancl_induct|fact"><span class="entity_def" id="Transitive_Closure.converse_rtrancl_induct|thm"><span>converse_rtrancl_induct</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclp_induct|fact"><span>converse_rtranclp_induct</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtranclp_induct2|fact"><span class="entity_def" id="Transitive_Closure.converse_rtranclp_induct2|thm"><span>converse_rtranclp_induct2</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclp_induct|fact"><span>converse_rtranclp_induct</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>ax</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ay</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bx</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>by</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/split_rule.ML.html#Product_Type.split_rule|attribute"><span class="operator"><span>split_rule</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> refl step</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtrancl_induct2|fact"><span class="entity_def" id="Transitive_Closure.converse_rtrancl_induct2|thm"><span>converse_rtrancl_induct2</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtrancl_induct|fact"><span>converse_rtrancl_induct</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>ax</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ay</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bx</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>by</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/split_rule.ML.html#Product_Type.split_format|attribute"><span class="operator"><span>split_format</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>complete</span></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
    </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> refl step</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtranclpE|fact"><span class="entity_def" id="Transitive_Closure.converse_rtranclpE|thm"><span>converse_rtranclpE</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> base step</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7485..7490">major</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7512..7517">cases</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_7485..7490"><span>major</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclp_induct|fact"><span>converse_rtranclp_induct</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_7512..7517"><span>cases</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtranclE|fact"><span class="entity_def" id="Transitive_Closure.converse_rtranclE|thm"><span>converse_rtranclE</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclpE|fact"><span>converse_rtranclpE</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtranclpE2|fact"><span class="entity_def" id="Transitive_Closure.converse_rtranclpE2|thm"><span>converse_rtranclpE2</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclpE|fact"><span>converse_rtranclpE</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xa</span></span><span class="main"><span>,</span></span><span class="free"><span>xb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>za</span></span><span class="main"><span>,</span></span><span class="free"><span>zb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/split_rule.ML.html#Product_Type.split_rule|attribute"><span class="operator"><span>split_rule</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_rtranclE2|fact"><span class="entity_def" id="Transitive_Closure.converse_rtranclE2|thm"><span>converse_rtranclE2</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclE|fact"><span>converse_rtranclE</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xa</span></span><span class="main"><span>,</span></span><span class="free"><span>xb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>za</span></span><span class="main"><span>,</span></span><span class="free"><span>zb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/split_rule.ML.html#Product_Type.split_rule|attribute"><span class="operator"><span>split_rule</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.r_comp_rtrancl_eq|fact"><span class="entity_def" id="Transitive_Closure.r_comp_rtrancl_eq|thm"><span>r_comp_rtrancl_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclE|fact"><span>rtranclE</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclE|fact"><span>converse_rtranclE</span></a><span>
      </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl.rtrancl_into_rtrancl|fact"><span>rtrancl_into_rtrancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtrancl_into_rtrancl|fact"><span>converse_rtrancl_into_rtrancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_unfold|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_unfold|thm"><span>rtrancl_unfold</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl.rtrancl_into_rtrancl|fact"><span>rtrancl_into_rtrancl</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclE|fact"><span>rtranclE</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_Un_separatorE|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_Un_separatorE|thm"><span>rtrancl_Un_separatorE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl.induct|fact"><span>rtrancl.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>rtrancl_refl</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>rtrancl_into_rtrancl</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trans|fact"><span>rtrancl_trans</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_Un_separator_converseE|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_Un_separator_converseE|thm"><span>rtrancl_Un_separator_converseE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtrancl_induct|fact"><span>converse_rtrancl_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>base</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>step</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trans|fact"><span>rtrancl_trans</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8768..8773">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.Image_closed_trancl|fact"><span class="entity_def" id="Transitive_Closure.Image_closed_trancl|thm"><span>Image_closed_trancl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Relation.html#Relation.Image|const"><span>``</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Relation.html#Relation.Image|const"><span>``</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_8768..8773"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8867..8869">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span class="main"><span>∈</span></span><span class="free"><span>X</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity_def" id="offset_8929..8930">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8951..8952">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_8929..8930"><span>1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>base</span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_8951..8952"><span>2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>step</span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_8867..8869"><span>**</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Transitive closure</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.totalp_on_tranclp|fact"><span class="entity_def" id="Transitive_Closure.totalp_on_tranclp|thm"><span>totalp_on_tranclp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.totalp_on|const"><span>totalp_on</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.totalp_on|const"><span>totalp_on</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span>tranclp</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.totalp_onI|fact"><span>totalp_onI</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.totalp_onD|fact"><span>totalp_onD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.total_on_trancl|fact"><span class="entity_def" id="Transitive_Closure.total_on_trancl|thm"><span>total_on_trancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.total_on|const"><span>total_on</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.total_on|const"><span>total_on</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.totalp_on_tranclp|fact"><span>totalp_on_tranclp</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9421..9426">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_mono|fact"><span class="entity_def" id="Transitive_Closure.trancl_mono|thm"><span>trancl_mono</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl.induct|fact"><span>trancl.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set.html#Set.subsetD|fact"><span>subsetD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_9421..9426"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.r_into_trancl&apos;|fact"><span class="entity_def" id="Transitive_Closure.r_into_trancl&apos;|thm"><span>r_into_trancl'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Product_Type.html#Product_Type.split_tupled_all|fact"><span>split_tupled_all</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl.r_into_trancl|fact"><span>r_into_trancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span class="antiquoted"><span class="operator"><span>┉</span></span></span><span> Conversions between </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>trancl›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>rtrancl›</span></span></span><span>.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_into_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.tranclp_into_rtranclp|thm"><span>tranclp_into_rtranclp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp.induct|fact"><span>tranclp.induct</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_into_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.trancl_into_rtrancl|thm"><span>trancl_into_rtrancl</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_into_rtranclp|fact"><span>tranclp_into_rtranclp</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9974..9979">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_into_tranclp1|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_into_tranclp1|thm"><span>rtranclp_into_tranclp1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_9974..9979"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>c</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_into_trancl1|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_into_trancl1|thm"><span>rtrancl_into_trancl1</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_into_tranclp1|fact"><span>rtranclp_into_tranclp1</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10166..10171">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_into_tranclp2|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_into_tranclp2|thm"><span>rtranclp_into_tranclp2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>― ‹</span><span>intro rule from </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>r›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>rtrancl›</span></span></span><span>›</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.cases|fact"><span>rtranclp.cases</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>rtrancl_refl</span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_10166..10171"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>rtrancl_into_rtrancl</span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_10166..10171"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_into_tranclp1|fact"><span>rtranclp_into_tranclp1</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_into_trancl2|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_into_trancl2|thm"><span>rtrancl_into_trancl2</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_into_tranclp2|fact"><span>rtranclp_into_tranclp2</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Nice induction rule for </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>trancl›</span></span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_induct|fact"><span class="entity_def" id="Transitive_Closure.tranclp_induct|thm"><span>tranclp_induct</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> base step</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|attribute"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>pred</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>:</span></span></span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span>tranclp</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10722..10723">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10745..10750">cases</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_10722..10723"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span class="main"><span>≡</span></span></span><span class="quoted"><span class="free"><span>a</span></span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_10745..10750"><span>cases</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_induct|fact"><span class="entity_def" id="Transitive_Closure.trancl_induct|thm"><span>trancl_induct</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|attribute"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>set</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_induct|fact"><span>tranclp_induct</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_induct2|fact"><span class="entity_def" id="Transitive_Closure.tranclp_induct2|thm"><span>tranclp_induct2</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_induct|fact"><span>tranclp_induct</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>ax</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ay</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bx</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>by</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/split_rule.ML.html#Product_Type.split_rule|attribute"><span class="operator"><span>split_rule</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> base step</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_induct2|fact"><span class="entity_def" id="Transitive_Closure.trancl_induct2|thm"><span>trancl_induct2</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_induct|fact"><span>trancl_induct</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>ax</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ay</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>bx</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>by</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/split_rule.ML.html#Product_Type.split_format|attribute"><span class="operator"><span>split_format</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="quasi_keyword"><span>complete</span></span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span>
    </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> base step</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_trans_induct|fact"><span class="entity_def" id="Transitive_Closure.tranclp_trans_induct|thm"><span>tranclp_trans_induct</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11231..11236">major</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11258..11263">cases</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>― ‹</span><span>Another induction rule for trancl, incorporating transitivity</span><span>›</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_11231..11236"><span>major</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_induct|fact"><span>tranclp_induct</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_11258..11263"><span>cases</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_trans_induct|fact"><span class="entity_def" id="Transitive_Closure.trancl_trans_induct|thm"><span>trancl_trans_induct</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_trans_induct|fact"><span>tranclp_trans_induct</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11544..11549">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclE|fact"><span class="entity_def" id="Transitive_Closure.tranclE|thm"><span>tranclE</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|attribute"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>set</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>:</span></span></span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span>
    </span><span class="main"><span>(</span></span><span>base</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>step</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_11544..11549"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="operator"><span>simp_all</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_Int_subset|fact"><span class="entity_def" id="Transitive_Closure.trancl_Int_subset|thm"><span>trancl_Int_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_induct|fact"><span>trancl_induct</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_unfold|fact"><span class="entity_def" id="Transitive_Closure.trancl_unfold|thm"><span>trancl_unfold</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl.trancl_into_trancl|fact"><span>trancl_into_trancl</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclE|fact"><span>tranclE</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Transitivity of </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>›</span></span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trans_trancl|fact"><span class="entity_def" id="Transitive_Closure.trans_trancl|thm"><span>trans_trancl</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.transI|fact"><span>transI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>z</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>base</span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>step</span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_trans|fact"><span class="entity_def" id="Transitive_Closure.trancl_trans|thm"><span>trancl_trans</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trans_trancl|fact"><span>trans_trancl</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.transD|fact"><span>transD</span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12362..12367">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_trans|fact"><span class="entity_def" id="Transitive_Closure.tranclp_trans|thm"><span>tranclp_trans</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_12362..12367"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_id|fact"><span class="entity_def" id="Transitive_Closure.trancl_id|thm"><span>trancl_id</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.trans|const"><span>trans</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.trans_def|fact"><span>trans_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_induct|fact"><span>trancl_induct</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12596..12601">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_tranclp_tranclp|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_tranclp_tranclp|thm"><span>rtranclp_tranclp_tranclp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_12596..12601"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_trans|fact"><span>tranclp_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_trancl_trancl|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_trancl_trancl|thm"><span>rtrancl_trancl_trancl</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_tranclp_tranclp|fact"><span>rtranclp_tranclp_tranclp</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_into_tranclp2|fact"><span class="entity_def" id="Transitive_Closure.tranclp_into_tranclp2|thm"><span>tranclp_into_tranclp2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_trans|fact"><span>tranclp_trans</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp.r_into_trancl|fact"><span>tranclp.r_into_trancl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_into_trancl2|fact"><span class="entity_def" id="Transitive_Closure.trancl_into_trancl2|thm"><span>trancl_into_trancl2</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_into_tranclp2|fact"><span>tranclp_into_tranclp2</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12986..12991">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_converseI|fact"><span class="entity_def" id="Transitive_Closure.tranclp_converseI|thm"><span>tranclp_converseI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepD|fact"><span>conversepD</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_12986..12991"><span>assms</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_induct|fact"><span>tranclp_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>base</span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepI|fact"><span>conversepI</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>step</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepI|fact"><span>conversepI</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_trans|fact"><span>tranclp_trans</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_converseI|fact"><span class="entity_def" id="Transitive_Closure.trancl_converseI|thm"><span>trancl_converseI</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_converseI|fact"><span>tranclp_converseI</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13347..13352">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_converseD|fact"><span class="entity_def" id="Transitive_Closure.tranclp_converseD|thm"><span>tranclp_converseD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_13347..13352"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_induct|fact"><span>tranclp_induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepD|fact"><span>conversepD</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_trans|fact"><span>tranclp_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepI|fact"><span>conversepI</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_converseD|fact"><span class="entity_def" id="Transitive_Closure.trancl_converseD|thm"><span>trancl_converseD</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_converseD|fact"><span>tranclp_converseD</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_converse|fact"><span class="entity_def" id="Transitive_Closure.tranclp_converse|thm"><span>tranclp_converse</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_converseI|fact"><span>tranclp_converseI</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_converseD|fact"><span>tranclp_converseD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_converse|fact"><span class="entity_def" id="Transitive_Closure.trancl_converse|thm"><span>trancl_converse</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_converse|fact"><span>tranclp_converse</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.sym_trancl|fact"><span class="entity_def" id="Transitive_Closure.sym_trancl|thm"><span>sym_trancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.sym|const"><span>sym</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.sym|const"><span>sym</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.sym_conv_converse_eq|fact"><span>sym_conv_converse_eq</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_converse|fact"><span>trancl_converse</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_tranclp_induct|fact"><span class="entity_def" id="Transitive_Closure.converse_tranclp_induct|thm"><span>converse_tranclp_induct</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>case_names</span></span><span> base step</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14028..14033">major</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14055..14060">cases</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_converseI|fact"><span>tranclp_converseI</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.conversepI|fact"><span>conversepI</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_14028..14033"><span>major</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_induct|fact"><span>tranclp_induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_14055..14060"><span>cases</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_converseD|fact"><span>tranclp_converseD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_trancl_induct|fact"><span class="entity_def" id="Transitive_Closure.converse_trancl_induct|thm"><span>converse_trancl_induct</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_tranclp_induct|fact"><span>converse_tranclp_induct</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclpD|fact"><span class="entity_def" id="Transitive_Closure.tranclpD|thm"><span>tranclpD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>z</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_tranclp_induct|fact"><span>converse_tranclp_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>step</span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclD|fact"><span class="entity_def" id="Transitive_Closure.tranclD|thm"><span>tranclD</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclpD|fact"><span>tranclpD</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_tranclpE|fact"><span class="entity_def" id="Transitive_Closure.converse_tranclpE|thm"><span>converse_tranclpE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14642..14647">major</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span>tranclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14673..14677">base</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14699..14703">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span>tranclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclpD|fact"><span>tranclpD</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_14642..14647"><span>major</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_14782..14788">obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span>rtranclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_14782..14788"><span>this</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.cases|fact"><span>rtranclp.cases</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>rtrancl_refl</span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_14673..14677"><span>base</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>rtrancl_into_rtrancl</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span>tranclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_into_tranclp1|fact"><span>rtranclp_into_tranclp1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_14699..14703"><span>step</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.converse_tranclE|fact"><span class="entity_def" id="Transitive_Closure.converse_tranclE|thm"><span>converse_tranclE</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_tranclpE|fact"><span>converse_tranclpE</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclD2|fact"><span class="entity_def" id="Transitive_Closure.tranclD2|thm"><span>tranclD2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>z</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclE|fact"><span>tranclE</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_into_rtrancl|fact"><span>trancl_into_rtrancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.irrefl_tranclI|fact"><span class="entity_def" id="Transitive_Closure.irrefl_tranclI|thm"><span>irrefl_tranclI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.converse|const"><span>¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclE|fact"><span>tranclE</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_into_rtrancl|fact"><span>trancl_into_rtrancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.irrefl_trancl_rD|fact"><span class="entity_def" id="Transitive_Closure.irrefl_trancl_rD|thm"><span>irrefl_trancl_rD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl.r_into_trancl|fact"><span>r_into_trancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_subset_Sigma_aux|fact"><span class="entity_def" id="Transitive_Closure.trancl_subset_Sigma_aux|thm"><span>trancl_subset_Sigma_aux</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.Times|const"><span>×</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_induct|fact"><span>rtrancl_induct</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15633..15638">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_subset_Sigma|fact"><span class="entity_def" id="Transitive_Closure.trancl_subset_Sigma|thm"><span>trancl_subset_Sigma</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.Times|const"><span>×</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.Times|const"><span>×</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_Int_subset|fact"><span>trancl_Int_subset</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_15633..15638"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.Times|const"><span>×</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.Times|const"><span>×</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_15633..15638"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.reflclp_tranclp|fact"><span class="entity_def" id="Transitive_Closure.reflclp_tranclp|thm"><span>reflclp_tranclp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp|const"><span><span class="hidden">⇧</span><sup>=</sup><span class="hidden">⇧</span><sup>=</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.cases|fact"><span>rtranclp.cases</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_into_rtranclp|fact"><span>tranclp_into_rtranclp</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_into_tranclp1|fact"><span>rtranclp_into_tranclp1</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.reflcl_trancl|fact"><span class="entity_def" id="Transitive_Closure.reflcl_trancl|thm"><span>reflcl_trancl</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp_tranclp|fact"><span>reflclp_tranclp</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_reflcl|fact"><span class="entity_def" id="Transitive_Closure.trancl_reflcl|thm"><span>trancl_reflcl</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_into_rtrancl|fact"><span>trancl_into_rtrancl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16154..16158">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_16154..16158"><span>that</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclE|fact"><span>rtranclE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_16263..16267">step</span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_into_trancl1|fact"><span>rtrancl_into_trancl1</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_16263..16267"><span>step</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_trancl_reflcl|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_trancl_reflcl|thm"><span>rtrancl_trancl_reflcl</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_empty|fact"><span class="entity_def" id="Transitive_Closure.trancl_empty|thm"><span>trancl_empty</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_induct|fact"><span>trancl_induct</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_empty|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_empty|thm"><span>rtrancl_empty</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.subst|fact"><span>subst</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl_trancl|fact"><span>reflcl_trancl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclpD|fact"><span class="entity_def" id="Transitive_Closure.rtranclpD|thm"><span>rtranclpD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp_tranclp|fact"><span>reflclp_tranclp</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflclp_tranclp|fact"><span>reflclp_tranclp</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclD|fact"><span class="entity_def" id="Transitive_Closure.rtranclD|thm"><span>rtranclD</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclpD|fact"><span>rtranclpD</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_eq_or_trancl|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_eq_or_trancl|thm"><span>rtrancl_eq_or_trancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_into_rtrancl|fact"><span>trancl_into_rtrancl</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclD|fact"><span>rtranclD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_unfold_right|fact"><span class="entity_def" id="Transitive_Closure.trancl_unfold_right|thm"><span>trancl_unfold_right</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclD2|fact"><span>tranclD2</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_into_trancl1|fact"><span>rtrancl_into_trancl1</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_unfold_left|fact"><span class="entity_def" id="Transitive_Closure.trancl_unfold_left|thm"><span>trancl_unfold_left</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclD|fact"><span>tranclD</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_into_trancl2|fact"><span>rtrancl_into_trancl2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_insert|fact"><span class="entity_def" id="Transitive_Closure.trancl_insert|thm"><span>trancl_insert</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>― ‹</span><span>primitive recursion for </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>trancl›</span></span></span><span> over finite relations</span><span>›</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span>
           </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_induct|fact"><span>trancl_induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_into_trancl1|fact"><span>rtrancl_into_trancl1</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_into_rtrancl|fact"><span>trancl_into_rtrancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_trans|fact"><span>trancl_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>}</span></span><span>  </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_mono|fact"><span>trancl_mono</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_mono|fact"><span>rtrancl_mono</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span> </span><a class="entity_ref" href="Set.html#Set.rev_subsetD|fact"><span>rev_subsetD</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
                     </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trancl_trancl|fact"><span>rtrancl_trancl_trancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_into_trancl2|fact"><span>rtrancl_into_trancl2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_insert2|fact"><span class="entity_def" id="Transitive_Closure.trancl_insert2|thm"><span>trancl_insert2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_insert|fact"><span>trancl_insert</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_eq_or_trancl|fact"><span>rtrancl_eq_or_trancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_insert|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_insert|thm"><span>rtrancl_insert</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_insert|fact"><span>trancl_insert</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>r</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trancl_reflcl|fact"><span>rtrancl_trancl_reflcl</span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl_trancl|fact"><span>reflcl_trancl</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Simplifying nested closures</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_trancl_absorb|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_trancl_absorb|thm"><span>rtrancl_trancl_absorb</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trans_rtrancl|fact"><span>trans_rtrancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_rtrancl_absorb|fact"><span class="entity_def" id="Transitive_Closure.trancl_rtrancl_absorb|thm"><span>trancl_rtrancl_absorb</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl_trancl|fact"><span>reflcl_trancl</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_reflcl_absorb|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_reflcl_absorb|thm"><span>rtrancl_reflcl_absorb</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl|const"><span><span class="hidden">⇧</span><sup>=</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Domain›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>Range›</span></span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.Domain_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.Domain_rtrancl|thm"><span>Domain_rtrancl</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Domain|const"><span>Domain</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Set.html#Set.UNIV|const"><span>UNIV</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.Range_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.Range_rtrancl|thm"><span>Range_rtrancl</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Set.html#Set.UNIV|const"><span>UNIV</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_Un_subset|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_Un_subset|thm"><span>rtrancl_Un_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_Un_rtrancl|fact"><span>rtrancl_Un_rtrancl</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.subst|fact"><span>subst</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.in_rtrancl_UnI|fact"><span class="entity_def" id="Transitive_Closure.in_rtrancl_UnI|thm"><span>in_rtrancl_UnI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set.html#Set.subsetD|fact"><span>subsetD</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_Un_subset|fact"><span>rtrancl_Un_subset</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_domain|fact"><span class="entity_def" id="Transitive_Closure.trancl_domain|thm"><span>trancl_domain</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Domain|const"><span>Domain</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Domain|const"><span>Domain</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Domain_unfold|fact"><span>Domain_unfold</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclD|fact"><span>tranclD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_range|fact"><span class="entity_def" id="Transitive_Closure.trancl_range|thm"><span>trancl_range</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Range|const"><span>Range</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Domain_converse|fact"><span>Domain_converse</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_converse|fact"><span>trancl_converse</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18968..18973">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.Not_Domain_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.Not_Domain_rtrancl|thm"><span>Not_Domain_rtrancl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Domain|const"><span>Domain</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
</span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_induct|fact"><span>rtrancl_induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_18968..18973"><span>assms</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_subset_Field2|fact"><span class="entity_def" id="Transitive_Closure.trancl_subset_Field2|thm"><span>trancl_subset_Field2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.Times|const"><span>×</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field|const"><span>Field</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_Int_subset|fact"><span>trancl_Int_subset</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Field_def|fact"><span>Field_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.finite_trancl|fact"><span class="entity_def" id="Transitive_Closure.finite_trancl|thm"><span>finite_trancl</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.r_into_trancl&apos;|fact"><span>r_into_trancl'</span></a><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite_subset|fact"><span>finite_subset</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.finite_Field|fact"><span>finite_Field</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_subset_Field2|fact"><span>trancl_subset_Field2</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite_subset|fact"><span>finite_subset</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19533..19538">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.finite_rtrancl_Image|fact"><span class="entity_def" id="Transitive_Closure.finite_rtrancl_Image|thm"><span>finite_rtrancl_Image</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Relation.html#Relation.Image|const"><span>``</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.ccontr|fact"><span>ccontr</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.infinite|const"><span>infinite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Relation.html#Relation.Image|const"><span>``</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_19533..19538"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL.html#HOL.False|const"><span>False</span></a></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trancl_reflcl|fact"><span>rtrancl_trancl_reflcl</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.Un_Image|fact"><span>Un_Image</span></a><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.reflcl_trancl|fact"><span>reflcl_trancl</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>More about converse </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>rtrancl›</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>trancl›</span></span></span><span>, should
</span><span>  be merged with main body.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19858..19863">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.single_valued_confluent|fact"><span class="entity_def" id="Transitive_Closure.single_valued_confluent|thm"><span>single_valued_confluent</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_19921..19923">xy</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_19944..19946">xz</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_19921..19923"><span>xy</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_induct|fact"><span>rtrancl_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>base</span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_19858..19863"><span>assms</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>step</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_19944..19946"><span>xz</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclE|fact"><span>converse_rtranclE</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.single_valuedD|fact"><span>single_valuedD</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trans|fact"><span>rtrancl_trans</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.r_r_into_trancl|fact"><span class="entity_def" id="Transitive_Closure.r_r_into_trancl|thm"><span>r_r_into_trancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_trans|fact"><span>trancl_trans</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_into_trancl|fact"><span class="entity_def" id="Transitive_Closure.trancl_into_trancl|thm"><span>trancl_into_trancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_induct|fact"><span>trancl_induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.r_r_into_trancl|fact"><span>r_r_into_trancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_trans|fact"><span>trancl_trans</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20493..20498">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_rtranclp_tranclp|fact"><span class="entity_def" id="Transitive_Closure.tranclp_rtranclp_tranclp|thm"><span>tranclp_rtranclp_tranclp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>z</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_20493..20498"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL.html#HOL.iprover|method"><span class="operator"><span>iprover</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclpD|fact"><span>tranclpD</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_into_tranclp2|fact"><span>rtranclp_into_tranclp2</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_conversep|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_conversep|thm"><span>rtranclp_conversep</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_converseI|fact"><span>rtranclp_converseI</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_converseD|fact"><span>rtranclp_converseD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symp_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.symp_rtranclp|thm"><span>symp_rtranclp</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.sym_rtrancl|fact"><span>sym_rtrancl</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symp_conv_conversep_eq|fact"><span class="entity_def" id="Transitive_Closure.symp_conv_conversep_eq|thm"><span>symp_conv_conversep_eq</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.sym_conv_converse_eq|fact"><span>sym_conv_converse_eq</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_tranclp_absorb|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_tranclp_absorb|thm"><span>rtranclp_tranclp_absorb</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trancl_absorb|fact"><span>rtrancl_trancl_absorb</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_rtranclp_absorb|fact"><span class="entity_def" id="Transitive_Closure.tranclp_rtranclp_absorb|thm"><span>tranclp_rtranclp_absorb</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_rtrancl_absorb|fact"><span>trancl_rtrancl_absorb</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_reflclp_absorb|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_reflclp_absorb|thm"><span>rtranclp_reflclp_absorb</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_reflcl_absorb|fact"><span>rtrancl_reflcl_absorb</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_rtrancl_trancl|fact"><span class="entity_def" id="Transitive_Closure.trancl_rtrancl_trancl|thm"><span>trancl_rtrancl_trancl</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_rtranclp_tranclp|fact"><span>tranclp_rtranclp_tranclp</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_set|attribute"><span class="operator"><span>to_set</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.transitive_closure_trans|fact"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(9)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(8)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(7)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(6)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(5)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(4)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(3)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(2)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closure_trans(1)|thm"><span>transitive_closure_trans</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>trans</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.r_r_into_trancl|fact"><span>r_r_into_trancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_trans|fact"><span>trancl_trans</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trans|fact"><span>rtrancl_trans</span></a><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl.trancl_into_trancl|fact"><span>trancl.trancl_into_trancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_into_trancl2|fact"><span>trancl_into_trancl2</span></a><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl.rtrancl_into_rtrancl|fact"><span>rtrancl.rtrancl_into_rtrancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtrancl_into_rtrancl|fact"><span>converse_rtrancl_into_rtrancl</span></a><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trancl_trancl|fact"><span>rtrancl_trancl_trancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_rtrancl_trancl|fact"><span>trancl_rtrancl_trancl</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;|fact"><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;(8)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;(7)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;(6)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;(5)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;(4)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;(3)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;(2)|thm"><span class="entity_def" id="Transitive_Closure.transitive_closurep_trans&apos;(1)|thm"><span>transitive_closurep_trans'</span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>trans</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_trans|fact"><span>tranclp_trans</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp.trancl_into_trancl|fact"><span>tranclp.trancl_into_trancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_into_tranclp2|fact"><span>tranclp_into_tranclp2</span></a><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.rtrancl_into_rtrancl|fact"><span>rtranclp.rtrancl_into_rtrancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.converse_rtranclp_into_rtranclp|fact"><span>converse_rtranclp_into_rtranclp</span></a><span>
  </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_tranclp_tranclp|fact"><span>rtranclp_tranclp_tranclp</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_rtranclp_tranclp|fact"><span>tranclp_rtranclp_tranclp</span></a><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_into_rtrancl|fact"><span>trancl_into_rtrancl</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Symmetric closure</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Transitive_Closure.symclp_def|fact"><span class="entity_def" id="Transitive_Closure.symclp_def|thm"><span class="entity_def" id="Transitive_Closure.symclp_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.symclp|const"><span>symclp</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>symclp</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>y</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symclpI|fact"><span class="entity_def" id="Transitive_Closure.symclpI(2)|thm"><span class="entity_def" id="Transitive_Closure.symclpI(1)|thm"><span>symclpI</span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>?</span></span></span></span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symclpI1|fact"><span class="entity_def" id="Transitive_Closure.symclpI1|thm"><span>symclpI1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symclpI2|fact"><span class="entity_def" id="Transitive_Closure.symclpI2|thm"><span>symclpI2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp_def|fact"><span>symclp_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22055..22060">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symclpE|fact"><span class="entity_def" id="Transitive_Closure.symclpE|thm"><span>symclpE</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|attribute"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>pred</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="main"><span>(</span></span><span>base</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>sym</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_22055..22060"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp_def|fact"><span>symclp_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symclp_pointfree|fact"><span class="entity_def" id="Transitive_Closure.symclp_pointfree|thm"><span>symclp_pointfree</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Lattices.html#Lattices.sup_class.sup|const"><span>sup</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp_def|fact"><span>symclp_def</span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symclp_greater|fact"><span class="entity_def" id="Transitive_Closure.symclp_greater|thm"><span>symclp_greater</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp_pointfree|fact"><span>symclp_pointfree</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symclp_conversep|fact"><span class="entity_def" id="Transitive_Closure.symclp_conversep|thm"><span>symclp_conversep</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp_pointfree|fact"><span>symclp_pointfree</span></a><span> </span><a class="entity_ref" href="Lattices.html#Lattices.semilattice_sup_class.sup.commute|fact"><span>sup.commute</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symp_symclp|fact"><span class="entity_def" id="Transitive_Closure.symp_symclp|thm"><span>symp_symclp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.symp|const"><span>symp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.symp_def|fact"><span>symp_def</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclpE|fact"><span>symclpE</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclpI|fact"><span>symclpI</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symp_symclp_eq|fact"><span class="entity_def" id="Transitive_Closure.symp_symclp_eq|thm"><span>symp_symclp_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.symp|const"><span>symp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp_pointfree|fact"><span>symclp_pointfree</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symp_conv_conversep_eq|fact"><span>symp_conv_conversep_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symp_rtranclp_symclp|fact"><span class="entity_def" id="Transitive_Closure.symp_rtranclp_symclp|thm"><span>symp_rtranclp_symclp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.symp|const"><span>symp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symp_rtranclp|fact"><span>symp_rtranclp</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_symclp_sym|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_symclp_sym|thm"><span>rtranclp_symclp_sym</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>sym</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.sympD|fact"><span>sympD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symp_rtranclp_symclp|fact"><span>symp_rtranclp_symclp</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.symclp_idem|fact"><span class="entity_def" id="Transitive_Closure.symclp_idem|thm"><span>symclp_idem</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp|const"><span>symclp</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.symclp_pointfree|fact"><span>symclp_pointfree</span></a><span> </span><a class="entity_ref" href="Lattices.html#Lattices.semilattice_sup_class.sup_commute|fact"><span>sup_commute</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.converse_join|fact"><span>converse_join</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.reflp_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.reflp_rtranclp|thm"><span>reflp_rtranclp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.reflp|const"><span>reflp</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.refl_rtrancl|fact"><span>refl_rtrancl</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>R</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.reflp_refl_eq|fact"><span>reflp_refl_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>The power operation on relations</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>R ^^ n = R O … O R›</span></span></span><span>, the n-fold composition of </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>R›</span></span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>overloading</span></span></span><span>
  relpow </span><span class="main"><span>≡</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Nat.html#Nat.compow|const"><span>compow</span></a><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  relpowp </span><span class="main"><span>≡</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Nat.html#Nat.compow|const"><span>compow</span></a><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Transitive_Closure.relpow.simps|fact"><span class="entity_def" id="Transitive_Closure.relpow_def|fact"><span class="entity_def" id="Transitive_Closure.relpow.simps(2)|thm"><span class="entity_def" id="Transitive_Closure.relpow.simps(1)|thm"><span class="entity_def" id="Transitive_Closure.relpow_def|thm"><span class="entity_def" id="Transitive_Closure.relpow_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span>relpow</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relpow</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relpow</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Transitive_Closure.relpowp.simps|fact"><span class="entity_def" id="Transitive_Closure.relpowp_def|fact"><span class="entity_def" id="Transitive_Closure.relpowp.simps(2)|thm"><span class="entity_def" id="Transitive_Closure.relpowp.simps(1)|thm"><span class="entity_def" id="Transitive_Closure.relpowp_def|thm"><span class="entity_def" id="Transitive_Closure.relpowp_def|axiom"><span>primrec</span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span>relpowp</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relpowp</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>HOL.eq</span></a><span>"</span></span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relpowp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcompp|const"><span>OO</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_relpow_eq|fact"><span class="entity_def" id="Transitive_Closure.relpowp_relpow_eq|thm"><span>relpowp_relpow_eq</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.pred_set_conv|attribute"><span class="operator"><span>pred_set_conv</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.rel|type"><span>rel</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.relcompp_relcomp_eq|fact"><span>relcompp_relcomp_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>For code generation:</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.relpow|const"><span>relpow</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_code_def|fact"><span class="entity_def" id="Transitive_Closure.relpow_code_def|thm"><span class="entity_def" id="Transitive_Closure.relpow_code_def_raw|axiom"><span>relpow_code_def</span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/Code/code_preproc.ML.html#Code_Generator.code_abbrev|attribute"><span class="operator"><span>code_abbrev</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relpow</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.compow|const"><span>compow</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>definition</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.relpowp|const"><span>relpowp</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_code_def|fact"><span class="entity_def" id="Transitive_Closure.relpowp_code_def|thm"><span class="entity_def" id="Transitive_Closure.relpowp_code_def_raw|axiom"><span>relpowp_code_def</span></span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/Code/code_preproc.ML.html#Code_Generator.code_abbrev|attribute"><span class="operator"><span>code_abbrev</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relpowp</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.compow|const"><span>compow</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow|const"><span>relpow</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow|const"><span>relpow</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow|const"><span>relpow</span></a><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_code_def|fact"><span>relpow_code_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpowp|const"><span>relpowp</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcompp|const"><span>OO</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpowp|const"><span>relpowp</span></a><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>HOL.eq</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpowp_code_def|fact"><span>relpowp_code_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>hide_const</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>open</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow|const"><span>relpow</span></a><span>
</span><span class="keyword1"><span class="command"><span>hide_const</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>open</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpowp|const"><span>relpowp</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_1|fact"><span class="entity_def" id="Transitive_Closure.relpow_1|thm"><span>relpow_1</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_1|fact"><span class="entity_def" id="Transitive_Closure.relpowp_1|thm"><span>relpowp_1</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_1|fact"><span>relpow_1</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_0_I|fact"><span class="entity_def" id="Transitive_Closure.relpow_0_I|thm"><span>relpow_0_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_0_I|fact"><span class="entity_def" id="Transitive_Closure.relpowp_0_I|thm"><span>relpowp_0_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_0_I|fact"><span>relpow_0_I</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_Suc_I|fact"><span class="entity_def" id="Transitive_Closure.relpow_Suc_I|thm"><span>relpow_Suc_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span>  </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_Suc_I|fact"><span class="entity_def" id="Transitive_Closure.relpowp_Suc_I|thm"><span>relpowp_Suc_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_I|fact"><span>relpow_Suc_I</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_Suc_I2|fact"><span class="entity_def" id="Transitive_Closure.relpow_Suc_I2|thm"><span>relpow_Suc_I2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>z</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_Suc_I2|fact"><span class="entity_def" id="Transitive_Closure.relpowp_Suc_I2|thm"><span>relpowp_Suc_I2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_I2|fact"><span>relpow_Suc_I2</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_0_E|fact"><span class="entity_def" id="Transitive_Closure.relpow_0_E|thm"><span>relpow_0_E</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_0_E|fact"><span class="entity_def" id="Transitive_Closure.relpowp_0_E|thm"><span>relpowp_0_E</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_0_E|fact"><span>relpow_0_E</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_Suc_E|fact"><span class="entity_def" id="Transitive_Closure.relpow_Suc_E|thm"><span>relpow_Suc_E</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_Suc_E|fact"><span class="entity_def" id="Transitive_Closure.relpowp_Suc_E|thm"><span>relpowp_Suc_E</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_E|fact"><span>relpow_Suc_E</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_E|fact"><span class="entity_def" id="Transitive_Closure.relpow_E|thm"><span>relpow_E</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span>  </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span>  </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_E|fact"><span class="entity_def" id="Transitive_Closure.relpowp_E|thm"><span>relpowp_E</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_E|fact"><span>relpow_E</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_Suc_D2|fact"><span class="entity_def" id="Transitive_Closure.relpow_Suc_D2|thm"><span>relpow_Suc_D2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>z</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_0_I|fact"><span>relpow_0_I</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_I|fact"><span>relpow_Suc_I</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_0_E|fact"><span>relpow_0_E</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_E|fact"><span>relpow_Suc_E</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_Suc_D2|fact"><span class="entity_def" id="Transitive_Closure.relpowp_Suc_D2|thm"><span>relpowp_Suc_D2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_D2|fact"><span>relpow_Suc_D2</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_Suc_E2|fact"><span class="entity_def" id="Transitive_Closure.relpow_Suc_E2|thm"><span>relpow_Suc_E2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_D2|fact"><span>relpow_Suc_D2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_Suc_E2|fact"><span class="entity_def" id="Transitive_Closure.relpowp_Suc_E2|thm"><span>relpowp_Suc_E2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_E2|fact"><span>relpow_Suc_E2</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_Suc_D2&apos;|fact"><span class="entity_def" id="Transitive_Closure.relpow_Suc_D2&apos;|thm"><span>relpow_Suc_D2'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>w</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>w</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_Suc_D2&apos;|fact"><span class="entity_def" id="Transitive_Closure.relpowp_Suc_D2&apos;|thm"><span>relpowp_Suc_D2'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>w</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>w</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_D2&apos;|fact"><span>relpow_Suc_D2'</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_26497..26502">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_E2|fact"><span class="entity_def" id="Transitive_Closure.relpow_E2|thm"><span>relpow_E2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_26497..26502"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_26497..26502"><span>assms</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_D2&apos;|fact"><span>relpow_Suc_D2'</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span> </span><span class="quoted"><span class="free"><span>R</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_E2|fact"><span class="entity_def" id="Transitive_Closure.relpowp_E2|thm"><span>relpowp_E2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_E2|fact"><span>relpow_E2</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_add|fact"><span class="entity_def" id="Transitive_Closure.relpow_add|thm"><span>relpow_add</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_add|fact"><span class="entity_def" id="Transitive_Closure.relpowp_add|thm"><span>relpowp_add</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcompp|const"><span>OO</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_add|fact"><span>relpow_add</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_commute|fact"><span class="entity_def" id="Transitive_Closure.relpow_commute|thm"><span>relpow_commute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.O_assoc|fact"><span>O_assoc</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_commute|fact"><span class="entity_def" id="Transitive_Closure.relpowp_commute|thm"><span>relpowp_commute</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcompp|const"><span>OO</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcompp|const"><span>OO</span></a></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_commute|fact"><span>relpow_commute</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_empty|fact"><span class="entity_def" id="Transitive_Closure.relpow_empty|thm"><span>relpow_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_bot|fact"><span class="entity_def" id="Transitive_Closure.relpowp_bot|thm"><span>relpowp_bot</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.bot_class.bot|const"><span>⊥</span></a></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.bot_class.bot|const"><span>⊥</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_empty|fact"><span>relpow_empty</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27466..27471">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_imp_UN_relpow|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_imp_UN_relpow|thm"><span>rtrancl_imp_UN_relpow</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_27566..27570">Pair</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_27466..27471"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>base</span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_0_I|fact"><span>relpow_0_I</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>step</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_I|fact"><span>relpow_Suc_I</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_27566..27570"><span>Pair</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27842..27847">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_imp_Sup_relpowp|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_imp_Sup_relpowp|thm"><span>rtranclp_imp_Sup_relpowp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⨆</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_27842..27847"><span>assms</span></a><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_imp_UN_relpow|fact"><span>rtrancl_imp_UN_relpow</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27997..28002">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_imp_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.relpow_imp_rtrancl|thm"><span>relpow_imp_rtrancl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_28088..28092">Pair</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_27997..28002"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>y</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Suc</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_E|fact"><span>relpow_Suc_E</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl.rtrancl_into_rtrancl|fact"><span>rtrancl_into_rtrancl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_28088..28092"><span>Pair</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_imp_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.relpowp_imp_rtranclp|thm"><span>relpowp_imp_rtranclp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_imp_rtrancl|fact"><span>relpow_imp_rtrancl</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_is_UN_relpow|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_is_UN_relpow|thm"><span>rtrancl_is_UN_relpow</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_imp_UN_relpow|fact"><span>rtrancl_imp_UN_relpow</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_imp_rtrancl|fact"><span>relpow_imp_rtrancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_is_Sup_relpowp|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_is_Sup_relpowp|thm"><span>rtranclp_is_Sup_relpowp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⨆</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_is_UN_relpow|fact"><span>rtrancl_is_UN_relpow</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_power|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_power|thm"><span>rtrancl_power</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_is_UN_relpow|fact"><span>rtrancl_is_UN_relpow</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_power|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_power|thm"><span>rtranclp_power</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_is_Sup_relpowp|fact"><span>rtranclp_is_Sup_relpowp</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_power|fact"><span class="entity_def" id="Transitive_Closure.trancl_power|thm"><span>trancl_power</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span class="bound"><span>n</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span class="bound"><span>n</span></span></span><span class="main"><span>&gt;</span></span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span class="bound"><span>n</span></span></span><span class="main"><span>&gt;</span></span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_is_UN_relpow|fact"><span>rtrancl_is_UN_relpow</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.relcomp_unfold|fact"><span>relcomp_unfold</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclD2|fact"><span>tranclD2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_29173..29177">show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>n</span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_29173..29177"><span>that</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_imp_rtrancl|fact"><span>relpow_imp_rtrancl</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_into_trancl1|fact"><span>rtrancl_into_trancl1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_29173..29177"><span>that</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp_power|fact"><span class="entity_def" id="Transitive_Closure.tranclp_power|thm"><span>tranclp_power</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span><span class="hidden">⇧</span><sup>+</sup><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span class="bound"><span>n</span></span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_power|fact"><span>trancl_power</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_imp_relpow|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_imp_relpow|thm"><span>rtrancl_imp_relpow</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_imp_UN_relpow|fact"><span>rtrancl_imp_UN_relpow</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp_imp_relpowp|fact"><span class="entity_def" id="Transitive_Closure.rtranclp_imp_relpowp|thm"><span>rtranclp_imp_relpowp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_imp_Sup_relpowp|fact"><span>rtranclp_imp_Sup_relpowp</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>By Sternagel/Thiemann:</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_fun_conv|fact"><span class="entity_def" id="Transitive_Closure.relpow_fun_conv|thm"><span>relpow_fun_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_29961..29964">Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><span class="skolem"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span>
      </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?l</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="var"><span>?r</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?l</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>c</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_30228..30229">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>c</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>m</span></span><span>"</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?r</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span class="quoted"><span class="var"><span class="quoted"><span class="var"><span>?g</span></span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_30228..30229"><span>1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?r</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_30470..30471">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?l</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span class="skolem"><span class="skolem"><span>f</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>n</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>f</span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_30470..30471"><span>1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.relcomp_unfold|fact"><span>relcomp_unfold</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_29961..29964"><span>Suc</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpowp_fun_conv|fact"><span class="entity_def" id="Transitive_Closure.relpowp_fun_conv|thm"><span>relpowp_fun_conv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fact</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_fun_conv|fact"><span>relpow_fun_conv</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_30853..30858">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_finite_bounded1|fact"><span class="entity_def" id="Transitive_Closure.relpow_finite_bounded1|thm"><span>relpow_finite_bounded1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>n</span></span><span class="main"><span>∈</span></span><span class="main"><span>{</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="var"><span>?r</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="bound"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>k</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>k</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_31144..31145">0</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card_0_eq|fact"><span>card_0_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.greater_eq|const"><span>≥</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_31144..31145"><span>0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_31295..31298">Suc</span><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_31295..31298"><span>Suc</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>n</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>a'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="skolem"><span>n</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>a'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>1</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc_leI|fact"><span>Suc_leI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>2</span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_fun_conv|fact"><span>relpow_fun_conv</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_31933..31938">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?p</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?N</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_32054..32058">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="var"><span>?N</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_31933..31938"><span>steps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card_mono|fact"><span>card_mono</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_30853..30858"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32054..32058"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?p</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="var"><span>?N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>…</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="var"><span>?N</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="var"><span>?p</span></span><span> </span><span class="var"><span>?N</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.pigeonhole|fact"><span>pigeonhole</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_32331..32332">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32346..32347">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32361..32363">ij</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32377..32380">pij</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?p</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?i</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?j</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Orderings.html#Orderings.ord_class.max|const"><span>max</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_32492..32493">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32508..32509">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?j</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32524..32527">pij</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span> </span><span class="var"><span>?i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?p</span></span><span> </span><span class="var"><span>?j</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32549..32551">ij</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="var"><span>?j</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32331..32332"><span>i</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32346..32347"><span>j</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32361..32363"><span>ij</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32377..32380"><span>pij</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Orderings.html#Orderings.ord_class.min_def|fact"><span>min_def</span></a><span> </span><a class="entity_ref" href="Orderings.html#Orderings.ord_class.max_def|fact"><span>max_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32492..32493"><span>i</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32508..32509"><span>j</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32524..32527"><span>pij</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32549..32551"><span>ij</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_32661..32662">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32676..32677">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32691..32693">ij</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32715..32718">pij</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?p</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?g</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?n</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>abl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="var"><span>?n</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_fun_conv|fact"><span>relpow_fun_conv</span></a><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span class="quoted"><span class="var"><span>?g</span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.conjI|fact"><span>conjI</span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.impI|fact"><span>impI</span></a><span> </span><a class="entity_ref" href="HOL.html#HOL.allI|fact"><span>allI</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?g</span></span><span> </span><span class="var"><span>?n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>f</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>b</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32676..32677"><span>j</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32691..32693"><span>ij</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>k</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="var"><span>?n</span></span><span>"</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="var"><span>?g</span></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="var"><span>?g</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_33171..33175">True</span><span>
          </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32661..32662"><span>i</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33193..33197">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_31933..31938"><span>steps</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_33193..33197"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_33171..33175"><span>True</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32691..32693"><span>ij</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32715..32718"><span>pij</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_31933..31938"><span>steps</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32661..32662"><span>i</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
            </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_33630..33635">small</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="var"><span>?n</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/arith_data.ML.html#Rings.arith|method"><span class="operator"><span>arith</span></span></a><span>
            </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_31933..31938"><span>steps</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_33630..33635"><span>small</span></a><span class="main"><span>]</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i</span></span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span class="skolem"><span>k</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>a</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32661..32662"><span>i</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32676..32677"><span>j</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_32691..32693"><span>ij</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/arith_data.ML.html#Rings.arith|method"><span class="operator"><span>arith</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Nat.html#Nat.gr0_implies_Suc|fact"><span>gr0_implies_Suc</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34034..34039">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.relpow_finite_bounded|fact"><span class="entity_def" id="Transitive_Closure.relpow_finite_bounded|thm"><span>relpow_finite_bounded</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>n</span></span><span class="main"><span>∈</span></span><span class="main"><span>{</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>k'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_finite_bounded1|fact"><span>relpow_finite_bounded1</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_34034..34039"><span>assms</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl_finite_eq_relpow|fact"><span class="entity_def" id="Transitive_Closure.rtrancl_finite_eq_relpow|thm"><span>rtrancl_finite_eq_relpow</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>n</span></span><span class="main"><span>∈</span></span><span class="main"><span>{</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_power|fact"><span>rtrancl_power</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_finite_bounded|fact"><span>relpow_finite_bounded</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34421..34426">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl_finite_eq_relpow|fact"><span class="entity_def" id="Transitive_Closure.trancl_finite_eq_relpow|thm"><span>trancl_finite_eq_relpow</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>n</span></span><span class="main"><span>∈</span></span><span class="main"><span>{</span></span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>;</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∃</span></span><span class="bound"><span class="bound"><span>x</span></span></span><span class="main"><span>&gt;</span></span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_34421..34426"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_finite_bounded1|fact"><span>relpow_finite_bounded1</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_power|fact"><span>trancl_power</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34722..34727">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.finite_relcomp|fact"><span class="entity_def" id="Transitive_Closure.finite_relcomp|thm"><span>finite_relcomp</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>∈</span></span><span class="free"><span>R</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⋃</span></span><span class="main"><span>(</span></span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>∈</span></span><span class="free"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Product_Type.html#Product_Type.split_def|fact"><span>split_def</span></a><span> </span><a class="entity_ref" href="Set.html#Set.image_constant_conv|fact"><span>image_constant_conv</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_34722..34727"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_35017..35022">lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.finite_relpow|fact"><span class="entity_def" id="Transitive_Closure.finite_relpow|thm"><span>finite_relpow</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_35017..35022"><span>assms</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.single_valued_relpow|fact"><span class="entity_def" id="Transitive_Closure.single_valued_relpow|thm"><span>single_valued_relpow</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.single_valued|const"><span>single_valued</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>R</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_35452..35455">Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.single_valuedI|fact"><span>single_valuedI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_35452..35455"><span>Suc</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="quoted"><span>‹</span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/classical.ML.html#HOL.fast|method"><span class="operator"><span>fast</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.single_valuedD|fact"><span>single_valuedD</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_Suc_E|fact"><span>relpow_Suc_E</span></a><span>›</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Bounded transitive closure</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Transitive_Closure.ntrancl_def|fact"><span class="entity_def" id="Transitive_Closure.ntrancl_def|thm"><span class="entity_def" id="Transitive_Closure.ntrancl_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.ntrancl|const"><span>ntrancl</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ntrancl</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>i</span></span><span class="main"><span>∈</span></span><span class="main"><span>{</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.ntrancl_Zero|fact"><span class="entity_def" id="Transitive_Closure.ntrancl_Zero|thm"><span>ntrancl_Zero</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl_def|fact"><span>ntrancl_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl_def|fact"><span>ntrancl_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.ntrancl_Suc|fact"><span class="entity_def" id="Transitive_Closure.ntrancl_Suc|thm"><span>ntrancl_Suc</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_36057..36061">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_36057..36061"><span>that</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl_def|fact"><span>ntrancl_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="skolem"><span>i</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl_def|fact"><span>ntrancl_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>i</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_36452..36453">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="skolem"><span>i</span></span><span>›</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>c</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_36545..36547">c1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Nat.html#Nat.compower|const"><span>^^</span></a></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_36571..36573">c2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_36545..36547"><span>c1</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_36452..36453"><span>j</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl_def|fact"><span>ntrancl_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_36571..36573"><span>c2</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Relation.html#Relation.Id|const"><span>Id</span></a><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl_def|fact"><span>ntrancl_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="bound"><span>r'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Relation.html#Relation.relcomp|const"><span>O</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.finite_trancl_ntranl|fact"><span class="entity_def" id="Transitive_Closure.finite_trancl_ntranl|thm"><span>finite_trancl_ntranl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl|const"><span>ntrancl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>R</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_finite_eq_relpow|fact"><span>trancl_finite_eq_relpow</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.relpow_empty|fact"><span>relpow_empty</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.ntrancl_def|fact"><span>ntrancl_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Acyclic relations</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Transitive_Closure.acyclic_def|fact"><span class="entity_def" id="Transitive_Closure.acyclic_def|thm"><span class="entity_def" id="Transitive_Closure.acyclic_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.acyclic|const"><span>acyclic</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>acyclic</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Transitive_Closure.acyclicP|const"><span>acyclicP</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>acyclicP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.acyclic_irrefl|fact"><span class="entity_def" id="Transitive_Closure.acyclic_irrefl|thm"><span>acyclic_irrefl</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Relation.html#Relation.irrefl|const"><span>irrefl</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic_def|fact"><span>acyclic_def</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.irrefl_def|fact"><span>irrefl_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.acyclicI|fact"><span class="entity_def" id="Transitive_Closure.acyclicI|thm"><span>acyclicI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic_def|fact"><span>acyclic_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Orderings.html#Orderings.preorder|locale"><span>preorder</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Transitive_Closure.preorder_class.acyclicI_order|fact"><span class="entity_def" id="Transitive_Closure.preorder.acyclicI_order|fact"><span class="entity_def" id="Transitive_Closure.preorder_class.acyclicI_order|thm"><span class="entity_def" id="Transitive_Closure.preorder.acyclicI_order|thm"><span>acyclicI_order</span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_37623..37624">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_37687..37691">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span><span class="hidden">⇧</span><sup>+</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_37687..37691"><span>that</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#offset_37623..37624"><span>*</span></a><span> </span><span>less_trans</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclicI|fact"><span>acyclicI</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.acyclic_insert|fact"><span class="entity_def" id="Transitive_Closure.acyclic_insert|thm"><span>acyclic_insert</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic_def|fact"><span>acyclic_def</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_insert|fact"><span>trancl_insert</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trans|fact"><span>rtrancl_trans</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.acyclic_converse|fact"><span class="entity_def" id="Transitive_Closure.acyclic_converse|thm"><span>acyclic_converse</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Relation.html#Relation.converse|const"><span>¯</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic_def|fact"><span>acyclic_def</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_converse|fact"><span>trancl_converse</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.acyclicP_converse|fact"><span class="entity_def" id="Transitive_Closure.acyclicP_converse|thm"><span>acyclicP_converse</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic_converse|fact"><span>acyclic_converse</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Tools/inductive_set.ML.html#Product_Type.to_pred|attribute"><span class="operator"><span>to_pred</span></span></a><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.acyclic_impl_antisym_rtrancl|fact"><span class="entity_def" id="Transitive_Closure.acyclic_impl_antisym_rtrancl|thm"><span>acyclic_impl_antisym_rtrancl</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.antisym|const"><span>antisym</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span><span class="hidden">⇧</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic_def|fact"><span>acyclic_def</span></a><span> </span><a class="entity_ref" href="Relation.html#Relation.antisym_def|fact"><span>antisym_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclE|fact"><span>rtranclE</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_into_trancl1|fact"><span>rtrancl_into_trancl1</span></a><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trancl_trancl|fact"><span>rtrancl_trancl_trancl</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> Other direction:
acyclic = no loops
antisym = only self loops
Goalw [acyclic_def,antisym_def] "antisym( r<span class="hidden">⇧</span><sup>*</sup> ) ⟹ acyclic(r - Id)
⟹ antisym( r<span class="hidden">⇧</span><sup>*</sup> ) = acyclic(r - Id)";
</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.acyclic_subset|fact"><span class="entity_def" id="Transitive_Closure.acyclic_subset|thm"><span>acyclic_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic|const"><span>acyclic</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.acyclic_def|fact"><span>acyclic_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_mono|fact"><span>trancl_mono</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Setup of transitivity reasoner</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>‹</span><span>
</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Trancl_Tac</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Trancl_Tac</span></span><span>
</span><span class="main"><span>(</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>r_into_trancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl.r_into_trancl|fact"><span>trancl.r_into_trancl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>trancl_trans</span></span><span>  </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_trans|fact"><span>trancl_trans</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>rtrancl_refl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl.rtrancl_refl|fact"><span>rtrancl.rtrancl_refl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>r_into_rtrancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.r_into_rtrancl|fact"><span>r_into_rtrancl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>trancl_into_rtrancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_into_rtrancl|fact"><span>trancl_into_rtrancl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>rtrancl_trancl_trancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trancl_trancl|fact"><span>rtrancl_trancl_trancl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>trancl_rtrancl_trancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl_rtrancl_trancl|fact"><span>trancl_rtrancl_trancl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>rtrancl_trans</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl_trans|fact"><span>rtrancl_trans</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>

  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decomp</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>t</span></span><span>›</span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
          </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>dec</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Set.html#Set.member|const"><span>Set.member</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="quoted"><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Product_Type.html#Product_Type.Pair|const"><span>Pair</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>a</span></span><span> </span><span class="entity"><span>b</span></span><span>›</span></span></span><span> </span><span class="entity"><span>rel</span></span><span>›</span></span><span> </span><span class="main"><span>=</span></span><span>
              </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
                </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decr</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtrancl|const"><span>rtrancl</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>r</span></span><span>›</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>r</span></span><span class="main"><span>,</span></span><span class="inner_quoted"><span>"r*"</span></span><span class="main"><span>)</span></span><span>
                  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decr</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>r</span></span><span>›</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>r</span></span><span class="main"><span>,</span></span><span class="inner_quoted"><span>"r+"</span></span><span class="main"><span>)</span></span><span>
                  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decr</span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>r</span></span><span class="main"><span>,</span></span><span class="inner_quoted"><span>"r"</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
                </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>rel</span></span><span class="main"><span>,</span></span><span class="entity"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>decr</span></span><span> </span><span class="main"><span>(</span></span><span>Envir.beta_eta_contract</span><span> </span><span class="entity"><span>rel</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
              </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>a</span></span><span class="main"><span>,</span></span><span class="entity"><span>b</span></span><span class="main"><span>,</span></span><span class="entity"><span>rel</span></span><span class="main"><span>,</span></span><span class="entity"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
          </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dec</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span>  </span><span>NONE</span><span>
        </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="entity"><span>dec</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decomp</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>NONE</span><span class="main"><span>;</span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Tranclp_Tac</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Trancl_Tac</span></span><span>
</span><span class="main"><span>(</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>r_into_trancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp.r_into_trancl|fact"><span>tranclp.r_into_trancl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>trancl_trans</span></span><span>  </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_trans|fact"><span>tranclp_trans</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>rtrancl_refl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp.rtrancl_refl|fact"><span>rtranclp.rtrancl_refl</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>r_into_rtrancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.r_into_rtranclp|fact"><span>r_into_rtranclp</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>trancl_into_rtrancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_into_rtranclp|fact"><span>tranclp_into_rtranclp</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>rtrancl_trancl_trancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_tranclp_tranclp|fact"><span>rtranclp_tranclp_tranclp</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>trancl_rtrancl_trancl</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp_rtranclp_tranclp|fact"><span>tranclp_rtranclp_tranclp</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>rtrancl_trans</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp_trans|fact"><span>rtranclp_trans</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>;</span></span><span>

  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decomp</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>t</span></span><span>›</span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
          </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>dec</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>rel</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>a</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
              </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decr</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span>rtranclp</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>r</span></span><span>›</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>r</span></span><span class="main"><span>,</span></span><span class="inner_quoted"><span>"r*"</span></span><span class="main"><span>)</span></span><span>
                </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decr</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.tranclp|const"><span>tranclp</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>r</span></span><span>›</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>r</span></span><span class="main"><span>,</span></span><span class="inner_quoted"><span>"r+"</span></span><span class="main"><span>)</span></span><span>
                </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decr</span></span><span> </span><span class="entity"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>r</span></span><span class="main"><span>,</span></span><span class="inner_quoted"><span>"r"</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
              </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>rel</span></span><span class="main"><span>,</span></span><span class="entity"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>decr</span></span><span> </span><span class="entity"><span>rel</span></span><span class="main"><span>;</span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>SOME</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>rel</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
          </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dec</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span>  </span><span>NONE</span><span>
        </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="entity"><span>dec</span></span><span> </span><span class="entity"><span>t</span></span><span> </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decomp</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>NONE</span><span class="main"><span>;</span></span><span>
</span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
</span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>‹</span><span>
  </span><span>map_theory_simpset</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>ctxt</span></span><span>
    </span><span>addSolver</span><span> </span><span class="main"><span>(</span></span><span>mk_solver</span><span> </span><span class="inner_quoted"><span>"Trancl"</span></span><span> </span><span class="entity"><span>Trancl_Tac.trancl_tac</span></span><span class="main"><span>)</span></span><span>
    </span><span>addSolver</span><span> </span><span class="main"><span>(</span></span><span>mk_solver</span><span> </span><span class="inner_quoted"><span>"Rtrancl"</span></span><span> </span><span class="entity"><span>Trancl_Tac.rtrancl_tac</span></span><span class="main"><span>)</span></span><span>
    </span><span>addSolver</span><span> </span><span class="main"><span>(</span></span><span>mk_solver</span><span> </span><span class="inner_quoted"><span>"Tranclp"</span></span><span> </span><span class="entity"><span>Tranclp_Tac.trancl_tac</span></span><span class="main"><span>)</span></span><span>
    </span><span>addSolver</span><span> </span><span class="main"><span>(</span></span><span>mk_solver</span><span> </span><span class="inner_quoted"><span>"Rtranclp"</span></span><span> </span><span class="entity"><span>Tranclp_Tac.rtrancl_tac</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.transp_rtranclp|fact"><span class="entity_def" id="Transitive_Closure.transp_rtranclp|thm"><span>transp_rtranclp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Relation.html#Relation.transp|const"><span>transp</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Transitive_Closure.html#Transitive_Closure.rtranclp|const"><span><span class="hidden">⇧</span><sup>*</sup><span class="hidden">⇧</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Relation.html#Relation.transp_def|fact"><span>transp_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Optional methods.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>method_setup</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.trancl|method"><span>trancl</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="quoted"><span>‹</span><span>Scan.succeed</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>SIMPLE_METHOD'</span></span><span> </span><span>o</span><span> </span><span class="entity"><span>Trancl_Tac.trancl_tac</span></span><span class="main"><span>)</span></span><span>›</span></span><span>
  </span><span class="quoted"><span>‹</span><span>simple transitivity reasoner</span><span>›</span></span><span>
</span><span class="keyword1"><span class="command"><span>method_setup</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtrancl|method"><span>rtrancl</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="quoted"><span>‹</span><span>Scan.succeed</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>SIMPLE_METHOD'</span></span><span> </span><span>o</span><span> </span><span class="entity"><span>Trancl_Tac.rtrancl_tac</span></span><span class="main"><span>)</span></span><span>›</span></span><span>
  </span><span class="quoted"><span>‹</span><span>simple transitivity reasoner</span><span>›</span></span><span>
</span><span class="keyword1"><span class="command"><span>method_setup</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.tranclp|method"><span>tranclp</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="quoted"><span>‹</span><span>Scan.succeed</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>SIMPLE_METHOD'</span></span><span> </span><span>o</span><span> </span><span class="entity"><span>Tranclp_Tac.trancl_tac</span></span><span class="main"><span>)</span></span><span>›</span></span><span>
  </span><span class="quoted"><span>‹</span><span>simple transitivity reasoner (predicate version)</span><span>›</span></span><span>
</span><span class="keyword1"><span class="command"><span>method_setup</span></span></span><span> </span><span class="entity_def" id="Transitive_Closure.rtranclp|method"><span>rtranclp</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="quoted"><span>‹</span><span>Scan.succeed</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>SIMPLE_METHOD'</span></span><span> </span><span>o</span><span> </span><span class="entity"><span>Tranclp_Tac.rtrancl_tac</span></span><span class="main"><span>)</span></span><span>›</span></span><span>
  </span><span class="quoted"><span>‹</span><span>simple transitivity reasoner (predicate version)</span><span>›</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>