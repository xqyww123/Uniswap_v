<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory PhiTest_Arithmetic</title>
</head>


<body>
<div class="head">
<h1>Theory PhiTest_Arithmetic</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="PhiTest_Arithmetic.html"><span>PhiTest_Arithmetic</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
    </span><a href="../Phi_Semantics/PhiSem_CF_Routine.html"><span>Phi_Semantics.PhiSem_CF_Routine</span></a><span>
    </span><a href="../Phi_Semantics/PhiSem_CF_Breakable.html"><span>Phi_Semantics.PhiSem_CF_Breakable</span></a><span>
    </span><a href="../Phi_Semantics/PhiSem_Variable.html"><span>Phi_Semantics.PhiSem_Variable</span></a><span>
    </span><a href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html"><span>Phi_Semantics.PhiSem_Int_ArbiPrec</span></a><span>
    </span><span class="quoted"><span>"</span><a href="HOL-Computational_Algebra.Primes.html"><span>HOL-Computational_Algebra.Primes</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
 
</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="PhiTest_Arithmetic.GCD_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiTest_Arithmetic.GCD_def|fact"><span class="entity_def" id="PhiTest_Arithmetic.GCD_\&lt;phi&gt;app|thm"><span class="entity_def" id="PhiTest_Arithmetic.GCD_def|thm"><span class="entity_def" id="PhiTest_Arithmetic.GCD_def|axiom"><span class="entity_def" id="PhiTest_Arithmetic.GCD|const"><span>GCD</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/GCD.html#GCD.gcd_class.gcd|const"><span>gcd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.recursive|attribute"><span class="operator"><span>recursive</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="main"><span>]</span></span><span> </span><span class="comment1"><span>― ‹</span><span>x, y are variable through recursive callings</span><span>›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_387..388">❴</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>x </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><span>$</span></span><span>y</span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_387..388"><span>GCD</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>y</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>$</span></span><span>x</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>y </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>mod</span></a></span><span> </span><span class="main"><span>$</span></span><span>x</span><span>›</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>t</span></span><span>
      </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>t </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>$</span></span><span>x</span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_387..388"><span>GCD</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>t</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>$</span></span><span>x</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="PhiTest_Arithmetic.test_prime_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiTest_Arithmetic.test_prime_def|fact"><span class="entity_def" id="PhiTest_Arithmetic.test_prime_\&lt;phi&gt;app|thm"><span class="entity_def" id="PhiTest_Arithmetic.test_prime_def|thm"><span class="entity_def" id="PhiTest_Arithmetic.test_prime_def|axiom"><span class="entity_def" id="PhiTest_Arithmetic.test_prime|const"><span>test_prime</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="HOL-Computational_Algebra.Factorial_Ring.html#Factorial_Ring.normalization_semidom_class.prime|const"><span>prime</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span>›</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="HOL-Computational_Algebra.Factorial_Ring.html#Factorial_Ring.normalization_semidom_class.prime|const"><span>prime</span></a><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>=&gt;</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span> is a predicate checking primes</span><span>›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_656..657">❴</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>x </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>›</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_656..657"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.False_\&lt;phi&gt;app|fact"><span>False</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>var</span></span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>

      </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Breakable.html#PhiSem_CF_Breakable.while_\&lt;phi&gt;app|fact"><span>while</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>v</span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span>
              </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Invariant|const"><span>Inv:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.dvd_class.dvd|const"><span>dvd</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
              </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Guard|const"><span>Guard:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
              </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.End|const"><span>End:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span>Specification of the loop</span><span>›</span></span><span>
            </span><span class="main"><span>(</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>v </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><span>$</span></span><span>x</span><span>›</span></span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>― ‹</span><span>Code for loop guard</span><span>›</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>                   </span><span class="comment1"><span>― ‹</span><span>Code for loop body</span><span>›</span></span><span>
        </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>x </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>mod</span></a></span><span> </span><span class="main"><span>$</span></span><span>v </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
          </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_656..657"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.False_\&lt;phi&gt;app|fact"><span>False</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>v </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>›</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="main"><span>$</span></span><span>v</span><span>
        </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
      </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_656..657"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.True_\&lt;phi&gt;app|fact"><span>True</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#PhiTest_Arithmetic.test_prime_def|fact"><span>test_prime_def</span></a><span> </span><span class="comment1"><span>― ‹</span><span>Semantic definition</span><span>›</span></span><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#PhiTest_Arithmetic.test_prime_\&lt;phi&gt;app|fact"><span>test_prime_φapp</span></a><span> </span><span class="comment1"><span>― ‹</span><span>Specification theorem</span><span>›</span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="PhiTest_Arithmetic.test_prime&apos;_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiTest_Arithmetic.test_prime&apos;_def|fact"><span class="entity_def" id="PhiTest_Arithmetic.test_prime&apos;_\&lt;phi&gt;app|thm"><span class="entity_def" id="PhiTest_Arithmetic.test_prime&apos;_def|thm"><span class="entity_def" id="PhiTest_Arithmetic.test_prime&apos;_def|axiom"><span class="entity_def" id="PhiTest_Arithmetic.test_prime&apos;|const"><span>test_prime'</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="HOL-Computational_Algebra.Factorial_Ring.html#Factorial_Ring.normalization_semidom_class.prime|const"><span>prime</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1358..1359">❴</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>x </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_1358..1359"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.False_\&lt;phi&gt;app|fact"><span>False</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>var</span></span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
      </span><span class="comment1"><span>(</span><span>*</span><span> In the previous example, the loop iterates from 2 to x, here we apply an optimization
         where the loop only needs to iterate to sqrt(x). </span><span>*</span><span>)</span></span><span>
      </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Breakable.html#PhiSem_CF_Breakable.while_\&lt;phi&gt;app|fact"><span>while</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>v</span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span>
            </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Invariant|const"><span>Inv:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.greaterThanLessThan|const"><span>{</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.greaterThanLessThan|const"><span>&lt;..&lt;</span></a></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.greaterThanLessThan|const"><span>}</span></a></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.dvd_class.dvd|const"><span>dvd</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
            </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Guard|const"><span>Guard:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
            </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.End|const"><span>End:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
          </span><span class="main"><span>(</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>v </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>$</span></span><span>v </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><span>$</span></span><span>x</span><span>›</span></span></span><span> </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>x </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>mod</span></a></span><span> </span><span class="main"><span>$</span></span><span>v </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
          </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_1358..1359"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.False_\&lt;phi&gt;app|fact"><span>False</span></a><span class="main"><span>)</span></span><span>  
        </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>v </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>›</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="main"><span>$</span></span><span>v</span><span> 
        </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1913..1915">;;</span></span></span><span>

      </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_1358..1359"><span>return</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.True_\&lt;phi&gt;app|fact"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span>with this optimization, the final obligation fails to be solved
                      automatically, but the manual proof is intuitive and semi-automated.</span><span>*</span><span>)</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="entity_def" id="offset_2151..2155">assm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="HOL-Computational_Algebra.Factorial_Ring.html#Factorial_Ring.normalization_semidom_class.prime|const"><span>prime</span></a><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
              </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>k</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.dvd_class.dvd|const"><span>dvd</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span>  </span><span class="comment1"><span>(</span><span>*</span><span> v generated automatically by sledgehammer </span><span>*</span><span>)</span></span><span>
                </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.One_nat_def|fact"><span>One_nat_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc_lessI|fact"><span>Suc_lessI</span></a><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_2151..2155"><span>assm</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/GCD.html#GCD.dvd_pos_nat|fact"><span>dvd_pos_nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_le_less_linear|fact"><span>linorder_le_less_linear</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat_dvd_not_less|fact"><span>nat_dvd_not_less</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.not_less_iff_gr_or_eq|fact"><span>not_less_iff_gr_or_eq</span></a><span> </span><a class="entity_ref" href="HOL-Computational_Algebra.Primes.html#Primes.prime_nat_iff|fact"><span>prime_nat_iff</span></a><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_1913..1915"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.canonically_ordered_monoid_add_class.zero_less_iff_neq_zero|fact"><span>zero_less_iff_neq_zero</span></a><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>ib</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>div</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>ib</span></span><span>›</span></span></span><span>   </span><span class="comment1"><span>(</span><span>*</span><span> v generated automatically by sledgehammer </span><span>*</span><span>)</span></span><span>
                </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.algebraic_semidom_class.dvd_mult_div_cancel|fact"><span>dvd_mult_div_cancel</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.leD|fact"><span>leD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.leI|fact"><span>leI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.mult_le_mono|fact"><span>mult_le_mono</span></a><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_1913..1915"><span>the_φlemmata</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
              </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a></span><span>                     </span><span class="comment1"><span>(</span><span>*</span><span> v generated automatically by sledgehammer </span><span>*</span><span>)</span></span><span>
                </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.One_nat_def|fact"><span>One_nat_def</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>k</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.dvd_class.dvd|const"><span>dvd</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/SMT.html#SMT.div_mod_decomp|fact"><span>div_mod_decomp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.semidom_modulo_class.dvd_imp_mod_0|fact"><span>dvd_imp_mod_0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.comm_monoid_mult_class.dvd_triv_right|fact"><span>dvd_triv_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.greaterThanLessThan_iff|fact"><span>greaterThanLessThan_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_semigroup_mult_class.mult.commute|fact"><span>mult.commute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat_arith.rule0|fact"><span>nat_arith.rule0</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat_mult_1_right|fact"><span>nat_mult_1_right</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Numeral_Simprocs.html#Numeral_Simprocs.nat_mult_less_cancel_disj|fact"><span>nat_mult_less_cancel_disj</span></a><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_1913..1915"><span>the_φlemmata</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="HOL-Computational_Algebra.Factorial_Ring.html#Factorial_Ring.normalization_semidom_class.prime|const"><span>prime</span></a><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span>Close the top branch</span><span>›</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span>Close the function body</span><span>›</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="PhiTest_Arithmetic.binary_search_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiTest_Arithmetic.binary_search_def|fact"><span class="entity_def" id="PhiTest_Arithmetic.binary_search_\&lt;phi&gt;app|thm"><span class="entity_def" id="PhiTest_Arithmetic.binary_search_def|thm"><span class="entity_def" id="PhiTest_Arithmetic.binary_search_def|axiom"><span class="entity_def" id="PhiTest_Arithmetic.binary_search|const"><span>binary_search</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>requires</span></span></span><span> </span><span class="entity_def" id="offset_3153..3154">F</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;AInt|const"><span>ℤ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span>v: raw value</span><span>›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.order_class.mono|const"><span>mono</span></a><span> </span><span class="free"><span>f</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>lower</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;AInt|const"><span>ℤ</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>upper</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;AInt|const"><span>ℤ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="free"><span>upper</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>lower</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>upper</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>LEAST</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>.</span></a></span><span> </span><span class="free"><span>lower</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>upper</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;AInt|const"><span>ℤ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3397..3398">❴</span></span></span><span>
    </span><span class="main"><span>pure-fact</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>j</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>

    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_3153..3154"><span>F</span></a><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>lower</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_3397..3398"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>lower</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>  
      </span><span class="main"><span>$</span></span><span>lower</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>$</span></span><span>upper </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>var</span></span></span><span> </span><span class="main"><span>$</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>$</span></span><span class="skolem"><span>u</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
      </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Breakable.html#PhiSem_CF_Breakable.while_\&lt;phi&gt;app|fact"><span>while</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>l</span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;AInt|const"><span>ℤ</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>u</span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;AInt|const"><span>ℤ</span></a></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span>
              </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Invariant|const"><span>Inv:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>lower</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>upper</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
              </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.Guard|const"><span>Guard:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
              </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.End|const"><span>End:</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
            </span><span class="main"><span>(</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>l </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><span>$</span></span><span>u</span><span>›</span></span></span><span> </span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>l </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>$</span></span><span>u</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.divide_class.divide|const"><span>div</span></a></span><span> </span><span class="numeral"><span>2</span></span><span>›</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span> </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_3153..3154"><span>F</span></a><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>m</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>$</span></span><span>m </span><span class="main"><span>→</span></span><span> </span><span class="main"><span>$</span></span><span>u</span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>$</span></span><span>m </span><span class="main"><span>→</span></span><span> </span><span class="main"><span>$</span></span><span>l</span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
      </span><a class="entity_ref" href="PhiTest_Arithmetic.html#offset_3397..3398"><span>return</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>u</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>