<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Phi_Logic_Programming_Reasoner.PLPR_error_msg</title>
</head>


<body>
<div class="head">
<h1>Theory Phi_Logic_Programming_Reasoner.PLPR_error_msg</h1>
</div>

<pre class="source"><span class="comment1"><span>(</span><span>*</span><span>There is still a design under consideration.

It intends to give a rich way with term quotations to represent and report
  error messages in the logic programming based reasoning.
</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html"><span>PLPR_error_msg</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html"><span>Phi_Logic_Programming_Reasoner</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Error Reporting</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Encoding of Text</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR_error_msg.arity_type_text|fact"><span class="entity_def" id="PLPR_error_msg.arity_type_text|thm"><span class="entity_def" id="PLPR_error_msg.arity_type_text|axiom"><span>typedecl</span></span></span></span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PLPR_error_msg.text|type"><span>text</span></span><span>"</span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>‹</span><span>Sign.mandatory_path</span><span> </span><span class="inner_quoted"><span>"text"</span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>consts</span></span></span><span> </span><span class="entity_def" id="PLPR_error_msg.text.literal|const"><span>literal</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span></span><span>
       </span><span class="quoted"><span>"</span><span class="entity_def" id="PLPR_error_msg.text.term|const"><span>term</span></span><span>"</span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span></span><span>
       </span><span class="entity_def" id="PLPR_error_msg.text.type|const"><span>type</span></span><span>    </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{}</span></span><span> </span><span>itself</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span></span><span>
       </span><span class="entity_def" id="PLPR_error_msg.text.cat|const"><span>cat</span></span><span>     </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span></span><span>
       </span><span class="entity_def" id="PLPR_error_msg.text.newline|const"><span>newline</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span></span><span>
      </span><span class="quoted"><span>"</span><span class="entity_def" id="PLPR_error_msg.text.text|const"><span>text</span></span><span>"</span></span><span>    </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>‹</span><span>Sign.parent_path</span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>We use the name of a lambda variable to encode an arbitrary string text.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>nonterminal</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="offset_702..707">text_</span><span>"</span></span><span>
</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="quoted"><span>"</span><span>_text_</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#offset_702..707"><span>text_</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>TEXT'(</span></span><span>_</span><span class="keyword1"><span>')</span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1</span><span class="main"><span>]</span></span><span> 1000</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="quoted"><span>"</span><span>_text_literal_</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>cartouche</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#offset_702..707"><span>text_</span></a><span>›</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span>"</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="quoted"><span>"</span><span>_text_term_</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>logic</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#offset_702..707"><span>text_</span></a><span>›</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="quoted"><span>"</span><span>_text_prop_</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>prop</span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#offset_702..707"><span>text_</span></a><span>›</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>]</span></span><span> 999</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="quoted"><span>"</span><span>_text_newline_</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#offset_702..707"><span>text_</span></a><span>›</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>⏎</span></span><span>"</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>syntax</span></span></span><span> </span><span class="quoted"><span>"</span><span>_text_cat_</span><span>"</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#offset_702..707"><span>text_</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#offset_702..707"><span>text_</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#offset_702..707"><span>text_</span></a><span>›</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1</span><span class="main"><span>,</span></span><span>2</span><span class="main"><span>]</span></span><span> 1</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>ML</span></span></span><span> </span><span class="quoted"><span>‹</span><span>
</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Text_Encoding</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>struct</span></span></span><span>

</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>escape_string</span></span><span>   </span><span class="main"><span>=</span></span><span> </span><span>String.translate</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="inner_quoted"><span>#"."</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="inner_quoted"><span>"\001"</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>x</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>str</span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>recovery_string</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>String.translate</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="inner_quoted"><span>#"\001"</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="inner_quoted"><span>"."</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>x</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>str</span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>local</span></span></span><span> </span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Ast</span><span>
  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_constrain›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="entity"><span>x</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_bound›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="entity"><span>x</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="main"><span>(</span></span><span>Variable</span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>recovery_string</span></span><span> </span><span class="entity"><span>x</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="entity"><span>ret</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.literal|const"><span>text.literal</span></a><span>›</span></span><span class="main"><span>,</span></span><span>
      </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_abs›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>=</span></span><span> </span><span>Variable</span><span> </span><span class="main"><span>(</span></span><span>cartouche</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>dest_literal</span></span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>::</span><span class="entity"><span>ret</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="entity"><span>ret</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.term|const"><span>text.term</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>tm</span></span><span>::</span><span class="entity"><span>ret</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="entity"><span>ret</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.type|const"><span>text.type</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>tm</span></span><span>::</span><span class="entity"><span>ret</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="entity"><span>ret</span></span><span> </span><span class="main"><span>(</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.newline|const"><span>text.newline</span></a><span>›</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_newline_›</span></span><span class="main"><span>)</span></span><span>::</span><span class="entity"><span>ret</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="entity"><span>ret</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.cat|const"><span>text.cat</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tmA</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tmB</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="entity"><span>ret</span></span><span> </span><span class="entity"><span>tmB</span></span><span class="main"><span>)</span></span><span> </span><span class="entity"><span>tmA</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="entity"><span>ast</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword3"><span class="keyword"><span>raise</span></span></span><span> </span><span>AST</span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"decode_text_ast"</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>ast</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.literal|const"><span>text.literal</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span>Abs</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>text</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span>Pretty.str</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>recovery_string</span></span><span> </span><span class="entity"><span>text</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span>Const</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.term|const"><span>text.term</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span>Syntax.pretty_term</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>]</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span>Const</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.type|const"><span>text.type</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span>$</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Const_</span><span class="hidden">&gt;</span></span></span><span>‹</span><span>Pure.type</span><span> </span><span class="entity"><span>T</span></span><span>›</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
      </span><span class="main"><span>[</span></span><span>Syntax.pretty_typ</span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>T</span></span><span class="main"><span>]</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.cat|const"><span>text.cat</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>A</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
      </span><span class="entity"><span>decode_text</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>A</span></span><span> </span><span>@</span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>B</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.newline|const"><span>text.newline</span></a><span>›</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span>Pretty.brk</span><span> </span><span class="inner_numeral"><span>0</span></span><span class="main"><span>]</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.text|const"><span>text.text</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>X</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>decode_text</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="entity"><span>tm</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword3"><span class="keyword"><span>raise</span></span></span><span> </span><span>TERM</span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"decode_text"</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decode_text_pretty</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>X</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Pretty.block</span><span> </span><span class="main"><span>(</span></span><span>Pretty.separate</span><span> </span><span class="inner_quoted"><span>""</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>decode_text</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>X</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Pretty.string_of</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>decode_text_pretty</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>decode_text_ast</span></span><span> </span><span class="entity"><span>ast</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span class="entity"><span>decode_text_ast'</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span> </span><span class="entity"><span>ast</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Variable</span><span> </span><span class="inner_quoted"><span>""</span></span><span>
     </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>x</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>x</span></span><span>
     </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>l</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span>Appl</span><span> </span><span class="entity"><span>l</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>parse_ast_translation</span></span></span><span> </span><span class="quoted"><span>‹</span><span>
</span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span> </span><span class="keyword3"><span class="keyword"><span>open</span></span></span><span> </span><span>Ast</span><span>
  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_constrain›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="entity"><span>x</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_literal_›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="entity"><span>x</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>dest_literal</span></span><span> </span><span class="main"><span>(</span></span><span>Variable</span><span> </span><span class="entity"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>String.substring</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_numeral"><span>7</span></span><span class="main"><span>,</span></span><span> </span><span>size</span><span> </span><span class="entity"><span>x</span></span><span> </span><span>-</span><span> </span><span class="inner_numeral"><span>15</span></span><span class="main"><span>)</span></span><span>
        </span><span class="comment1"><span>(*7 for size of \ &lt;open&gt; and 15 for size of \ &lt;open&gt; \ &lt;close&gt;*)</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>encode_literal</span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.literal|const"><span>text.literal</span></a><span>›</span></span><span class="main"><span>,</span></span><span>
    </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_abs›</span></span><span class="main"><span>,</span></span><span>
      </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_constrain›</span></span><span class="main"><span>,</span></span><span>
            </span><span>Variable</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Text_Encoding.escape_string</span></span><span> </span><span class="entity"><span>str</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
            </span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">type_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
      </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_constrain›</span></span><span class="main"><span>,</span></span><span>
            </span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span>undefined</span></a><span>›</span></span><span class="main"><span>,</span></span><span>
            </span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">type_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span>›</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_literal_›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>encode_literal</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>dest_literal</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_prop_›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span class="entity"><span>parse</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_term_›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_term_›</span></span><span class="main"><span>,</span></span><span>
                       </span><span class="main"><span>(</span></span><span class="entity"><span>tm</span></span><span> </span><span class="keyword1"><span class="keyword"><span>as</span></span></span><span> </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_TYPE›</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.type|const"><span>text.type</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_term_›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.term|const"><span>text.term</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tm</span></span><span class="main"><span>]</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="main"><span>(</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_newline_›</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.newline|const"><span>text.newline</span></a><span>›</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="main"><span>(</span></span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_cat_›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tmA</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>tmB</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
        </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.cat|const"><span>text.cat</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="entity"><span>tmA</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="entity"><span>tmB</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span>
 </span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_›</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>ast</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
        </span><span>Appl</span><span> </span><span class="main"><span>[</span></span><span>Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.text|const"><span>text.text</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>parse</span></span><span> </span><span class="entity"><span>ast</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>print_ast_translation</span></span></span><span> </span><span class="quoted"><span>‹</span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_syntax</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text.text|const"><span>text.text</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>ast</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span>Ast.Appl</span><span> </span><span class="main"><span>[</span></span><span>Ast.Constant</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">syntax_const</span><span class="hidden">&gt;</span></span></span><span>‹_text_›</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_ast</span></span><span> </span><span class="entity"><span>ast</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>›</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Reasoners for Printing Message</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Tracing</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR_error_msg.TRACING_def|fact"><span class="entity_def" id="PLPR_error_msg.TRACING_def|thm"><span class="entity_def" id="PLPR_error_msg.TRACING_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR_error_msg.TRACING|const"><span>TRACING</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>TRACING</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR_error_msg.TRACING_I|fact"><span class="entity_def" id="PLPR_error_msg.TRACING_I|thm"><span>TRACING_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING|const"><span>TRACING</span></a><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING_def|fact"><span>TRACING_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>φreasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING|const"><span>TRACING</span></a></span><span> 1200 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING|const"><span>TRACING</span></a><span> </span><span class="var"><span>?x</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING|const"><span>TRACING</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>text</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>tracing</span><span> </span><span class="entity"><span>str</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.single</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.TRACING_I|fact"><span>TRACING_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Warning</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR_error_msg.WARNING_def|fact"><span class="entity_def" id="PLPR_error_msg.WARNING_def|thm"><span class="entity_def" id="PLPR_error_msg.WARNING_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR_error_msg.WARNING|const"><span>WARNING</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>WARNING</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PLPR_error_msg.WARNING_I|fact"><span class="entity_def" id="PLPR_error_msg.WARNING_I|thm"><span>WARNING_I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING|const"><span>WARNING</span></a><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING_def|fact"><span>WARNING_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>φreasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING|const"><span>WARNING</span></a></span><span> 1200 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING|const"><span>WARNING</span></a><span> </span><span class="var"><span>?x</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING|const"><span>WARNING</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>text</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>warning</span><span> </span><span class="entity"><span>str</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.single</span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.WARNING_I|fact"><span>WARNING_I</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Fail</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Fail ends the current search branch but does not terminate
</span><span> the whole reasoning.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR_error_msg.FAIL_def|fact"><span class="entity_def" id="PLPR_error_msg.FAIL_def|thm"><span class="entity_def" id="PLPR_error_msg.FAIL_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR_error_msg.FAIL|const"><span>FAIL</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>FAIL</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR_error_msg.FAIL&apos;_def|fact"><span class="entity_def" id="PLPR_error_msg.FAIL&apos;_def|thm"><span class="entity_def" id="PLPR_error_msg.FAIL&apos;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR_error_msg.FAIL&apos;|const"><span>FAIL'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>prop</span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>FAIL'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>φreasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a></span><span> 1200 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span> </span><span class="var"><span>?x</span></span><span>›</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL&apos;|const"><span>FAIL'</span></a><span> </span><span class="var"><span>?x'</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>text</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
                 </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL|const"><span>FAIL</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
                  </span><span class="main"><span>|</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.FAIL&apos;|const"><span>FAIL'</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>warning</span><span> </span><span class="entity"><span>str</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.empty</span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>›</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Error</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Fail terminates the whole reasoning.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR_error_msg.ERROR_def|fact"><span class="entity_def" id="PLPR_error_msg.ERROR_def|thm"><span class="entity_def" id="PLPR_error_msg.ERROR_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR_error_msg.ERROR|const"><span>ERROR</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>ERROR</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PLPR_error_msg.ERROR&apos;_def|fact"><span class="entity_def" id="PLPR_error_msg.ERROR&apos;_def|thm"><span class="entity_def" id="PLPR_error_msg.ERROR&apos;_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PLPR_error_msg.ERROR&apos;|const"><span>ERROR'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.text|type"><span>text</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span>prop</span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>ERROR'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>P</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>PROP</span></span><span> </span><span class="bound"><span>P</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>φreasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR|const"><span>ERROR</span></a></span><span> 1200 </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR|const"><span>ERROR</span></a><span> </span><span class="var"><span>?x</span></span><span>›</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><span>PROP</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR&apos;|const"><span>ERROR'</span></a><span> </span><span class="var"><span>?x'</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>‹</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>text</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
                 </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR|const"><span>ERROR</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
                  </span><span class="main"><span>|</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.PLPR_error_msg.html#PLPR_error_msg.ERROR&apos;|const"><span>ERROR'</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="entity"><span>X</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>X</span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>str</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Text_Encoding.decode_text_str</span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="entity"><span>text</span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>error</span><span> </span><span class="entity"><span>str</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>Seq.empty</span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>›</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>