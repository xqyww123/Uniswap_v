<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory PhiSem_Formalization_Tools</title>
</head>


<body>
<div class="head">
<h1>Theory PhiSem_Formalization_Tools</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="PhiSem_Formalization_Tools.html"><span>PhiSem_Formalization_Tools</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="IDE_CP.html"><span>IDE_CP</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Tools for Formalizing Instructions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>named_theorems</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.discharging_semantic_debt|attribute"><span class="entity_def" id="PhiSem_Formalization_Tools.discharging_semantic_debt|fact"><span>discharging_semantic_debt</span></span></span><span>
  </span><span class="quoted"><span>‹</span><span>Theorems that discharges or helps to discharge the debt axioms for semantic formalization.</span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Elementary Constructions for Formalizing Instructions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|const"><span>φM_assert</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.unit|type"><span>unit</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φM_assert</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Return|const"><span>Return</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_none|const"><span>φV_none</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Invalid|const"><span>Invalid</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume|const"><span>φM_assume</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.unit|type"><span>unit</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φM_assume</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Return|const"><span>Return</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_none|const"><span>φV_none</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.AssumptionBroken|const"><span>AssumptionBroken</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw|const"><span>φM_getV_raw</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg|type"><span>φarg</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'y</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'y</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φM_getV_raw</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>VDT_dest</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>VDT_dest</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>φarg.dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV|const"><span>φM_getV</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg|type"><span>φarg</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'y</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'y</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φM_getV</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>VDT_dest</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|const"><span>φM_assert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>φarg.dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind&apos;|const"><span>≫</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>VDT_dest</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.dest|const"><span>φarg.dest</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV|const"><span>φM_caseV</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg|type"><span>φarg</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'vr</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'ret</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'vr</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIX_ARITY_VALs|class"><span>FIX_ARITY_VALs</span></a><span class="main"><span>,</span></span><span class="tfree"><span>'ret</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φM_caseV</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>arg</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>arg</span></span><span> </span><span class="keyword1"><span>of</span></span><span> φarg </span><span class="main"><span>(</span></span><span class="bound"><span>a1</span></span><span class="main"><span>,</span></span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>φarg</span></a><span> </span><span class="bound"><span>a1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>φarg</span></a><span> </span><span class="bound"><span>a2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Reasoning for Elementary Constructions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;SEQ|fact"><span>φSEQ</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|thm"><span>φM_assert</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.Inhabited|const"><span>Inhabited</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|const"><span>φM_assert</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>Any</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert_def|fact"><span>φM_assert_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Inhabited|fact"><span>φInhabited</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert_True|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert_True|thm"><span>φM_assert_True</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|const"><span>φM_assert</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Return|const"><span>Return</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_none|const"><span>φV_none</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert_def|fact"><span>φM_assert_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert&apos;|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert&apos;|thm"><span>φM_assert'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="free"><span>args</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert|const"><span>φM_assert</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind&apos;|const"><span>≫</span></a></span><span> </span><span class="free"><span>F</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>args</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assert_def|fact"><span>φM_assert_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind_def|fact"><span>bind_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Return_def|fact"><span>Return_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.det_lift_def|fact"><span>det_lift_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume|thm"><span>φM_assume</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume|const"><span>φM_assume</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind&apos;|const"><span>≫</span></a></span><span> </span><span class="free"><span>F</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_def|fact"><span>φProcedure_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume_def|fact"><span>φM_assume_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind_def|fact"><span>bind_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Return_def|fact"><span>Return_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.det_lift_def|fact"><span>det_lift_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume1|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume1|thm"><span>φM_assume1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume|const"><span>φM_assume</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection|const"><span>𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_assume_def|fact"><span>φM_assume_def</span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_def|fact"><span>φProcedure_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind_def|fact"><span>bind_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Return_def|fact"><span>Return_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.det_lift_def|fact"><span>det_lift_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_tail_left|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_tail_left|thm"><span>φM_tail_left</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_tail_right|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_tail_right|thm"><span>φM_tail_right</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_tail_right_right|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_tail_right_right|thm"><span>φM_tail_right_right</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_shrink_left|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_shrink_left|thm"><span>φM_shrink_left</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_shrink_right|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_shrink_right|thm"><span>φM_shrink_right</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw|thm"><span>φM_getV_raw</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
   </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>VDT_dest</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>  </span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw|const"><span>φM_getV_raw</span></a><span> </span><span class="free"><span>VDT_dest</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>φarg</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><span>Val</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>φarg</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw_def|fact"><span>φM_getV_raw_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.norm_precond_conj|fact"><span>norm_precond_conj</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_raw|fact"><span>φM_getV_raw</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> X</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV|thm"><span>φM_getV</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
   </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.\&lt;phi&gt;expn_Premise|const"><span>&lt;φexpn&gt;</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.Well_Type|const"><span>Well_Type</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>VDT_dest</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>  </span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV|const"><span>φM_getV</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>VDT_dest</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>φarg</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><span>Val</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>φarg</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV_def|fact"><span>φM_getV_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Premise_def|fact"><span>Premise_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.norm_precond_conj|fact"><span>norm_precond_conj</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_getV|fact"><span>φM_getV</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> X</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV|thm"><span>φM_caseV</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>va</span></span><span> </span><span class="free"><span>vb</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV|const"><span>φM_caseV</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair|const"><span>φV_pair</span></a><span> </span><span class="free"><span>va</span></span><span> </span><span class="free"><span>vb</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_caseV_def|fact"><span>φM_caseV_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair_def|fact"><span>φV_pair_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Elementary Constructions for Reasoning Fictions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>It is a Hybrid Dynamic Logic</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.rassn|type"><span>rassn</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.rassn|type"><span>rassn</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φRes_Spec</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.RES.SPACE|const"><span>RES.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat|const"><span>φRes_Sat</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource|type"><span>resource</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.rassn|type"><span>rassn</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φRes_Sat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>φRes_Sat'</span></span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource|type"><span>resource</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.rassn|type"><span>rassn</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span class="keyword1"><span>𝗌𝗍𝖺𝗍𝖾</span></span><span> </span><span>_</span><span> </span><span class="keyword1"><span>𝗂𝗌</span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>11</span><span class="main"><span>,</span></span><span>11</span><span class="main"><span>]</span></span><span> 10</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φRes_Sat'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat|const"><span>φRes_Sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat|const"><span>φComp_Sat</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp|type"><span>comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg|type"><span>φarg</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.rassn|type"><span>rassn</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.ABNM|type"><span>ABNM</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.rassn|type"><span>rassn</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φComp_Sat</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>E</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.LooseStateSpec|const"><span>𝒮</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>E</span></span></span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>φComp_Sat'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp|type"><span>comp</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg|type"><span>φarg</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.rassn|type"><span>rassn</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.ABNM|type"><span>ABNM</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.rassn|type"><span>rassn</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
                          </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span> </span><span class="keyword1"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></span><span> </span><span class="keyword1"><span>𝗂𝗇</span></span><span> </span><span>_</span><span> </span><span class="keyword1"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></span><span> </span><span>_</span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>11</span><span class="main"><span>,</span></span><span>11</span><span class="main"><span>,</span></span><span>11</span><span class="main"><span>]</span></span><span> 10</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φComp_Sat'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>E</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat|const"><span>φComp_Sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>e</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>E</span></span></span></span><span> </span><span class="bound"><span>e</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_success|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_success|thm"><span>φComp_Sat_success</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Success|const"><span>Success</span></a><span> </span><span class="free"><span>ret</span></span><span> </span><span class="free"><span>res</span></span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="free"><span>ret</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_def|fact"><span>φComp_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_0|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_0(2)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_0(1)|thm"><span>φRes_Sat_0</span></span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>lemma φRes_Sat_0[iff]:
  ‹(𝗌𝗍𝖺𝗍𝖾 x 𝗂𝗌 {})› ‹¬ (𝗌𝗍𝖺𝗍𝖾 x 𝗂𝗌 0)›
  unfolding φRes_Sat_def by (simp add: zero_set_def)+

lemma φRes_Spec_1[iff]:
  ‹φRes_Spec 1 = 1›
  unfolding φRes_Spec_def by (simp add: set_eq_iff; blast) </span><span>*</span><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>lemma φRes_Spec_mult_homo:
  ‹φRes_Spec (A * B) = φRes_Spec A * φRes_Spec B›
  unfolding φRes_Spec_def
  by (clarsimp simp add: set_eq_iff times_set_def; rule; clarsimp simp add: RES.SPACE_mult_homo; blast) </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_subj|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_subj|thm"><span>φRes_Sat_subj</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection|const"><span>𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_subj|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_subj|thm"><span>φComp_Sat_subj</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection|const"><span>𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_ex|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_ex|thm"><span>φRes_Sat_ex</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.iff|attribute"><span class="operator"><span>iff</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.ExSet|const"><span>ExSet</span></a><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_ex_ret|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_ex_ret|thm"><span>φRes_Sat_ex_ret</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.ExSet|const"><span>∃*</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.ExSet|const"><span>.</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_def|fact"><span>φComp_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_ex_abn|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_ex_abn|thm"><span>φRes_Sat_ex_abn</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="free"><span>x</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.ExSet|const"><span>∃*</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.ExSet|const"><span>.</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_def|fact"><span>φComp_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>lemma φINTERP_RES_φRes_Spec:
  ‹res ∈ INTERP_RES fic ⟷ res ∈ φRes_Spec (ℐ FIC.INTERP fic) ∧ fic ∈ FIC.SPACE›
  unfolding In_INTERP_RES φRes_Spec_def by simp blast </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>term</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.INTERP|const"><span>FIC.INTERP</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>p</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|thm"><span>φProcedure_Hybrid_DL</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.INTERP|const"><span>FIC.INTERP</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span>
       </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.INTERP|const"><span>FIC.INTERP</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>)</span></span><span>
                </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.INTERP|const"><span>FIC.INTERP</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>e</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>e</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>e</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>e</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_alt|fact"><span>φProcedure_alt</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|fact"><span>INTERP_SPEC</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_def|fact"><span>φComp_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.In_INTERP_RES|fact"><span>In_INTERP_RES</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.In_INTERP_RES|fact"><span>In_INTERP_RES</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_6525..6530">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r res s c</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6561..6563">t1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>fic</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>fic</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.RES.SPACE|const"><span>RES.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>fic</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.INTERP|const"><span>FIC.INTERP</span></a><span> </span><span class="bound"><span>fic</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_6525..6530"><span>prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_6525..6530"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="skolem"><span>res</span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="skolem"><span>r</span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_6561..6563"><span>t1</span></a><span class="main"><span class="main"><span>,</span></span></span><span>
              </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>res</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.In_INTERP_RES|fact"><span>In_INTERP_RES</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.In_INTERP_RES|fact"><span>In_INTERP_RES</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_7119..7124">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> res r s c</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7155..7157">t1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.RES.SPACE|const"><span>RES.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="skolem"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.INTERP|const"><span>FIC.INTERP</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_7119..7124"><span>prems</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_7119..7124"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="skolem"><span>r</span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="skolem"><span>res</span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_7155..7157"><span>t1</span></a><span class="main"><span class="main"><span>,</span></span></span><span>
              </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.In_INTERP_RES|fact"><span>In_INTERP_RES</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_expn_R|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_expn_R|thm"><span>φRes_Spec_expn_R</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.INTERP|const"><span>FIC.INTERP</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span>
 </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.INTERP|const"><span>FIC.INTERP</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
                                           </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD1|fact"><span>sep_disj_multD1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI1|fact"><span>sep_disj_multI1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc&apos;|fact"><span>sep_mult_assoc'</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD2|fact"><span>sep_disj_multD2</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI2|fact"><span>sep_disj_multI2</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc|fact"><span>sep_mult_assoc</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>
lemma φRes_Sat_expn_R:
  ‹ (𝗌𝗍𝖺𝗍𝖾 s 𝗂𝗌 ℐ FIC.INTERP (r * p) 𝗌𝗎𝖻𝗃 p. p ∈ (R ❟ X) ∧ r ∈ FIC.SPACE ∧ p ∈ FIC.SPACE ∧ r ## p)
⟷ (𝗌𝗍𝖺𝗍𝖾 s 𝗂𝗌 ℐ FIC.INTERP (r * u * x) 𝗌𝗎𝖻𝗃 u x. u ∈ R ∧ x ∈ X ∧ (r * u) ∈ FIC.SPACE ∧ x ∈ FIC.SPACE
                                           ∧ r ## u ∧ (r * u) ## x)›
  unfolding φRes_Sat_def using φRes_Spec_expn_R by simp </span><span>*</span><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>lemma φRes_Comp_expn_R:
  ‹ (c 𝗋𝖾𝗌𝗎𝗅𝗍𝗌 𝗂𝗇 ℐ FIC.INTERP (r * p) 𝗌𝗎𝖻𝗃 p. p ∈ (R ❟ X) ∧ r ∈ FIC.SPACE ∧ p ∈ FIC.SPACE ∧ r ## p)
⟷ (c 𝗋𝖾𝗌𝗎𝗅𝗍𝗌 𝗂𝗇 ℐ FIC.INTERP (r * u * x) 𝗌𝗎𝖻𝗃 u x. u ∈ R ∧ x ∈ X ∧ (r * u) ∈ FIC.SPACE ∧ x ∈ FIC.SPACE
                                           ∧ r ## u ∧ (r * u) ## x)›
  unfolding φRes_Sat_def using φRes_Spec_expn_R by simp </span><span>*</span><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_expn_impEx|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_expn_impEx|thm"><span>φRes_Sat_expn_impEx</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_BI.html#Phi_BI.ExSet|const"><span>ExSet</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.ExSet_def|fact"><span>ExSet_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_expn_impSubj|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_expn_impSubj|thm"><span>φRes_Sat_expn_impSubj</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection|const"><span>𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection_expn|fact"><span>Subjection_expn</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Weakest Precondition Transformer for φRes_Spec</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_RS_WP_SEQ|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_RS_WP_SEQ|thm"><span>φM_RS_WP_SEQ</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind|const"><span>⤜</span></a></span><span> </span><span class="free"><span>G</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind_def|fact"><span>bind_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat_def|fact"><span>φComp_Sat_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> s s'</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>s'</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Predefined Resource Snippet</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Minimal Resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.axioms|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.resource|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.resource|const"><span>resource</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.resource_kind|locale"><span>resource_kind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.RES.DOMAIN|const"><span>RES.DOMAIN</span></a></span><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'T</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra|class"><span>sep_algebra</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.resource.get_res_valid_raw|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.get_res_valid_raw|thm"><span>get_res_valid_raw</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.RES.SPACE|const"><span>RES.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.RES.SPACE_def|fact"><span>RES.SPACE_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.in_image_sep_closed|fact"><span>in_image_sep_closed</span></a><span> </span><span>inj_Sep_Closed</span><span> </span><span>proj_inj</span><span> </span><span>raw_domain</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.resource.get_res_Valid|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.get_res_Valid|thm"><span class="entity_def" id="offset_9891..9904">get_res_Valid</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>S</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>𝗋_valid_split'</span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.basic_fiction_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.basic_fiction_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.basic_fiction_def_raw|axiom"><span class="entity_def" id="offset_10027..10037">definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.basic_fiction.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.basic_fiction.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.basic_fiction|const"><span class="entity_def" id="offset_10039..10052">basic_fiction</span></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>I</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.Interp|const"><span>Interp</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="free"><span>Res</span></span></span><span> </span><span class="main"><span>#=</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>I</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.resource.basic_fiction_\&lt;I&gt;|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.basic_fiction_\&lt;I&gt;|thm"><span class="entity_def" id="offset_10107..10122">basic_fiction_ℐ</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>basic_fiction</span></a><span> </span><span class="free"><span>I</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span class="free"><span>Res</span></span></span><span> </span><span class="main"><span>#=</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span class="free"><span>I</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10027..10037"><span>basic_fiction_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.Interp_inverse|fact"><span>Interp_inverse</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.Interpretation_def|fact"><span>Interpretation_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.one_set_def|fact"><span>one_set_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;F&gt;_itself_expn|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;F&gt;_itself_expn|thm"><span>ℱ_itself_expn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|attribute"><span class="operator"><span>φexpns</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>R2</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="free"><span>x</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>basic_fiction</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_it|const"><span>ℱ_it</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>basic_fiction</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_it|const"><span>ℱ_it</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10107..10122"><span>basic_fiction_ℐ</span></a><span> </span><span>prj.homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span>)</span></span><span>
   </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>mk_homo_mult</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc&apos;|fact"><span>sep_mult_assoc'</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>SPACE_mult_homo</span><span> </span><span>inj.homo_mult</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.resource.implies_part|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.implies_part|thm"><span>implies_part</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_magma_class.join_sub|const"><span>≼<span class="hidden">⇩</span><sub>S</sub><span class="hidden">⇩</span><sub>L</sub></span></a></span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_magma_class.join_sub_def|fact"><span>join_sub_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>get_homo_mult</span><span> </span><span>sep_disj_get_name</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Fictions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Basic Fiction</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.axioms(2)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.axioms(1)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction|const"><span>basic_fiction</span></span></span><span> </span><span class="main"><span>=</span></span><span>
   R</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.resource|locale"><span>resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="main"><span>+</span></span><span>  </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.fiction_kind|locale"><span>fiction_kind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.DOMAIN|const"><span>FIC.DOMAIN</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERPRET|const"><span>INTERPRET</span></a></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>R.basic_fiction</span></a><span> </span><span class="free"><span>I</span></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'T</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra|class"><span>sep_algebra</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>I</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'U</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra|class"><span>sep_algebra</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'T</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp|type"><span>interp</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>Fic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'U</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction_entry|type"><span>fiction_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>φ-Type</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_def_raw|axiom"><span class="entity_def" id="offset_11164..11174">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;|const"><span class="entity_def" id="offset_11175..11176">φ</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'U</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'x</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction|type"><span>fiction</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'x</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
    </span><span class="comment1"><span>― ‹</span><span>φType for level-1 mapping</span><span>›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φ</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span>mk</span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_expn|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_expn|thm"><span>φ_expn</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|attribute"><span class="operator"><span>φexpns</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span>mk</span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type_def|fact"><span>φType_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11164..11174"><span>φ_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_inhabited|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_inhabited|thm"><span>φ_inhabited</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_System/library/tools/inhabited_rule.ML.html#Phi_Preliminary.\&lt;phi&gt;inhabitance_rule|attribute"><span class="operator"><span>φinhabitance_rule</span></span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.Inhabited|const"><span>Inhabited</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.Inhabited|const"><span>Inhabited</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>C</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.Inhabited_def|fact"><span>Inhabited_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_Prod|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_Prod|thm"><span class="entity_def" id="offset_11555..11561">φ_Prod</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Prod|const"><span>∗</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Prod|const"><span>∗</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type_eqI|fact"><span>φType_eqI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span>mk_homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_1upd_homo|fact"><span>fun_1upd_homo</span></a><span> </span><span>inj.homo_mult</span><span> </span><span>sep_disj_mk</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_\&lt;phi&gt;None|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_\&lt;phi&gt;None|thm"><span class="entity_def" id="offset_11747..11754">φ_φNone</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span>○</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span>○</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type_eqI|fact"><span>φType_eqI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span class="main"><span>(</span></span></span><span class="var"><span class="var"><span>?x</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a></a><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span>○</span></a></span></a></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="var"><span class="var"><span>?Z</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.clean_automation_waste|const"><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.clean_automation_waste|const"><span>clean_automation_waste</span></a></a><span>›</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span>○</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span>○</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.clean_automation_waste|const"><span>clean_automation_waste</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11747..11754"><span>φ_φNone</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1300 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span class="main"><span>(</span></span></span><span class="var"><span class="var"><span>?x</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a></a><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span>○</span></a></span></a></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span></a></span><span> </span><span class="var"><span class="var"><span>?Z</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.clean_automation_waste|const"><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.clean_automation_waste|const"><span>clean_automation_waste</span></a></a><span>›</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;None|const"><span>○</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.clean_automation_waste|const"><span>clean_automation_waste</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11747..11754"><span>φ_φNone</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="comment1"><span>(</span><span>*</span><span>
lemma [φreason 1500 for ‹(x ⦂ φ ○) 𝗂𝗆𝗉𝗅𝗂𝖾𝗌 ?Y 𝖺𝗇𝖽 ?P @action (?Act::?'act::simplification action)›]:
  ‹(x ⦂ φ ○) 𝗂𝗆𝗉𝗅𝗂𝖾𝗌 (() ⦂ ○) @action Act›
  for Act :: ‹'act::simplification action›
  unfolding Action_Tag_def φ_φNone
  by (simp add: implies_refl) </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Reasoning Rules</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_cast|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_cast|thm"><span class="entity_def" id="offset_12447..12453">φ_cast</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_Structural_Extract|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_Structural_Extract|thm"><span class="entity_def" id="offset_12578..12598">φ_Structural_Extract</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>W</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>W</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract_def|fact"><span>Structural_Extract_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Prod_expn&apos;|fact"><span>φProd_expn'</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11555..11561"><span>φ_Prod</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_12447..12453"><span>φ_cast</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_12578..12598"><span>φ_Structural_Extract</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.SE_clean_waste|fact"><span>SE_clean_waste</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.SE_clean_waste&apos;|fact"><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.SE_clean_waste&apos;|fact"><span>SE_clean_waste'</span></a></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1211</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>W</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Automatic_Morphism|const"><span>Automatic_Morphism</span></a><span> </span><span class="free"><span>RP</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>W'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>R'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>W</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Automatic_Morphism|const"><span>Automatic_Morphism</span></a><span> </span><span class="free"><span>RP</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>w'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>W'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>R'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Morphism_def|fact"><span>Morphism_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_12578..12598"><span>φ_Structural_Extract</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
                   </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract_imply_P|fact"><span>Structural_Extract_imply_P</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.ToSA_by_structural_extraction|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.ToSA_by_structural_extraction|thm"><span>ToSA_by_structural_extraction</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structure_Info|const"><span>Structure_Info</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Default_Simplify|const"><span>𝗌𝗂𝗆𝗉𝗅𝗂𝖿𝗒</span></a></span><span> </span><span class="free"><span>Q'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Default_Simplify|const"><span>:</span></a></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Q'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.\&lt;r&gt;Call|const"><span>𝗋CALL</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Try|const"><span>Try</span></a><span> </span><span class="free"><span>Any</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>W</span></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span><span> </span><span class="free"><span>W</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P1</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>R2</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>R1</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG_def|fact"><span>FOCUS_TAG_def</span></a><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract_def|fact"><span>Structural_Extract_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Simplify_def|fact"><span>Simplify_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Try_def|fact"><span>Try_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.\&lt;r&gt;Call_def|fact"><span>𝗋Call_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_13734..13736">SI</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13741..13742">Q</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13747..13749">SE</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13754..13755">A</span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>Q'</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;|fact"><span class="dynamic"><span class="dynamic"><span>φ</span></span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_13734..13736"><span>SI</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structure_Info_def|fact"><span>Structure_Info_def</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_13741..13742"><span>Q</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>  </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_13754..13755"><span>A</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.implies_right_prod|fact"><span>implies_right_prod</span></a><span class="main"><span>]</span></span><span>
     </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_13747..13749"><span>SE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>Q'</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;|fact"><span class="dynamic"><span class="dynamic"><span>φ</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.ToSA_by_structural_extraction__reverse_morphism|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.ToSA_by_structural_extraction__reverse_morphism|thm"><span>ToSA_by_structural_extraction__reverse_morphism</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structure_Info|const"><span>Structure_Info</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Default_Simplify|const"><span>𝗌𝗂𝗆𝗉𝗅𝗂𝖿𝗒</span></a></span><span> </span><span class="free"><span>Q'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Default_Simplify|const"><span>:</span></a></span><span> </span><span class="free"><span>Q</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Q'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.\&lt;r&gt;Call|const"><span>𝗋CALL</span></a></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Try|const"><span>Try</span></a><span> </span><span class="free"><span>Any</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R1</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>W</span></span><span>
             </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Automatic_Morphism|const"><span>Automatic_Morphism</span></a><span> </span><span class="free"><span>RP2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract|const"><span>Structural_Extract</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>W'</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R1'</span></span><span> </span><span class="free"><span>P2'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>R2</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span><span> </span><span class="free"><span>W</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Automatic_Morphism|const"><span>Automatic_Morphism</span></a><span> </span><span class="free"><span>RP1</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R2'</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span><span> </span><span class="free"><span>W'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P1'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P1</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>R2</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>R1</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span>
      </span><span class="main"><span>(</span></span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Automatic_Morphism|const"><span>Automatic_Morphism</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>RP2</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Compact_Antecedent|const"><span>∧<span class="hidden">⇩</span><sub>𝗋</sub></span></a></span><span> </span><span class="free"><span>RP1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>R2'</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>R1'</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span><span> </span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>A'</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>y'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P1'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P2'</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Premise_def|fact"><span>Premise_def</span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG_def|fact"><span>FOCUS_TAG_def</span></a><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structural_Extract_def|fact"><span>Structural_Extract_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Simplify_def|fact"><span>Simplify_def</span></a><span>
            </span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Morphism_def|fact"><span>Morphism_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Compact_Antecedent_def|fact"><span>Compact_Antecedent_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Try_def|fact"><span>Try_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.\&lt;r&gt;Call_def|fact"><span>𝗋Call_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_14569..14571">SI</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14576..14577">Q</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14582..14584">SE</span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14589..14590">A</span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>Q'</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;|fact"><span class="dynamic"><span class="dynamic"><span>φ</span></span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_14569..14571"><span>SI</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.Structure_Info_def|fact"><span>Structure_Info_def</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_14576..14577"><span>Q</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_14589..14590"><span>A</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.implies_right_prod|fact"><span>implies_right_prod</span></a><span class="main"><span>]</span></span><span>
     </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_14582..14584"><span>SE</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>Q'</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;|fact"><span class="dynamic"><span class="dynamic"><span>φ</span></span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14742..14743">A</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>R2'</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>W'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>A'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P1'</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;_previous|fact"><span class="dynamic"><span class="dynamic"><span>φ_previous</span></span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>RP2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>RP1</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14822..14824">SE</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>R1'</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>W'</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>y'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P2'</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;_previous|fact"><span class="dynamic"><span class="dynamic"><span>φ_previous</span></span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>RP2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>RP1</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_14822..14824"><span>SE</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_14742..14743"><span>A</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.implies_right_prod|fact"><span>implies_right_prod</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.ToSA_skip|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.ToSA_skip|thm"><span>ToSA_skip</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>except</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span></a></span><span> </span><span class="var"><span class="var"><span>?y</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a></a><span> </span><span class="var"><span class="var"><span>?U</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span></a></span><span> </span><span class="var"><span class="var"><span>?x</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a></a><span> </span><span class="var"><span class="var"><span>?T</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span>›</span></span></span></span><span> </span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span> </span><span class="free"><span>R</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>R'</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>R'</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❬</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG|const"><span>❭</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.FOCUS_TAG_def|fact"><span>FOCUS_TAG_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_paired_All|fact"><span>split_paired_All</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_semigroup_mult_class.mult_ac|fact"><span>ab_semigroup_mult_class.mult_ac</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.implies_left_prod|fact"><span>implies_left_prod</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_semigroup_mult_class.mult.commute|fact"><span>mult.commute</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;A&gt;_structural|const"><span>𝒜_structural</span></a><span> </span><span class="free"><span>Act</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;A&gt;_structural|const"><span>𝒜_structural</span></a><span> </span><span class="free"><span>Act</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_12447..12453"><span>φ_cast</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.to|const"><span>to</span></a><span> </span><span class="free"><span>Target</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.to|const"><span>to</span></a><span> </span><span class="free"><span>Target</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_12447..12453"><span>φ_cast</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.\&lt;r&gt;Clean|const"><span>𝗋Clean</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.\&lt;r&gt;Clean|const"><span>𝗋Clean</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.\&lt;r&gt;Clean_def|fact"><span>𝗋Clean_def</span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mk_homo_one</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>If</span></a></a><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a></a><span> </span><span class="main"><span class="main"><span>_</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a></a><span> </span><span class="main"><span class="main"><span>_</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span></a></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.branch_convergence|const"><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.branch_convergence|const"><span>branch_convergence</span></a></a><span>›</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>If</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>Z</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.branch_convergence|const"><span>branch_convergence</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>If</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>z</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>Z</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.branch_convergence|const"><span>branch_convergence</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>P</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_12447..12453"><span>φ_cast</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Conversion</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Types.html#Phi_Types.ExTyp|const"><span>ExTyp</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="Phi_Types.html#Phi_Types.ExTyp|const"><span>∃φ</span></a></span><span> </span><span class="bound"><span>c</span></span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.ExTyp|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type_eqI|fact"><span>φType_eqI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Types.html#Phi_Types.SubjectionTY|const"><span>φ𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Types.html#Phi_Types.SubjectionTY|const"><span>φ𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type_eqI|fact"><span>φType_eqI</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_simp_cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.basic_fiction.\&lt;phi&gt;_simp_cong|thm"><span class="entity_def" id="offset_16311..16322">φ_simp_cong</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.atomize_eq|fact"><span>atomize_eq</span></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T'</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x'</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T'</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>simproc_setup</span></span></span><span> </span><span>φφ_simp_cong</span><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>‹</span><span>
  </span><span>K</span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="entity"><span>Phi_SimpCong.simproc</span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_16311..16322"><span>φ_simp_cong</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="entity"><span>ctxt</span></span><span class="main"><span>)</span></span><span>
</span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Synthesis for moving</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="IDE_CP_Core.html#IDE_CP_Core.Synthesis_Parse|const"><a class="entity_ref" href="IDE_CP_Core.html#IDE_CP_Core.Synthesis_Parse|const"><span>Synthesis_Parse</span></a></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a></a><span> </span><span class="var"><span class="var"><span>?T</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span class="var"><span class="var"><span>?Y</span></span></span><span class="main"><span class="main"><span>::</span></span></span><span class="tvar"><span class="tvar"><span>?'ret</span></span></span><span> </span><span class="main"><span class="main"><span>⇒</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.assn|type"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.assn|type"><span>assn</span></a></a><span class="main"><span class="main"><span>)</span></span></span><span>›</span></span></span></span><span>
</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="IDE_CP_Core.html#IDE_CP_Core.Synthesis_Parse|const"><span>Synthesis_Parse</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.assn|type"><span>assn</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="IDE_CP_Core.html#IDE_CP_Core.Synthesis_Parse_def|fact"><span>Synthesis_Parse_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> lemma [φreason for ‹𝗉𝗋𝗈𝖼 ?f ⦃ ?S1 ⟼ λret. ?S2❟  ❬ ?x ⦂ φ ?T ❭ ⦄ 𝗍𝗁𝗋𝗈𝗐𝗌 ?E›]:
  ‹ SUBGOAL G G'
⟹ S1 𝗂𝗆𝗉𝗅𝗂𝖾𝗌 S2❟ ❬ x ⦂ φ T ❭
⟹ SOLVE_SUBGOAL G'
⟹ 𝗉𝗋𝗈𝖼 Return φV_none ⦃ S1 ⟼ λ_. S2❟ ❬ x ⦂ φ T ❭ ⦄›
  unfolding FOCUS_TAG_def Synthesis_def Action_Tag_def
  using φ__Return_rule__ view_shift_by_implication by blast </span><span>*</span><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Permission Fiction</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.axioms(3)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.axioms(2)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.axioms(1)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction|const"><span>permission_fiction</span></span></span><span> </span><span class="main"><span>=</span></span><span>
   R</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.resource|locale"><span>resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="main"><span>+</span></span><span>  share</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.perm_ins_homo_L|locale"><span>perm_ins_homo_L</span></a><span> </span><span class="quoted"><span class="free"><span>ψ</span></span></span><span>
</span><span class="main"><span>+</span></span><span>  </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.fiction_kind|locale"><span>fiction_kind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.DOMAIN|const"><span>FIC.DOMAIN</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERPRET|const"><span>INTERPRET</span></a></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>R.basic_fiction</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_functional|const"><span>ℱ_functional</span></a><span> </span><span class="free"><span>ψ</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'T</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra|class"><span>sep_algebra</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>ψ</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'T</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'U</span></span><span class="main"><span>::</span></span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share_sep_disj|class"><span>share_sep_disj</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share_module_sep|class"><span>share_module_sep</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra|class"><span>sep_algebra</span></a><span class="main"><span>}</span></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>Fic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'U</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction_entry|type"><span>fiction_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17401..17410">sublocale</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.basic_fiction|locale"><span>basic_fiction</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_functional|const"><span>ℱ_functional</span></a><span> </span><span class="free"><span>ψ</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.sep_disj_fiction|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.sep_disj_fiction|thm"><span>sep_disj_fiction</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span>R.mk</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10107..10122"><span>R.basic_fiction_ℐ</span></a><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span>
            </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><span>R.𝗋_valid_split'</span><span>
            </span><span>R.inject_wand_homo</span><span> </span><span>interp_split'</span><span>
            </span><span>sep_disj_get_name_eq</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span>
            </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>sep_disj_get_name_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD2|fact"><span>sep_disj_multD2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.expand_subj|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.expand_subj|thm"><span class="entity_def" id="offset_17865..17876">expand_subj</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection|const"><span>𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span>R.mk</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10107..10122"><span>R.basic_fiction_ℐ</span></a><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span>
            </span><span>share.homo_sep_wand</span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><span>R.𝗋_valid_split'</span><span>
            </span><span>R.inject_wand_homo</span><span> </span><span>interp_split'</span><span> </span><span>prj.homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><span>interp_split'</span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> res_r a r'</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>res_r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>R.mk</span><span> </span><span class="skolem"><span>a</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span>R.inj.homo_mult</span><span> </span><span>R.sep_disj_mk</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_1upd_homo_right1|fact"><span>fun_1upd_homo_right1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc&apos;|fact"><span>sep_mult_assoc'</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span>R.mk_homo_mult</span><span> </span><span>R.sep_disj_mk</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD1|fact"><span>sep_disj_multD1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI1|fact"><span>sep_disj_multI1</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10107..10122"><span>R.basic_fiction_ℐ</span></a><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><span>R.𝗋_valid_split'</span><span>
        </span><span>R.inject_wand_homo</span><span> </span><span>interp_split'</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc|fact"><span>sep_mult_assoc</span></a><span> </span><span>prj.homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_18665..18670">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> res_r a y</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18702..18704">t1</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18665..18670"><span>prems</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18665..18670"><span>prems</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD2|fact"><span>sep_disj_multD2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>a</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span>R.mk</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span>R.inj.homo_mult</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_1upd_homo|fact"><span>fun_1upd_homo</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18665..18670"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18665..18670"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18665..18670"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>7</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI2|fact"><span>sep_disj_multI2</span></a><span> </span><span>share.homo_mult</span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18702..18704"><span>t1</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18665..18670"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18665..18670"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>8</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>sep_disj_get_name_eq</span><span> </span><span>share.sep_disj_homo_semi</span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_18702..18704"><span>t1</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.expand|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.expand|thm"><span class="entity_def" id="offset_19093..19099">expand</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_19233..19238">prems</span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_17865..17876"><span>expand_subj</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> r</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_19233..19238"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection_True|fact"><span>Subjection_True</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_19233..19238"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>lemma expand_conj:
  ‹ r ∈ FIC.SPACE
⟹ (𝗌𝗍𝖺𝗍𝖾 s 𝗂𝗌 ℐ INTERP (r * mk (perm_ins_homo x))) ∧ r ## mk (perm_ins_homo x)
⟷ (𝗌𝗍𝖺𝗍𝖾 s 𝗂𝗌 ℐ INTERP r * { R.mk x })›
  unfolding φRes_Sat_def
  subgoal premises prems
    using expand_subj[where r=r and x=x, OF prems(1)]
      by (simp add: φexpns) . </span><span>*</span><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.partial_implies_raw|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.permission_fiction.partial_implies_raw|thm"><span>partial_implies_raw</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>n</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.raw_share_class.share|const"><span>share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.raw_share_class.share|const"><span>share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_magma_class.join_sub|const"><span>≼<span class="hidden">⇩</span><sub>S</sub><span class="hidden">⇩</span><sub>L</sub></span></a></span><span> </span><span>R.get</span><span> </span><span class="free"><span>res</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10107..10122"><span>R.basic_fiction_ℐ</span></a><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span>
            </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><span>R.𝗋_valid_split'</span><span> </span><span>R.inject_wand_homo</span><span>
            </span><span>R.prj.homo_mult</span><span> </span><span>interp_split'</span><span> </span><span>prj.homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_magma_class.join_sub_def|fact"><span>join_sub_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra_class.join_sub_ext_left|fact"><span>join_sub_ext_left</span></a><span> </span><span>sep_disj_get_name</span><span> </span><span>share.join_sub_share_join_sub_whole</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_20136..20141">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> u y a</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20169..20171">t0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fields.html#Fields.inverse_class.inverse_divide|const"><span>/</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fields.html#Fields.division_ring_class.nonzero_eq_divide_eq|fact"><span>nonzero_eq_divide_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_less_irrefl|fact"><span>order_less_irrefl</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20136..20141"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20263..20265">t1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fields.html#Fields.inverse_class.inverse_divide|const"><span>/</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fields.html#Fields.inverse_class.inverse_divide|const"><span>/</span></a></span><span> </span><span class="free"><span>n</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20136..20141"><span>prems</span></a><span class="main"><span>(</span></span><span>12</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>t2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.raw_share_class.share|const"><span>share</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fields.html#Fields.inverse_class.inverse_divide|const"><span>/</span></a></span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.raw_share_class.share|const"><span>share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_magma_class.join_sub|const"><span>≼<span class="hidden">⇩</span><sub>S</sub><span class="hidden">⇩</span><sub>L</sub></span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.raw_share_class.share|const"><span>share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_less_imp_le|fact"><span>order_less_imp_le</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20136..20141"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>share.ψ_self_disj</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share_module_sep_class.share_sub|fact"><span>share_sub</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20263..20265"><span>t1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>t3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_magma_class.join_sub|const"><span>≼<span class="hidden">⇩</span><sub>S</sub><span class="hidden">⇩</span><sub>L</sub></span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.raw_share_class.share|const"><span>share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ψ</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share_class.share_share_not0|fact"><span>share_share_not0</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20136..20141"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share_class.share_left_one|fact"><span>share_left_one</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20169..20171"><span>t0</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20263..20265"><span>t1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra_class.join_sub_ext_left|fact"><span>join_sub_ext_left</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20136..20141"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>11</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20136..20141"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_20136..20141"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>sep_disj_get_name</span><span> </span><span>share.homo_join_sub</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Reasoning Rules</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_17401..17410"><span>ToSA_by_structural_extraction</span></a><span>
    </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1210 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>if</span></span></span></span><span> </span><span class="quoted"><span>‹</span><span class="entity"><span class="entity"><span class="entity"><span>PLPR_Env.boolean_flag</span></span></span></span><span> </span><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="operator"><span class="operator"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span></span></span><span>‹</span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><span>ToA_flag_deep</span></a></a></a><span>›</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span>true</span><span> </span><span>o</span><span> </span><span>fst</span><span>›</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_17401..17410"><span>ToSA_by_structural_extraction__reverse_morphism</span></a><span>
    </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1213 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>if</span></span></span></span><span> </span><span class="quoted"><span>‹</span><span class="entity"><span class="entity"><span class="entity"><span>PLPR_Env.boolean_flag</span></span></span></span><span> </span><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="operator"><span class="operator"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span></span></span><span>‹</span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><span>ToA_flag_deep</span></a></a></a><span>›</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span>true</span><span> </span><span>o</span><span> </span><span>fst</span><span>›</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>





</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Identity Fiction</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.axioms(2)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.axioms(1)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction|const"><span class="entity_def" id="offset_21038..21054">identity_fiction</span></span></span><span> </span><span class="main"><span>=</span></span><span>
   R</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.resource|locale"><span>resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="main"><span>+</span></span><span>  </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.fiction_kind|locale"><span>fiction_kind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.DOMAIN|const"><span>FIC.DOMAIN</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERPRET|const"><span>INTERPRET</span></a></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>R.basic_fiction</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_it|const"><span>ℱ_it</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'T</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra|class"><span>sep_algebra</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>Fic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'T</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction_entry|type"><span>fiction_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21221..21230">sublocale</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.basic_fiction|locale"><span>basic_fiction</span></a><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> I </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_it|const"><span>ℱ_it</span></a><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.sep_disj_fiction|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.sep_disj_fiction|thm"><span class="entity_def" id="offset_21272..21288">sep_disj_fiction</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span>R.mk</span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="free"><span>x</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10107..10122"><span>R.basic_fiction_ℐ</span></a><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span>
            </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><span>R.𝗋_valid_split'</span><span>
            </span><span>R.inject_wand_homo</span><span> </span><span>interp_split'</span><span>
            </span><span>sep_disj_get_name_eq</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span>
            </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>sep_disj_get_name_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD2|fact"><span>sep_disj_multD2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.expand_subj|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.expand_subj|thm"><span class="entity_def" id="offset_21677..21688">expand_subj</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection|const"><span>𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10107..10122"><span>R.basic_fiction_ℐ</span></a><span> </span><span>interp_split'</span><span> </span><span>prj.homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>R.mk_homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>R.sep_disj_mk</span><span> </span><span>sep_disj_get_name_eq</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD1|fact"><span>sep_disj_multD1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI1|fact"><span>sep_disj_multI1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc&apos;|fact"><span>sep_mult_assoc'</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>R.mk_homo_mult</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc|fact"><span>sep_mult_assoc</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span>R.mk_homo_mult</span><span> </span><span>R.sep_disj_mk</span><span> </span><span>sep_disj_get_name_eq</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD2|fact"><span>sep_disj_multD2</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI2|fact"><span>sep_disj_multI2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.expand|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction.expand|thm"><span class="entity_def" id="offset_22232..22238">expand</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="free"><span>x</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_22360..22365">prems</span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_21677..21688"><span>expand_subj</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> r</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_22360..22365"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection_True|fact"><span>Subjection_True</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_22360..22365"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_21221..21230"><span>ToSA_by_structural_extraction</span></a><span>
   </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1210 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>if</span></span></span></span><span> </span><span class="quoted"><span>‹</span><span class="entity"><span class="entity"><span class="entity"><span>PLPR_Env.boolean_flag</span></span></span></span><span> </span><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="operator"><span class="operator"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span></span></span><span>‹</span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><span>ToA_flag_deep</span></a></a></a><span>›</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span>true</span><span> </span><span>o</span><span> </span><span>fst</span><span>›</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_21221..21230"><span>ToSA_by_structural_extraction__reverse_morphism</span></a><span>
   </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1213 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>if</span></span></span></span><span> </span><span class="quoted"><span>‹</span><span class="entity"><span class="entity"><span class="entity"><span>PLPR_Env.boolean_flag</span></span></span></span><span> </span><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="operator"><span class="operator"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span></span></span><span>‹</span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><span>ToA_flag_deep</span></a></a></a><span>›</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span>true</span><span> </span><span>o</span><span> </span><span>fst</span><span>›</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Nosep Monolithic Resource</span><span>›</span></span></span><span>
  </span><span class="comment1"><span>― ‹The resource non-sepable and having type shape <span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span>‹'a::nonsepable_semigroup option››</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.axioms|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource|const"><span>nonsepable_mono_resource</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.resource|locale"><span>resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'T</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep|type"><span>nosep</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.fiction_agree_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.fiction_agree_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.fiction_agree_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.fiction_agree.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.fiction_agree.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.fiction_agree|const"><span class="entity_def" id="offset_22948..22961">fiction_agree</span></span></span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>fiction_agree</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>basic_fiction</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_optionwise|const"><span>ℱ_optionwise</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_agree|const"><span>ℱ_agree</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Interp Agreement</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>TODO: ('k ⇒ 'v) nosep option ----&gt; ('k ⇒ 'v share option)
  total to that
  none to none
 </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.axioms(2)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.axioms(1)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource_def|axiom"><span class="entity_def" id="offset_23162..23168">locale</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource|const"><span>agreement_fiction_for_nosepable_mono_resource</span></span></span><span> </span><span class="main"><span>=</span></span><span>
   R</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.nonsepable_mono_resource|locale"><span>nonsepable_mono_resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="main"><span>+</span></span><span>  </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.fiction_kind|locale"><span>fiction_kind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.DOMAIN|const"><span>FIC.DOMAIN</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERPRET|const"><span>INTERPRET</span></a></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_22948..22961"><span>R.fiction_agree</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'T</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep|type"><span>nosep</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>Fic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'T</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep|type"><span>nosep</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.agree|type"><span>agree</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction_entry|type"><span>fiction_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23411..23420">sublocale</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.basic_fiction|locale"><span>basic_fiction</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_optionwise|const"><span>ℱ_optionwise</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_agree|const"><span>ℱ_agree</span></a><span>›</span></span></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.standard|method"><span class="operator"><span>standard</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_23162..23168"><span>R.fiction_agree_def</span></a><span> </span><span>raw_domain</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.partial_implies|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.partial_implies|thm"><span>partial_implies</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.agree.agree|const"><span>agree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.nosep|const"><span>nosep</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.agree.agree|const"><span>agree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.nosep|const"><span>nosep</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span>R.get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.nosep|const"><span>nosep</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_23411..23420"><span>interp_split'</span></a><span>
     </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_23162..23168"><span>R.fiction_agree_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10107..10122"><span>R.basic_fiction_ℐ</span></a><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><span>R.𝗋_valid_split'</span><span>
     </span><span>R.inject_wand_homo</span><span> </span><span>R.prj.homo_mult</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_optionwise_\&lt;I&gt;|fact"><span>ℱ_optionwise_ℐ</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Bex_def|fact"><span>Bex_def</span></a><span>
     </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_agree_def|fact"><span>ℱ_agree_def</span></a><span> </span><span>prj.homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>get</span><span> </span><span class="free"><span>r</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> u y a aa</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>aa</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_24043..24048">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> xa</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>get</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.agree.agree|const"><span>agree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.nosep|const"><span>nosep</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_24117..24119">by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24043..24048"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>sep_disj_get_name</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24117..24119"><span>this</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>get</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.double|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.double|thm"><span class="entity_def" id="offset_24246..24252">double</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><span>mk_homo_mult</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x'</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span>mk</span><span> </span><span class="skolem"><span>x'</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span>mk</span><span> </span><span class="skolem"><span>x'</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x'</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>mk_homo_mult</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.contract|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.contract|thm"><span class="entity_def" id="offset_24539..24547">contract</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x y</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>y</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>mk_homo_mult</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>φ-Type</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.\&lt;phi&gt;_ag|const"><span class="entity_def" id="offset_24779..24783">φ_ag</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_23411..23420"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Agreement|const"><span>Agreement</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Nosep|const"><span>Nosep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_23411..23420"><span>ToSA_by_structural_extraction</span></a><span>
    </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1210 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>if</span></span></span></span><span> </span><span class="quoted"><span>‹</span><span class="entity"><span class="entity"><span class="entity"><span>PLPR_Env.boolean_flag</span></span></span></span><span> </span><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="operator"><span class="operator"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span></span></span><span>‹</span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><span>ToA_flag_deep</span></a></a></a><span>›</span></span></span></span></span><span> </span><span>true</span><span> </span><span>o</span><span> </span><span>fst</span><span>›</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_23411..23420"><span>ToSA_by_structural_extraction__reverse_morphism</span></a><span>
    </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1213 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>if</span></span></span></span><span> </span><span class="quoted"><span>‹</span><span class="entity"><span class="entity"><span class="entity"><span>PLPR_Env.boolean_flag</span></span></span></span><span> </span><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="antiquoted"><span class="operator"><span class="operator"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span></span></span><span>‹</span><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><a class="entity_ref" href="IDE_CP_Reasoning2.html#IDE_CP_Reasoning2.ToA_flag_deep|const"><span>ToA_flag_deep</span></a></a></a><span>›</span></span></span></span></span><span> </span><span>true</span><span> </span><span>o</span><span> </span><span>fst</span><span>›</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.\&lt;phi&gt;_double_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.\&lt;phi&gt;_double_\&lt;phi&gt;app|thm"><span>φ_double_φapp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.agree.agree|const"><span>agree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.nosep|const"><span>nosep</span></a><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>P</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24246..24252"><span>double</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.\&lt;phi&gt;_contract_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.agreement_fiction_for_nosepable_mono_resource.\&lt;phi&gt;_contract_\&lt;phi&gt;app|thm"><span>φ_contract_φapp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>P</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.agree.agree|const"><span>agree</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.nosep|const"><span>nosep</span></a><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>P</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24779..24783"><span>φ_ag</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_24539..24547"><span>contract</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Resources based on Mapping</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.axioms|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource|const"><span>mapping_resource</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.resource|locale"><span>resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra|class"><span>sep_algebra</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.__allocation_rule__|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.__allocation_rule__|thm"><span class="entity_def" id="offset_25971..25990">__allocation_rule__</span></span></span><span>"</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.dom1|const"><span>dom1</span></a><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span>updt</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>𝗋_valid_split'</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><span>inject_wand_homo</span><span>
          </span><span>prj.homo_mult</span><span> </span><span>times_fun_upd</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_26306..26311">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> m</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_26345..26346">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.dom1|const"><span>dom1</span></a><span> </span><span class="skolem"><span>m</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26372..26374">t2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_26345..26346"><span>A</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.dom1_def|fact"><span>dom1_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26459..26461">t3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>res</span></span><span class="main"><span>(</span></span><span>name</span><span> </span><span class="main"><span>:=</span></span><span> </span><span>inject</span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>res</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_idem|fact"><span>fun_upd_idem</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_26306..26311"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>t1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>res</span></span><span class="main"><span>(</span></span><span>name</span><span> </span><span class="main"><span>:=</span></span><span> </span><span>inject</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_split_1_not_dom1|fact"><span>fun_split_1_not_dom1</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> f</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="skolem"><span>m</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_split_1_not_dom1|fact"><span>fun_split_1_not_dom1</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> k</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>k</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_26345..26346"><span>A</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>this</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_26372..26374"><span>t2</span></a><span> </span><span>inj.homo_mult</span><span> </span><span>split</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_1upd_homo_right1|fact"><span>fun_1upd_homo_right1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_sep_disj_1_fupdt|fact"><span>fun_sep_disj_1_fupdt</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>inj.sep_disj_homo_semi</span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_26372..26374"><span>t2</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_26459..26461"><span>t3</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_26306..26311"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_26306..26311"><span>prems</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>One Level Parital Mapping</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Locale for Resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.axioms|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource|const"><span>partial_map_resource</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.mapping_resource|locale"><span>mapping_resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_semigroup|class"><span>nonsepable_semigroup</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.__updt_rule__|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.__updt_rule__|thm"><span class="entity_def" id="offset_27189..27202">__updt_rule__</span></span></span><span>"</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span>updt</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>𝗋_valid_split'</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><span>inject_wand_homo</span><span>
          </span><span>prj.homo_mult</span><span> </span><span>times_fun_upd</span><span> </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_partial_map_upd|fact"><span>sep_disj_partial_map_upd</span></a><span>
          </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_semigroup_sepdisj_fun|fact"><span>nonsepable_semigroup_sepdisj_fun</span></a><span> </span><span>mk_homo_mult</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_27648..27653">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x aa</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27680..27682">t1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>clean</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>x</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_split_1|fact"><span>fun_split_1</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_27648..27653"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>8</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27753..27755">t2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>clean</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="main"><span>(</span></span><span>mk</span><span> </span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_1upd_homo|fact"><span>fun_1upd_homo</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_semigroup_sepdisj_fun|fact"><span>nonsepable_semigroup_sepdisj_fun</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_27648..27653"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_27648..27653"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>sep_disj_mk</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI1|fact"><span>sep_disj_multI1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc&apos;|fact"><span>sep_mult_assoc'</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_27680..27682"><span>t1</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_27753..27755"><span>t2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.__dispose_rule__|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.__dispose_rule__|thm"><span class="entity_def" id="offset_27981..27997">__dispose_rule__</span></span></span><span>"</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span>updt</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_27189..27202"><span>__updt_rule__</span></a><span>"</span></span><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> u</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span>
            </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.one_set_def|fact"><span>one_set_def</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.perm_ins_homo|const"><span class="entity_def" id="offset_28297..28310">perm_ins_homo</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share|type"><span>share</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>perm_ins_homo</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>(o)</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.to_share|const"><span>to_share</span></a><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.share_fiction|const"><span class="entity_def" id="offset_28419..28432">share_fiction</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>basic_fiction</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_functional|const"><span>ℱ_functional</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_28297..28310"><span>perm_ins_homo</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> lemma share_fiction_expn_full:
  ‹φRes_Spec (R * ℐ share_fiction (R2 * Fine (1(k ↦ 1 ⩥ v))))
 = φRes_Spec (R * ℐ share_fiction R2 * { mk (Fine (1(k ↦ v)))})›
  unfolding set_eq_iff
  apply (clarify, rule;
         clarsimp simp add: share_fiction_def basic_fine_fiction_ℐ φexpns fiction_to_share_ℐ
            mult_strip_fine_011 φRes_Spec_def 𝗋_valid_split' inject_wand_homo)
  subgoal premises prems for res_r y a r
    apply (insert ‹a * _ = _›[unfolded to_share_wand_homo[where b=‹1(k ↦ v)›, simplified, OF ‹a ## _›]])
    apply (clarsimp simp add: times_fine'[symmetric] mk_homo_mult mult.assoc[symmetric])
    using prems(3) by blast
  subgoal premises prems for res_r a r proof -
    have t1[simp]: ‹a ## 1(k ↦ v)›
      by (metis prems(6) prems(7) sep_disj_commuteI sep_disj_multD1 sep_mult_commute)
    show ?thesis
    apply (clarsimp simp add: mult.assoc mk_homo_mult[symmetric] times_fine')
      apply (rule exI[where x=res_r], rule exI[where x="mk (Fine (a * 1(k ↦ v)))"], simp add: prems)
      by (metis (no_types, lifting) map_option_o_map_upd t1 to_share_funcomp_1 to_share_funcomp_sep_disj_I to_share_wand_homo)
  qed .


lemma share_fiction_partially_implies:
  ‹ res ∈ φRes_Spec (R * ℐ share_fiction (R2 * Fine (1(k ↦ n ⩥ v))))
⟹ ∃objs. get res = Fine objs ∧ objs k = Some v›
  apply (clarsimp simp add: share_fiction_def basic_fine_fiction_ℐ φexpns fiction_to_share_ℐ
            mult_strip_fine_011 φRes_Spec_def 𝗋_valid_split' inject_wand_homo
            proj_homo_mult)
  subgoal premises prems for res_r y a r proof -
    from ‹a * _ = _›[THEN fun_cong[where x=k], simplified times_fun, simplified]
    have t1: ‹y k = Some v›
      using prems(6) prems(7) strip_share_fun_mult by force
    then show ?thesis apply (simp add: t1 times_fun)
      using prems(9) sep_disj_partial_map_some_none t1 by fastforce
  qed .

lemma
  assumes A: ‹ res ∈ φRes_Spec (R * ℐ share_fiction (R2 * Fine (1(k ↦ n ⩥ v))))›
  shows share_fiction_partially_implies'[simp]: ‹!!( get res) k = Some v›
proof -
  from A[THEN share_fiction_partially_implies]
  show ?thesis by fastforce
qed
</span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.raw_unit_assertion_implies|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.raw_unit_assertion_implies|thm"><span>raw_unit_assertion_implies</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><span>𝗋_valid_split'</span><span> </span><span>inject_wand_homo</span><span>
      </span><span>prj.homo_mult</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_fun|fact"><span>times_fun</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_option_nonsepable|fact"><span>sep_disj_option_nonsepable</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_ab_semigroup_class.sep_mult_commute|fact"><span>sep_mult_commute</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_option|fact"><span>times_option</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Identity Fiction</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.axioms(2)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.axioms(1)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource|const"><span>identity_fiction_for_partial_mapping_resource</span></span></span><span> </span><span class="main"><span>=</span></span><span>
   R</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource|locale"><span>partial_map_resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="main"><span>+</span></span><span>  </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.fiction_kind|locale"><span>fiction_kind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.DOMAIN|const"><span>FIC.DOMAIN</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERPRET|const"><span>INTERPRET</span></a></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>R.basic_fiction</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_it|const"><span>ℱ_it</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_semigroup|class"><span>nonsepable_semigroup</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>Fic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction_entry|type"><span>fiction_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>sublocale</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.identity_fiction|locale"><span>identity_fiction</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Permission Fiction</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.axioms(2)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.axioms(1)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource|const"><span>share_fiction_for_partial_mapping_resource</span></span></span><span> </span><span class="main"><span>=</span></span><span>
   R</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource|locale"><span>partial_map_resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="main"><span>+</span></span><span>  </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.fiction_kind|locale"><span>fiction_kind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.DOMAIN|const"><span>FIC.DOMAIN</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERPRET|const"><span>INTERPRET</span></a></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_28419..28432"><span>R.share_fiction</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_semigroup|class"><span>nonsepable_semigroup</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>Fic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share|type"><span>share</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction_entry|type"><span>fiction_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31608..31617">sublocale</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.permission_fiction|locale"><span>permission_fiction</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_28297..28310"><span>R.perm_ins_homo</span></a><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.standard|method"><span class="operator"><span>standard</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.expand|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.expand|thm"><span class="entity_def" id="offset_31683..31689">expand</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_28297..28310"><span>R.perm_ins_homo</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_28297..28310"><span>R.perm_ins_homo</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec|const"><span>φRes_Spec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="free"><span>x</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_31852..31857">prems</span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_31608..31617"><span>expand_subj</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> r</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_31852..31857"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection_True|fact"><span>Subjection_True</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_31852..31857"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.partial_implies|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.partial_implies|thm"><span class="entity_def" id="offset_31960..31975">partial_implies</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>n</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share.Share|const"><span>Share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share.Share|const"><span>Share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span>R.get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_31608..31617"><span>partial_implies_raw</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> n</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_partial_map_subsumption|fact"><span>nonsepable_partial_map_subsumption</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_split_1|fact"><span>fun_split_1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_same|fact"><span>fun_upd_same</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_magma_class.join_sub_def|fact"><span>join_sub_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.one_option_def|fact"><span>one_option_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_option_nonsepable|fact"><span>sep_disj_option_nonsepable</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_fupdt_1_apply_sep|fact"><span>times_fupdt_1_apply_sep</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.partial_implies&apos;|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.partial_implies&apos;|thm"><span>partial_implies'</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_32415..32417">FS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32443..32444">N</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>n</span></span><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32462..32463">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share.Share|const"><span>Share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32502..32503">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share.Share|const"><span>Share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>R.get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_31960..31975"><span>partial_implies</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_32415..32417"><span>FS</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_32443..32444"><span>N</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_32462..32463"><span>S</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_32502..32503"><span>A</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> lemma VS_merge_ownership_identity:
  ‹ na + nb ≤ 1
⟹ x ⦂ φ (share.φ na Identity) ❟ x ⦂ φ (share.φ nb Identity) 𝗂𝗆𝗉𝗅𝗂𝖾𝗌 x ⦂ φ (share.φ (na + nb) Identity)›
  by (rule VS_merge_ownership; simp add: φexpns)

lemma VS_split_ownership_identity:
  ‹ 𝗉𝗋𝖾𝗆𝗂𝗌𝖾 (0 &lt; n ⟶ na + nb = n ∧ 0 &lt; na ∧ 0 &lt; nb)
⟹ x ⦂ φ (share.φ n Identity) 𝗂𝗆𝗉𝗅𝗂𝖾𝗌 x ⦂ φ (share.φ na Identity) ❟ x ⦂ φ (share.φ nb Identity)›
  by (rule VS_split_ownership; simp add: φexpns sep_disj_fun_def share_fun_def; clarify)
  (* subgoal premises prems for a
    by (insert ‹∀_. _›[THEN spec[where x=a]], cases ‹x a›; simp add: share_All prems) . *)


lemma VS_divide_ownership:
  ‹FIX x ⦂ φ (share.φ n Identity) 𝗂𝗆𝗉𝗅𝗂𝖾𝗌 x ⦂ φ (share.φ (1/2*n) Identity) ❟ x ⦂ φ (share.φ (1/2*n) Identity)›
  unfolding Fix_def
  by (rule VS_split_ownership_identity; simp add: Premise_def)
</span><span>*</span><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable.axioms|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable|const"><span>share_fiction_for_partial_mapping_resource_nonsepable</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource|locale"><span>share_fiction_for_partial_mapping_resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep|type"><span>nosep</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>Fic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep|type"><span>nosep</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share|type"><span>share</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction_entry|type"><span>fiction_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable.\&lt;phi&gt;nonsepable_normalize|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource_nonsepable.\&lt;phi&gt;nonsepable_normalize|thm"><span>φnonsepable_normalize</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span>share.φ</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span>φMapAt</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Some|const"><span>φSome</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Nosep|const"><span>Nosep</span></a><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
 </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.nosep|const"><span>nosep</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span>share.φ</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span>φMapAt</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Some|const"><span>φSome</span></a><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Two Level Parital Mapping</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.map_fun_at_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.map_fun_at_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.map_fun_at_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.map_fun_at_1|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.map_fun_at_1|thm"><span>map_fun_at_1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at_def|fact"><span>map_fun_at_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.map_fun_at_const|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.map_fun_at_const|thm"><span>map_fun_at_const</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at_def|fact"><span>map_fun_at_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Locale of Resources</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.axioms|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2|const"><span>partial_map_resource2</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.mapping_resource|locale"><span>mapping_resource</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'key2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_semigroup|class"><span>nonsepable_semigroup</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.__updt_rule__|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.__updt_rule__|thm"><span class="entity_def" id="offset_34469..34482">__updt_rule__</span></span></span><span>"</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span>updt</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>𝗋_valid_split'</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><span>inject_wand_homo</span><span>
          </span><span>prj.homo_mult</span><span> </span><span>times_fun_upd</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_34894..34899">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x aa</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>aa</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_same|fact"><span>fun_upd_same</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_34894..34899"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_nonsepable|fact"><span>sep_disj_fun_nonsepable</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
        </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at_def|fact"><span>map_fun_at_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_fun_def|fact"><span>times_fun_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_35275..35277">t1</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>clean</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>x</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_split_1|fact"><span>fun_split_1</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_34894..34899"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>8</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_35354..35356">t2</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_35438..35440">t3</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span>clean</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="main"><span>(</span></span><span>mk</span><span> </span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_1upd_homo|fact"><span>fun_1upd_homo</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_35545..35547">t4</span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span>sep_disj_mk</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI1|fact"><span>sep_disj_multI1</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_35275..35277"><span>t1</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_35354..35356"><span>t2</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_35438..35440"><span>t3</span></a><span class="main"><span>)</span></span><span>

    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_34894..34899"><span>prems</span></a><span> </span><span>mk_homo_mult</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_mult_assoc&apos;|fact"><span>sep_mult_assoc'</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_34894..34899"><span>prems</span></a><span class="main"><span>(</span></span><span>6</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_35545..35547"><span>t4</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_34894..34899"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.__dispose_rule__|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.__dispose_rule__|thm"><span class="entity_def" id="offset_35784..35800">__dispose_rule__</span></span></span><span>"</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>:=</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>any</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span>updt</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>𝗋_valid_split'</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><span>inject_wand_homo</span><span>
          </span><span>prj.homo_mult</span><span> </span><span>times_fun_upd</span><span> </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_36144..36149">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x aa</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>aa</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>kk</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'key2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
        </span><span class="entity_def" id="offset_36271..36273">f1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>f</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>kk</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_eq_empty_conv|fact"><span>dom_eq_empty_conv</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.one_option_def|fact"><span>one_option_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>aa</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span class="free"><span>any</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_same|fact"><span>fun_upd_same</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36144..36149"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>ka</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>aa</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="bound"><span>ka</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>any</span></span><span> </span><span class="bound"><span>ka</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.one_option_def|fact"><span>one_option_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.exhaust|fact"><span>option.exhaust</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_nonsepable|fact"><span>sep_disj_fun_nonsepable</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.domIff|fact"><span>domIff</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36271..36273"><span>f1</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.mult_1_class.mult_1_right|fact"><span>mult_1_class.mult_1_right</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.one_option_def|fact"><span>one_option_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36144..36149"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_fun|fact"><span>times_fun</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_36702..36704">t1</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>aa</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> del_insts</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Diff_iff|fact"><span>Diff_iff</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.dom1_upd|fact"><span>dom1_upd</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.dom_1|fact"><span>dom_1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_eq_empty_conv|fact"><span>dom_eq_empty_conv</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_split_1_not_dom1|fact"><span>fun_split_1_not_dom1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_triv|fact"><span>fun_upd_triv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_upd|fact"><span>fun_upd_upd</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insertCI|fact"><span>insertCI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>t2</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>clean</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="skolem"><span>aa</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>x</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_split_1|fact"><span>fun_split_1</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36144..36149"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36144..36149"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36144..36149"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36144..36149"><span>prems</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36144..36149"><span>prems</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_36702..36704"><span>t1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.perm_ins_homo|const"><span class="entity_def" id="offset_37055..37068">perm_ins_homo</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'key2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'key2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share|type"><span>share</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>perm_ins_homo</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>(o)</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>(o)</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.to_share|const"><span>to_share</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.share_fiction|const"><span class="entity_def" id="offset_37199..37212">share_fiction</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_10039..10052"><span>basic_fiction</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.\&lt;F&gt;_functional|const"><span>ℱ_functional</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_37055..37068"><span>perm_ins_homo</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>depreciated!</span><span>*</span><span>)</span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>lemma share_fiction_expn_full':
  ‹φRes_Spec (R * ℐ share_fiction (R2 * Fine (1(k := to_share o f))))
 = φRes_Spec (R * ℐ share_fiction R2 * { mk (Fine (1(k := f)))})›
  unfolding set_eq_iff
  apply (clarify, rule;
         clarsimp simp add: share_fiction_def basic_fine_fiction_ℐ φexpns fiction_to_share_ℐ
            mult_strip_fine_011 φRes_Spec_def 𝗋_valid_split' inject_wand_homo times_fun)
  subgoal premises prems for res_r y a r
    apply (insert ‹∀x. a x * _ = _›[THEN spec[where x=k], simplified,
          unfolded to_share_wand_homo[where b=f, simplified,
                      OF sep_disj_fun[where x=k, OF ‹a ## _›, simplified]]])
      apply (clarify)
      subgoal premises prems2 for a' proof -
        have t1: ‹y = y(k := a') * 1(k := f)›
          unfolding fun_eq_iff times_fun
          apply simp
          by (metis fun_upd_apply mult_1_class.mult_1_right prems2(2) times_fun_def)
        have t2: ‹y(k := a') ## 1(k := f)›
          using prems2(3) sep_disj_fun_def by fastforce
        show ?thesis
          apply (subst t1)
          apply (clarsimp simp add: times_fine'[OF t2, symmetric] mk_homo_mult mult.assoc[symmetric])
          apply (rule exI[where x="res_r * mk (Fine (y(k := a')))"], simp)
          apply (rule exI[where x=res_r], rule exI[where x="mk (Fine (y(k := a')))"], simp add: prems)
          by (smt (verit, del_insts) mult_1_class.mult_1_right one_fun prems(4) prems2(1))
      qed .
    subgoal premises prems for res_r a fic_r r proof -
      have t1: ‹a ## 1(k := f)›
        by (metis prems(7) prems(8) sep_disj_commuteI sep_disj_multD1 sep_mult_commute)
      have t2: ‹fic_r ## 1(k := to_share o f)›
        unfolding sep_disj_fun_def
        apply (clarsimp)
        by (metis comp_apply fun_upd_same prems(4) sep_disj_fun_def t1 to_share_funcomp_sep_disj_I)

      show ?thesis
        apply (clarsimp simp add: mult.assoc mk_homo_mult[symmetric] times_fine'[OF t1])
        apply (rule exI[where x=res_r], rule exI[where x="mk (Fine (a * 1(k := f))) "],
                simp add: prems t2)
        by (smt (verit, best) fun_split_1 fun_upd_def fun_upd_same map_option_o_map_upd prems(4) sep_disj_fun t1 t2 times_fun to_share_funcomp_1 to_share_wand_homo)
    qed .

lemma share_fiction_expn_full:
  ‹φRes_Spec (R * ℐ share_fiction (R2 * Fine (1(k := 1(k2 ↦ 1 ⩥ v)))))
 = φRes_Spec (R * ℐ share_fiction R2 * { mk (Fine (1(k := 1(k2 ↦ v))))})›
  using share_fiction_expn_full'[where f=‹1(k2 ↦ v)›, simplified] .

(*depreciated!*)
lemma share_fiction_partially_implies:
  ‹ res ∈ φRes_Spec (R * ℐ share_fiction (R2 * Fine (1(k := 1(k2 ↦ n ⩥ v)))))
⟹ ∃objs. get res = Fine objs ∧ objs k k2 = Some v›
  apply (clarsimp simp add: share_fiction_def basic_fine_fiction_ℐ φexpns fiction_to_share_ℐ
            mult_strip_fine_011 φRes_Spec_def 𝗋_valid_split' inject_wand_homo
            proj_homo_mult)
  subgoal premises prems for res_r y a r proof -
    note t1 = ‹a ## _›[THEN sep_disj_fun[where x=k], simplified,
                 THEN sep_disj_fun[where x=k2], simplified]
    from ‹∀_. (a * _) _ = _›[THEN spec[where x=k], simplified times_fun, simplified,
          THEN fun_cong[where x=k2],
          simplified times_fun, simplified]
    have t2: ‹y k k2 = Some v›
      using t1 apply (cases ‹a k k2›; cases ‹y k k2›; simp)
      by (metis sep_disj_share share.collapse share.inject times_share)

    then show ?thesis apply (simp add: t2 times_fun)
      by (metis mult_1_class.mult_1_left one_option_def prems(9) sep_disj_fun sep_disj_option_nonsepable(1) t2)
  qed .

lemma
  assumes A: ‹ res ∈ φRes_Spec (R * ℐ share_fiction (R2 * Fine (1(k := 1(k2 ↦ n ⩥ v)))))›
  shows share_fiction_partially_implies'[simp]: ‹!!( get res) k k2 = Some v›
proof -
  from A[THEN share_fiction_partially_implies]
  show ?thesis by fastforce
qed
</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.raw_unit_assertion_implies|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.raw_unit_assertion_implies|thm"><span>raw_unit_assertion_implies</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><span>𝗋_valid_split'</span><span> </span><span>inject_wand_homo</span><span>
      </span><span>prj.homo_mult</span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_fun|fact"><span>times_fun</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_same|fact"><span>fun_upd_same</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_option_nonsepable|fact"><span>sep_disj_option_nonsepable</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_option|fact"><span>times_option</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.raw_unit_assertion_implies&apos;|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.raw_unit_assertion_implies&apos;|thm"><span class="entity_def" id="offset_41442..41469">raw_unit_assertion_implies'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le|const"><span>⊆<span class="hidden">⇩</span><sub>m</sub></span></a></span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_def|fact"><span>φRes_Sat_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_def|fact"><span>φRes_Spec_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_set_def|fact"><span>times_set_def</span></a><span> </span><span>𝗋_valid_split'</span><span> </span><span>inject_wand_homo</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_41662..41667">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x a</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_41693..41695">t1</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>inject</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>inject</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_41662..41667"><span>prems</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>prj.homo_mult</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_41693..41695"><span>t1</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_fun|fact"><span>times_fun</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le_def|fact"><span>map_le_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.fun_sep_disj_imply_v|fact"><span>fun_sep_disj_imply_v</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_triv|fact"><span>fun_upd_triv</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.mult_1_class.mult_1_left|fact"><span>mult_1_class.mult_1_left</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.one_option_def|fact"><span>one_option_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_41662..41667"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>7</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_option_nonsepable|fact"><span>sep_disj_option_nonsepable</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.raw_unit_assertion_implies&apos;&apos;|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.raw_unit_assertion_implies&apos;&apos;|thm"><span>raw_unit_assertion_implies''</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>k2</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_41442..41469"><span>raw_unit_assertion_implies'</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le_def|fact"><span>map_le_def</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Permission Fiction</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.axioms|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.intro|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.axioms(2)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.axioms(1)|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.intro|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2|locale"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2|const"><span>share_fiction_for_partial_mapping_resource2</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  R</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource2|locale"><span>partial_map_resource2</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span>
  </span><span class="main"><span>+</span></span><span>  </span><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.fiction_kind|locale"><span>fiction_kind</span></a><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.DOMAIN|const"><span>FIC.DOMAIN</span></a></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERPRET|const"><span>INTERPRET</span></a></span><span> </span><span class="quoted"><span class="free"><span>Fic</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_37199..37212"><span>R.share_fiction</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>Res</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'key2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_semigroup|class"><span>nonsepable_semigroup</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource_entry|type"><span>resource_entry</span></a><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>Fic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'key2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share|type"><span>share</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction_entry|type"><span>fiction_entry</span></a><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_42533..42542">sublocale</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.permission_fiction|locale"><span>permission_fiction</span></a><span> </span><span class="quoted"><span class="free"><span>Res</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_37055..37068"><span>R.perm_ins_homo</span></a><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.standard|method"><span class="operator"><span>standard</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_37055..37068"><span>R.perm_ins_homo</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.to_share|const"><span>to_share</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.partial_implies|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.partial_implies|thm"><span>partial_implies</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_42533..42542"><span>partial_implies_raw</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.partial_implies&apos;|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.partial_implies&apos;|thm"><span class="entity_def" id="offset_42755..42771">partial_implies'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>n</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share.Share|const"><span>Share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share.Share|const"><span>Share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span>R.get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_42533..42542"><span>partial_implies_raw</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> n</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nonsepable_partial_map_subsumption|fact"><span>nonsepable_partial_map_subsumption</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> del_insts</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.fun_upd_same|fact"><span>fun_upd_same</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_magma_class.join_sub_def|fact"><span>join_sub_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_fun_def|fact"><span>sep_disj_fun_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_option_nonsepable|fact"><span>sep_disj_option_nonsepable</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_fupdt_1_apply_sep|fact"><span>times_fupdt_1_apply_sep</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.times_option|fact"><span>times_option</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.partial_implies&apos;&apos;|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.partial_implies&apos;&apos;|thm"><span>partial_implies''</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_43220..43222">FS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE|const"><span>FIC.SPACE</span></a><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_43248..43249">N</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>n</span></span><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_43267..43268">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_disj_class.sep_disj|const"><span>##</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share.Share|const"><span>Share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_43316..43317">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.share.Share|const"><span>Share</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>R.get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_42755..42771"><span>partial_implies'</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_43220..43222"><span>FS</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_43248..43249"><span>N</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_43267..43268"><span>S</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_43316..43317"><span>A</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Common Instructions</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Drop &amp; Duplicate Value</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="var"><span class="var"><span class="var"><span>?x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span></a></span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><span>Val</span></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span>?raw</span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span>?Y</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span>?P</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span></a></span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.action_dup|const"><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.action_dup|const"><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.action_dup|const"><span>action_dup</span></a></a></a><span>›</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><span>Val</span></a><span> </span><span class="free"><span>raw</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><span>Val</span></a><span> </span><span class="free"><span>raw</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><span>Val</span></a><span> </span><span class="free"><span>raw</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.action_dup|const"><span>action_dup</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="USER_HOME/Current/nu-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200 </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>‹</span><span class="var"><span class="var"><span class="var"><span>?R</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span>?x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span></a></span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><span>Val</span></a></a></a><span> </span><span class="var"><span class="var"><span class="var"><span>?raw</span></span></span></span><span> </span><span class="var"><span class="var"><span class="var"><span>?T</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span>?Y</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply|const"><span>𝖺𝗇𝖽</span></a></span></a></span></a></span><span> </span><span class="var"><span class="var"><span class="var"><span>?P</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span></a></span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.action_drop|const"><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.action_drop|const"><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.action_drop|const"><span>action_drop</span></a></a></a><span>›</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Val|const"><span>Val</span></a><span> </span><span class="free"><span>raw</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="IDE_CP_Applications1.html#IDE_CP_Applications1.action_drop|const"><span>action_drop</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span> </span><a class="entity_ref" href="Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag_def|fact"><span>Action_Tag_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Abnormality</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.throw_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.throw_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.throw_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.throw|const"><span>throw</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.ABNM|type"><span>ABNM</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>throw</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>raw</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.det_lift|const"><span>det_lift</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Abnormality|const"><span>Abnormality</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>raw</span></span></span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.throw_reduce_tail|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.throw_reduce_tail|thm"><span>throw_reduce_tail</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Calculus_of_Programming.html#Calculus_of_Programming.procedure_simps|attribute"><span class="operator"><span>procedure_simps</span></span></a><span class="main"><span>,</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.throw|const"><span>throw</span></a><span> </span><span class="free"><span>any</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind&apos;|const"><span>≫</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.throw|const"><span>throw</span></a><span> </span><span class="free"><span>any</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.throw_def|fact"><span>throw_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind_def|fact"><span>bind_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.det_lift_def|fact"><span>det_lift_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.__throw_rule__|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.__throw_rule__|thm"><span>__throw_rule__</span></span></span><span>"</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="free"><span>X'</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.throw|const"><span>throw</span></a><span> </span><span class="free"><span>excep</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>excep</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Any</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>X'</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_def|fact"><span>φProcedure_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.det_lift_def|fact"><span>det_lift_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.throw_def|fact"><span>throw_def</span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.View_Shift_def|fact"><span>View_Shift_def</span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.view_shift_by_implication|fact"><span>view_shift_by_implication</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.throw_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.throw_\&lt;phi&gt;app|thm"><span>throw_φapp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Remove_Values|const"><span>Remove_Values</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>X</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>X'</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.throw|const"><span>throw</span></a><span> </span><span class="free"><span>excep</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>excep</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>X'</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_def|fact"><span>φProcedure_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.det_lift_def|fact"><span>det_lift_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.throw_def|fact"><span>throw_def</span></a><span> </span><a class="entity_ref" href="IDE_CP_Reasoning1.html#IDE_CP_Reasoning1.Remove_Values_def|fact"><span>Remove_Values_def</span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="Phi_BI.html#Phi_BI.Imply_def|fact"><span>Imply_def</span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.View_Shift_def|fact"><span>View_Shift_def</span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.view_shift_by_implication|fact"><span>view_shift_by_implication</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.op_try_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.op_try_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.op_try_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.op_try|const"><span>op_try</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.ABNM|type"><span>ABNM</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>op_try</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Complete_Lattices.html#Complete_Lattices.Union|const"><span>⋃</span></a></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="keyword1"><span>of</span></span><span> Success </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Success|const"><span>Success</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>}</span></span><span>
                                       </span><span class="main"><span>|</span></span><span> Abnormality </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>s'</span></span><span>
                                       </span><span class="main"><span>|</span></span><span> AssumptionBroken </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.AssumptionBroken|const"><span>AssumptionBroken</span></a><span class="main"><span>}</span></span><span>
                                       </span><span class="main"><span>|</span></span><span> NonTerm </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.NonTerm|const"><span>NonTerm</span></a><span class="main"><span>}</span></span><span>
                                       </span><span class="main"><span>|</span></span><span> Invalid </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Invalid|const"><span>Invalid</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.__op_try__|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.__op_try__|thm"><span>__op_try__</span></span></span><span>"</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y1</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y2</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E2</span></span><span> </span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.op_try|const"><span>op_try</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Y1</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>Y2</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E2</span></span><span>  </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.op_try_def|fact"><span>op_try_def</span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_def|fact"><span>φProcedure_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> comp R x s</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.ring_distribs|fact"><span>ring_distribs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_45611..45616">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> a b u v</span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45611..45616"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>comp</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>R</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|fact"><span>INTERP_SPEC</span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.LooseStateSpec_expn|fact"><span>LooseStateSpec_expn</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45611..45616"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45611..45616"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45611..45616"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>7</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45611..45616"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>8</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45611..45616"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.set_mult_expn|fact"><span>set_mult_expn</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_45849..45854">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> a b c d u v2</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Abnormality|const"><span>Abnormality</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.LooseStateSpec|const"><span>𝒮</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|const"><span>INTERP_SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>Y1</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|const"><span>INTERP_SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>comp</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>R</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span>(</span></span><span>10</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span>(</span></span><span>9</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_46100..46102">by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46100..46102"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Success|const"><span>Success</span></a><span> </span><span class="skolem"><span>c</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.LooseStateSpec|const"><span>𝒮</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|const"><span>INTERP_SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>Y2</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|const"><span>INTERP_SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>E2</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>R</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_46310..46312">by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|fact"><span>INTERP_SPEC</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.set_mult_expn|fact"><span>set_mult_expn</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46310..46312"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|fact"><span>INTERP_SPEC</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_45849..45854"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>11</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.set_mult_expn|fact"><span>set_mult_expn</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_46492..46497">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> a b c d u v</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Abnormality|const"><span>Abnormality</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.LooseStateSpec|const"><span>𝒮</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|const"><span>INTERP_SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>Y1</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|const"><span>INTERP_SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46492..46497"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>comp</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>R</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46492..46497"><span>prems</span></a><span class="main"><span>(</span></span><span>10</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46492..46497"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46492..46497"><span>prems</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46492..46497"><span>prems</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46492..46497"><span>prems</span></a><span class="main"><span>(</span></span><span>9</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_46742..46744">by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46742..46744"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Abnormality|const"><span>Abnormality</span></a><span> </span><span class="skolem"><span>c</span></span><span> </span><span class="skolem"><span>d</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.LooseStateSpec|const"><span>𝒮</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|const"><span>INTERP_SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>Y2</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|const"><span>INTERP_SPEC</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>E2</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46492..46497"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>R</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_46950..46952">by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|fact"><span>INTERP_SPEC</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46492..46497"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.set_mult_expn|fact"><span>set_mult_expn</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_46950..46952"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|fact"><span>INTERP_SPEC</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.set_mult_expn|fact"><span>set_mult_expn</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
     </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>z3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERP_SPEC|fact"><span>INTERP_SPEC</span></a><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.LooseStateSpec_expn|fact"><span>LooseStateSpec_expn</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.LooseStateSpec_expn|fact"><span>LooseStateSpec_expn</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.set_mult_expn|fact"><span>set_mult_expn</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var|const"><span>Union_the_Same_Or_Arbitrary_when_Var</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Z</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Y</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Z</span></span></span></span><span class="main"><span>::</span></span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><span>)</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Y</span></span></span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var__the_Same|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var__the_Same|thm"><span>Union_the_Same_Or_Arbitrary_when_Var__the_Same</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var|const"><span>Union_the_Same_Or_Arbitrary_when_Var</span></a><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>Z</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var_def|fact"><span>Union_the_Same_Or_Arbitrary_when_Var_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var__Arbitrary|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var__Arbitrary|thm"><span>Union_the_Same_Or_Arbitrary_when_Var__Arbitrary</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var|const"><span>Union_the_Same_Or_Arbitrary_when_Var</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="free"><span>Y</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var_def|fact"><span>Union_the_Same_Or_Arbitrary_when_Var_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>φreasoner_ML</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var|const"><span>Union_the_Same_Or_Arbitrary_when_Var</span></a></span><span> 1200
  </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var|const"><span>Union_the_Same_Or_Arbitrary_when_Var</span></a><span> </span><span class="var"><span>?Z</span></span><span> </span><span class="var"><span>?X</span></span><span> </span><span class="var"><span>?Y</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>‹</span><span>
</span><span class="keyword1"><span class="keyword"><span>fn</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=&gt;</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>let</span></span></span><span>
   </span><span> </span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Trueprop|const"><span>Trueprop</span></a><span>›</span></span><span> </span><span>$</span><span> </span><span class="main"><span>(</span></span><span>Const</span><span> </span><span class="main"><span>(</span></span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var|const"><span>Union_the_Same_Or_Arbitrary_when_Var</span></a><span>›</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span>
          </span><span>$</span><span> </span><span class="entity"><span>Z</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span> </span><span>$</span><span> </span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Thm.major_prem_of</span><span> </span><span class="entity"><span>sequent</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>ctxt</span></span><span class="main"><span>,</span></span><span>
        </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span>is_Var</span><span> </span><span class="main"><span>(</span></span><span>Envir.beta_eta_contract</span><span> </span><span class="entity"><span>Z</span></span><span class="main"><span>)</span></span><span>
         </span><span class="keyword2"><span class="keyword"><span>then</span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var__Arbitrary|fact"><span>Union_the_Same_Or_Arbitrary_when_Var__Arbitrary</span></a><span class="antiquote"><span>}</span></span></span></span><span>
         </span><span class="keyword2"><span class="keyword"><span>else</span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var__the_Same|fact"><span>Union_the_Same_Or_Arbitrary_when_Var__the_Same</span></a><span class="antiquote"><span>}</span></span></span></span><span class="main"><span>)</span></span><span>
        </span><span>RS</span><span> </span><span class="entity"><span>sequent</span></span><span class="main"><span>)</span></span><span> </span><span>|&gt;</span><span> </span><span>Seq.single</span><span>
  </span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.try&apos;&apos;_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.try&apos;&apos;_\&lt;phi&gt;app|thm"><span>try''</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_48186..48187">F</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>YY</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_48229..48230">G</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>YY</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>EE2</span></span><span> </span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="free"><span>X</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="free"><span>YY</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>throws</span></span></span><span> </span><span class="quoted"><span class="free"><span>EE2</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.__op_try__|fact"><span>__op_try__</span></a><span>"</span></span><span>
    </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_48186..48187"><span>F</span></a><span>
    </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_48229..48230"><span>G</span></a><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="main"><span>(</span></span><span>nodef</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.try&apos;_\&lt;phi&gt;app|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.try&apos;_\&lt;phi&gt;app|thm"><span>try'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_48380..48381">A</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var|const"><span>Union_the_Same_Or_Arbitrary_when_Var</span></a><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>Y1</span></span><span> </span><span class="free"><span>Y2</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_48440..48441">F</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y1</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_48483..48484">G</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y2</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E2</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="free"><span>X</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="free"><span>Z</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>throws</span></span></span><span> </span><span class="quoted"><span class="free"><span>E2</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.__op_try__|fact"><span>__op_try__</span></a><span>"</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_48440..48441"><span>F</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_48483..48484"><span>G</span></a><span>
    unfold </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_48380..48381"><span>A</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.Union_the_Same_Or_Arbitrary_when_Var_def|fact"><span>Union_the_Same_Or_Arbitrary_when_Var_def</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Access the Resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Legacy</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res|const"><span>φM_get_res</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource|type"><span>resource</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φM_get_res</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res_entry_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res_entry_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res_entry_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res_entry|const"><span>φM_get_res_entry</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource|type"><span>resource</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'k</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φM_get_res_entry</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_get_res|const"><span>φM_get_res</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> Some </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Invalid|const"><span>Invalid</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_set_res_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_set_res_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_set_res_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.\&lt;phi&gt;M_set_res|const"><span>φM_set_res</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'x</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource|type"><span>resource</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.resource|type"><span>resource</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'x</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.unit|type"><span>unit</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span> </span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φM_set_res</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Updt</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Success|const"><span>Success</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>φarg</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>Updt</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Getters</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>basic resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_get_res_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_get_res_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_get_res_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.resource|locale"><span>resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_get_res.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_get_res.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_get_res|const"><span class="entity_def" id="offset_49304..49314">φR_get_res</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'T</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φR_get_res</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_49399..49404">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.resource|locale"><span>resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_get_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_get_res|thm"><span>φR_get_res</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>v</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49304..49314"><span>φR_get_res</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49399..49404"><span>φR_get_res_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_iff|fact"><span>subset_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>nonsepable_mono_resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.\&lt;phi&gt;R_get_res_entry_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.\&lt;phi&gt;R_get_res_entry_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.\&lt;phi&gt;R_get_res_entry_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.nonsepable_mono_resource|locale"><span>nonsepable_mono_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.\&lt;phi&gt;R_get_res_entry.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.\&lt;phi&gt;R_get_res_entry.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.\&lt;phi&gt;R_get_res_entry|const"><span class="entity_def" id="offset_49655..49671">φR_get_res_entry</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'T</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φR_get_res_entry</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49304..49314"><span>φR_get_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="keyword1"><span>of</span></span><span> Some </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.dest|const"><span>nosep.dest</span></a><span> </span><span class="bound"><span>v'</span></span><span class="main"><span>)</span></span><span>
                                                      </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Invalid|const"><span>Invalid</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_49875..49880">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.nonsepable_mono_resource|locale"><span>nonsepable_mono_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.\&lt;phi&gt;R_get_res_entry|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.nonsepable_mono_resource.\&lt;phi&gt;R_get_res_entry|thm"><span>φR_get_res_entry</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.nosep.nosep|const"><span>nosep</span></a><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49655..49671"><span>φR_get_res_entry</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49875..49880"><span>φR_get_res_entry_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49875..49880"><span>φR_get_res_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>partial_map_resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_get_res_entry_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_get_res_entry_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_get_res_entry_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource|locale"><span>partial_map_resource</span></a><span class="main"><span>)</span></span><span>
  </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_get_res_entry.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_get_res_entry.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_get_res_entry|const"><span class="entity_def" id="offset_50168..50184">φR_get_res_entry</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'val</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φR_get_res_entry</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49304..49314"><span>φR_get_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> Some </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Invalid|const"><span>Invalid</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_50340..50345">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource|locale"><span>partial_map_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_get_res_entry|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_get_res_entry|thm"><span class="entity_def" id="offset_50372..50388">φR_get_res_entry</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_50168..50184"><span>φR_get_res_entry</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_50340..50345"><span>φR_get_res_entry_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_50340..50345"><span>φR_get_res_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>subparagraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>identity_fiction_for_partial_mapping_resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource|locale"><span>identity_fiction_for_partial_mapping_resource</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_get_res_entry_frm|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_get_res_entry_frm|thm"><span class="entity_def" id="offset_50689..50709">φR_get_res_entry_frm</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>v</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>key</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Some|const"><span>●</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_50168..50184"><span>R.φR_get_res_entry</span></a><span> </span><span class="free"><span>key</span></span><span> </span><span class="free"><span>F</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>key</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Some|const"><span>●</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_expn_R|fact"><span>φRes_Spec_expn_R</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.imp_conjL|fact"><span>imp_conjL</span></a><span>
            </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_expn_impEx|fact"><span>φRes_Sat_expn_impEx</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_expn_impSubj|fact"><span>φRes_Sat_expn_impSubj</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_22232..22238"><span>expand</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_50372..50388"><span>R.φR_get_res_entry</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> v</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_get_res_entry|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_get_res_entry|thm"><span>φR_get_res_entry</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_50689..50709"><span>φR_get_res_entry_frm</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subparagraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>share_fiction_for_partial_mapping_resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource|locale"><span>share_fiction_for_partial_mapping_resource</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_get_res_entry_frm|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_get_res_entry_frm|thm"><span class="entity_def" id="offset_51273..51293">φR_get_res_entry_frm</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>v</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>key</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share|const"><span>⩥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_50168..50184"><span>R.φR_get_res_entry</span></a><span> </span><span class="free"><span>key</span></span><span> </span><span class="free"><span>F</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>R</span></span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>key</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share|const"><span>⩥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span>
    </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Spec_expn_R|fact"><span>φRes_Spec_expn_R</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_expn_impEx|fact"><span>φRes_Sat_expn_impEx</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat_expn_impSubj|fact"><span>φRes_Sat_expn_impSubj</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.imp_conjL|fact"><span>imp_conjL</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_50372..50388"><span>R.φR_get_res_entry</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> v</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_get_res_entry|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_get_res_entry|thm"><span>φR_get_res_entry</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_51273..51293"><span>φR_get_res_entry_frm</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>partial_map_resource2</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_get_res_entry_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_get_res_entry_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_get_res_entry_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource2|locale"><span>partial_map_resource2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_get_res_entry.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_get_res_entry.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_get_res_entry|const"><span class="entity_def" id="offset_51847..51863">φR_get_res_entry</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'key2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'val</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φR_get_res_entry</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49304..49314"><span>φR_get_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span>
    </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k2</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> Some </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Invalid|const"><span>Invalid</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_52033..52038">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource2|locale"><span>partial_map_resource2</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_get_res_entry|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_get_res_entry|thm"><span class="entity_def" id="offset_52066..52082">φR_get_res_entry</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_51847..51863"><span>φR_get_res_entry</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_52033..52038"><span>φR_get_res_entry_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_52033..52038"><span>φR_get_res_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2|locale"><span>share_fiction_for_partial_mapping_resource2</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.\&lt;phi&gt;R_get_res_entry|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.\&lt;phi&gt;R_get_res_entry|thm"><span class="entity_def" id="offset_52315..52331">φR_get_res_entry</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>v</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k1</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share|const"><span>⩥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_51847..51863"><span>R.φR_get_res_entry</span></a><span> </span><span class="free"><span>k1</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="free"><span>F</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k1</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share|const"><span>⩥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_52066..52082"><span>R.φR_get_res_entry</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> v</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2|locale"><span>share_fiction_for_partial_mapping_resource2</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.\&lt;phi&gt;R_get_res_entry1|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.\&lt;phi&gt;R_get_res_entry1|thm"><span>φR_get_res_entry1</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>v</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k1</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_51847..51863"><span>R.φR_get_res_entry</span></a><span> </span><span class="free"><span>k1</span></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="free"><span>F</span></span><span>
      </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k1</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_52315..52331"><span>φR_get_res_entry</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> n</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Setters</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>fine_resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_set_res_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_set_res_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_set_res_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.resource|locale"><span>resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_set_res.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_set_res.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.resource.\&lt;phi&gt;R_set_res|const"><span class="entity_def" id="offset_53024..53034">φR_set_res</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'T</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.unit|type"><span>unit</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φR_set_res</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.comp.Success|const"><span>Success</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;arg.\&lt;phi&gt;arg|const"><span>φarg</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.Unity|const"><span>()</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>updt</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>partial_map_resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_53163..53168">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource|locale"><span>partial_map_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_set_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_set_res|thm"><span class="entity_def" id="offset_53195..53205">φR_set_res</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>Any</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53163..53168"><span>φR_set_res_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_27189..27202"><span>__updt_rule__</span></a><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource|locale"><span>identity_fiction_for_partial_mapping_resource</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_set_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_set_res|thm"><span class="entity_def" id="offset_53528..53538">φR_set_res</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>res</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>R.get</span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>R.φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Some|const"><span>●</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>𝗋𝖾𝗍</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Some|const"><span>●</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span>
          </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_22232..22238"><span>expand</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_21677..21688"><span>expand_subj</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r res</span><span>
    </span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53195..53205"><span>R.φR_set_res</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> k</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> res</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="skolem"><span>res</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53195..53205"><span>R.φR_set_res</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> k</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> res</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>res</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53528..53538"><span>φR_set_res</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_set_res_frm|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_set_res_frm|thm"><span>φR_set_res_frm</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53528..53538"><span>φR_set_res</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;frame|fact"><span>φframe</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_fun_def|fact"><span>zero_fun_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource|locale"><span>share_fiction_for_partial_mapping_resource</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_set_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_set_res|thm"><span class="entity_def" id="offset_54329..54339">φR_set_res</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>res</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>R.get</span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>R.φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>𝗋𝖾𝗍</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span>
          </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_31683..31689"><span>expand</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_17865..17876"><span>expand_subj</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r res</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53195..53205"><span>R.φR_set_res</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> k</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> res</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span>res</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_54329..54339"><span>φR_set_res</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_set_res_frm|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_set_res_frm|thm"><span>φR_set_res_frm</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_54329..54339"><span>φR_set_res</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;frame|fact"><span>φframe</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_fun_def|fact"><span>zero_fun_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>partial_map_resource2</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_55057..55062">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource2|locale"><span>partial_map_resource2</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_set_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_set_res|thm"><span class="entity_def" id="offset_55090..55100">φR_set_res</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>Any</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_55057..55062"><span>φR_set_res_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_34469..34482"><span>__updt_rule__</span></a><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2|locale"><span>share_fiction_for_partial_mapping_resource2</span></a><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.\&lt;phi&gt;R_set_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.\&lt;phi&gt;R_set_res|thm"><span>φR_set_res</span></span></span><span>"</span></span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>res</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>R.get</span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>R.φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.map_fun_at|const"><span>map_fun_at</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="bound"><span>𝗋𝖾𝗍</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="free"><span>k2</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span>
                            </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_19093..19099"><span>expand</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span>
                            </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_17865..17876"><span>expand_subj</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k2</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r res</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_55090..55100"><span>R.φR_set_res</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Dispose</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>partial_map_resource</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_56230..56235">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource|locale"><span>partial_map_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_dispose_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource.\&lt;phi&gt;R_dispose_res|thm"><span class="entity_def" id="offset_56262..56276">φR_dispose_res</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>Any</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_56230..56235"><span>φR_set_res_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_27981..27997"><span>__dispose_rule__</span></a><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource|locale"><span>identity_fiction_for_partial_mapping_resource</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_dispose_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_dispose_res|thm"><span class="entity_def" id="offset_56595..56609">φR_dispose_res</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>res</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>R.get</span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>R.φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Some|const"><span>●</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_22232..22238"><span>expand</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r res</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_56262..56276"><span>R.φR_dispose_res</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_56595..56609"><span>φR_dispose_res</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_dispose_res_frm|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_dispose_res_frm|thm"><span>φR_dispose_res_frm</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_56595..56609"><span>φR_dispose_res</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;frame|fact"><span>φframe</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_fun_def|fact"><span>zero_fun_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource|locale"><span>share_fiction_for_partial_mapping_resource</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_dispose_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_dispose_res|thm"><span class="entity_def" id="offset_57265..57279">φR_dispose_res</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>res</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>R.get</span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>R.φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Share_Some|const"><span>◉</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_31683..31689"><span>expand</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r res</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_56262..56276"><span>R.φR_dispose_res</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_57265..57279"><span>φR_dispose_res</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_dispose_res_frm|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_dispose_res_frm|thm"><span>φR_dispose_res_frm</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_57265..57279"><span>φR_dispose_res</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;frame|fact"><span>φframe</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_fun_def|fact"><span>zero_fun_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>paragraph</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>partial_map_resource2</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_57902..57907">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.partial_map_resource2|locale"><span>partial_map_resource2</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_dispose_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.partial_map_resource2.\&lt;phi&gt;R_dispose_res|thm"><span class="entity_def" id="offset_57935..57949">φR_dispose_res</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>:=</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>any</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>any</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>Any</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_57902..57907"><span>φR_set_res_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_35784..35800"><span>__dispose_rule__</span></a><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2|locale"><span>share_fiction_for_partial_mapping_resource2</span></a><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.\&lt;phi&gt;R_dispose_res|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.share_fiction_for_partial_mapping_resource2.\&lt;phi&gt;R_dispose_res|thm"><span>φR_dispose_res</span></span></span><span>"</span></span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;CONSEQ&apos;E0|fact"><span>φCONSEQ'E0</span></a></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>res</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>R.mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>
      </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span>R.get</span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span>R.get</span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>R.φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
         </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.to_share|const"><span>to_share</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.zero_set_def|fact"><span>zero_set_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_19093..19099"><span>expand</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r res</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_57935..57949"><span>R.φR_dispose_res</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>assumption</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.standard|method"><span class="operator"><span>standard</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_58802..58807">prems</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_58827..58829">t1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span>R.get</span><span> </span><span class="skolem"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_58802..58807"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_58802..58807"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_58911..58913">t2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le|const"><span>⊆<span class="hidden">⇩</span><sub>m</sub></span></a></span><span> </span><span>R.get</span><span> </span><span class="skolem"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_41442..41469"><span>R.raw_unit_assertion_implies'</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_58802..58807"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_59008..59010">t3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>R.get</span><span> </span><span class="skolem"><span>res</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le_antisym|fact"><span>map_le_antisym</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le_def|fact"><span>map_le_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_58827..58829"><span>t1</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_58911..58913"><span>t2</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_58802..58807"><span>prems</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_59008..59010"><span>t3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Allocate</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_allocate_res_entry_def|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_allocate_res_entry_def|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_allocate_res_entry_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.mapping_resource|locale"><span>mapping_resource</span></a><span class="main"><span>)</span></span><span>
    </span><span class="entity"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_allocate_res_entry.cong|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_allocate_res_entry.cong|thm"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_allocate_res_entry|const"><span class="entity_def" id="offset_59231..59252">φR_allocate_res_entry</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span>
                           </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'val</span></span><span>
                           </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'key</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span class="main"><span>)</span></span><span>
                           </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'ret</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VALs|class"><span>VALs</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc|type"><span>proc</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>φR_allocate_res_entry</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>init</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_49304..49314"><span>φR_get_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span>
    </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>@</span></span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><span>in</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>init</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.bind&apos;|const"><span>≫</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span>
</span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_59553..59558">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.mapping_resource|locale"><span>mapping_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_set_res_new|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_set_res_new|thm"><span class="entity_def" id="offset_59581..59595">φR_set_res_new</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.dom1|const"><span>dom1</span></a><span> </span><span class="main"><span>(</span></span><span>get</span><span> </span><span class="free"><span>res</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_53024..53034"><span>φR_set_res</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>Any</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_59553..59558"><span>φR_set_res_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_25971..25990"><span>__allocation_rule__</span></a><span>"</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_59846..59851">lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.mapping_resource|locale"><span>mapping_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_allocate_res_entry|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.mapping_resource.\&lt;phi&gt;R_allocate_res_entry|thm"><span class="entity_def" id="offset_59874..59895">φR_allocate_res_entry</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>init</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>res</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="main"><span>{</span></span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="free"><span>init</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Phi_BI.html#Phi_BI.Subjection|const"><span>𝗌𝗎𝖻𝗃</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span>
      </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="free"><span>R</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_59231..59252"><span>φR_allocate_res_entry</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>init</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗋𝖾𝗌𝗎𝗅𝗍𝗌</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗂𝗇</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Comp_Sat&apos;|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_59846..59851"><span>φR_allocate_res_entry_def</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_59846..59851"><span>φR_get_res_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_60250..60255">prems</span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?m</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span>get</span><span> </span><span class="free"><span>res</span></span><span>›</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_60291..60297">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>k'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><span class="var"><span>?m</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>k'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="var"><span>?m</span></span><span> </span><span class="bound"><span>k'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k'</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_9891..9904"><span>get_res_Valid</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_60250..60255"><span>prems</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_60250..60255"><span>prems</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_60416..60418">by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_60416..60418"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.someI_ex|fact"><span>someI_ex</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_60468..60470">t1</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="var"><span>?m</span></span><span> </span><span class="skolem"><span>k'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="skolem"><span>k'</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_60291..60297"><span>k'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_60291..60297"><span>k'_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;M_RS_WP_SEQ|fact"><span>φM_RS_WP_SEQ</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_59581..59595"><span>φR_set_res_new</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_60250..60255"><span>prems</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_60468..60470"><span>t1</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.dom1_def|fact"><span>dom1_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗌𝗍𝖺𝗍𝖾</span></a></span><span> </span><span class="free"><span>res</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Res_Sat&apos;|const"><span>𝗂𝗌</span></a></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>this</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_60250..60255"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource|locale"><span>identity_fiction_for_partial_mapping_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="quoted"><span>"</span><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_allocate_res_entry|fact"><span class="entity_def" id="PhiSem_Formalization_Tools.identity_fiction_for_partial_mapping_resource.\&lt;phi&gt;R_allocate_res_entry|thm"><span>φR_allocate_res_entry</span></span></span><span>"</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>init</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics_Framework/Resource_Space.html#Resource_Space.sep_closed_member|const"><span>∈<span class="hidden">⇩</span><sub>S</sub></span></a></span><span> </span><span>R.domain</span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>new</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>new</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>new</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>init</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_11175..11176"><span>φ</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>new</span></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;MapAt|const"><span><span class="hidden">❙</span><b>→</b></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Phi_Types.html#Phi_Types.\&lt;phi&gt;Some|const"><span>●</span></a></span><span> </span><a class="entity_ref" href="Phi_Types.html#Phi_Types.Identity|const"><span>Identity</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_59231..59252"><span>R.φR_allocate_res_entry</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>init</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦃</span></a></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⟼</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>⦄</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure|const"><span>𝗍𝗁𝗋𝗈𝗐𝗌</span></a></span><span> </span><span class="free"><span>E</span></span><span>›</span></span></span><span>
 </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Phi_Preliminary.html#Phi_Preliminary.\&lt;phi&gt;expns|fact"><span class="dynamic"><span class="dynamic"><span>φexpns</span></span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.\&lt;phi&gt;Procedure_Hybrid_DL|fact"><span>φProcedure_Hybrid_DL</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> r res c</span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_59874..59895"><span>R.φR_allocate_res_entry</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> R</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.interp.\&lt;I&gt;|const"><span>ℐ</span></a><span> </span><span>INTERP</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="entity_def" id="offset_61345..61350">prems</span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> k res'</span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="skolem"><span>r</span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span></span><span class="quoted"><span class="skolem"><span>res'</span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span>
              </span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.mp|fact"><span>mp</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span>mk</span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>init</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>SPACE_mult_homo</span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_22232..22238"><span>expand</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>7</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>8</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.comm_sep_disj_class.sep_disj_commute|fact"><span>sep_disj_commute</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_21272..21288"><span>sep_disj_fiction</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD2|fact"><span>sep_disj_multD2</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_ab_semigroup_class.sep_mult_commute|fact"><span>sep_mult_commute</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_algebra_class.sep_mult_left_commute|fact"><span>sep_mult_left_commute</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.SPACE_mult_homo|fact"><span>FIC.SPACE_mult_homo</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span>(</span></span><span>6</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span>(</span></span><span>8</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span>(</span></span><span>9</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_21272..21288"><span>sep_disj_fiction</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD2|fact"><span>sep_disj_multD2</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span>Fic_Space_m</span><span> </span><span>SPACE_mult_homo</span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#PhiSem_Formalization_Tools.identity_fiction.sep_disj_fiction|fact"><span>identity_fiction.sep_disj_fiction</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_21038..21054"><span>identity_fiction_axioms</span></a><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>6</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>7</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>8</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="PhiSem_Formalization_Tools.html#offset_61345..61350"><span>prems</span></a><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multD2|fact"><span>sep_disj_multD2</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.sep_semigroup_class.sep_disj_multI2|fact"><span>sep_disj_multI2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>



</span><span class="comment1"><span>(</span><span>*</span><span>


(*
subsection ‹Tuple Operations›



subsubsection ‹Construct Tuple›

definition cons_tup :: "TY list ⇒ VAL list ⇒ (VAL,'RES_N,'RES) proc"
  where "cons_tup tys vs = (
    let N = length tys in
    φM_assert (N ≤ length vs ∧ list_all2 (λv t. v ∈ Well_Type t) (rev (take N vs)) tys)
    ≫ Success (V_tup.mk (rev (take N vs))))"

lemma cons_tup_nil:
  ‹cons_tup [] = φM_put_Val (V_tup.mk [])›
  unfolding cons_tup_def φM_put_Val_def
  by simp

lemma cons_tup_cons:
  ‹cons_tup (TY#TYs) =
    cons_tup TYs ≫
    φM_get_Val (λtup.
    φM_get_Val (λv.
    φM_assert (v ∈ Well_Type TY) ≫
    φM_put_Val (V_tup.mk [v] * tup)
    ))›
  apply (auto split: list.split
    simp add: cons_tup_def fun_eq_iff pair_forall instr_comp_def bind_def
    φM_get_Val_def φM_assert_def φM_put_Val_def Let_def V_tup_mult)
  apply (metis Suc_le_eq list.sel(1) take_hd_drop)
  apply (metis Cons_nth_drop_Suc Suc_le_eq list.sel(3))
  apply (metis Suc_le_eq drop_all leI list.simps(3))
  apply (metis (no_types, lifting) drop_all leI list.ctr_transfer(1) list.sel(1) list.simps(3) list_all2_Cons2 list_all2_appendI list_all2_rev1 rev.simps(2) take_hd_drop)
  apply (smt (verit, del_insts) Suc_le_eq append1_eq_conv list.sel(1) list_all2_Cons2 rev_eq_Cons_iff take_hd_drop)
  by (simp add: take_Suc_conv_app_nth)

lemma (in φempty) op_cons_tup_nil:
  ‹ 𝗉𝗋𝗈𝖼 cons_tup [] ⦃ Void ⟼ () ⦂ EmptyTuple ⦄›
  unfolding cons_tup_nil by φreason

lemma (in φempty) op_cons_tup_cons:
  ‹ 𝗉𝗋𝗈𝖼 cons_tup TYs ⦃ X ⟼ VAL y ⦂ Y ⦄
⟹ φSemType (a ⦂ A) TY
⟹ 𝗉𝗋𝗈𝖼 cons_tup (TY#TYs) ⦃ VAL a ⦂ A❟ X ⟼ VAL (a,y) ⦂ (♣ A ∗ Y) ⦄›
  unfolding cons_tup_cons
  apply φreason apply (rule φframe0, assumption)
  apply φreason apply (simp add: φSemType_def subset_iff)
  apply φreason apply (simp add: φexpns) by blast


subsubsection ‹Destruct Tuple›


definition op_dest_tup :: "TY list ⇒ (VAL,'RES_N,'RES) proc"
  where "op_dest_tup tys =
    φM_getV (τTuple tys) V_tup.dest (λtup.
    λ(vs, res). Success (rev tup@vs, res))"

lemma op_dest_tup_nil_expn:
  ‹op_dest_tup [] = φM_getV (τTuple []) V_tup.dest (λ_. SKIP)›
  by (auto split: list.split
    simp add: op_dest_tup_def φM_get_Val_def φM_put_Val_def φM_getV_def Let_def fun_eq_iff φM_assert_def
      instr_comp_def bind_def)

lemma op_dest_tup_cons_expn:
  ‹op_dest_tup (TY#TYs) =
    φM_get_Val (λtup.
    φM_assert (∃h tup'. tup = V_tup.mk (h#tup') ∧ h ∈ Well_Type TY) ≫
    φM_put_Val (hd (V_tup.dest tup)) ≫
    φM_put_Val (V_tup.mk (tl (V_tup.dest tup))) ≫
    op_dest_tup TYs)›
  apply (auto split: list.split
    simp add: op_dest_tup_def φM_get_Val_def φM_put_Val_def φM_getV_def Let_def fun_eq_iff φM_assert_def
      instr_comp_def bind_def)
  by (metis list.discI list.exhaust_sel list.rel_sel list.sel(1))

lemma (in φempty) op_dest_tup_nil:
  ‹𝗉𝗋𝗈𝖼 op_dest_tup [] ⦃ () ⦂ EmptyTuple ⟼ Void ⦄ ›
  unfolding op_dest_tup_nil_expn by φreason

lemma (in φempty) op_dest_tup_cons:
  ‹ 𝗉𝗋𝗈𝖼 op_dest_tup TYs ⦃ VAL y ⦂ Y ⟼ X ⦄
⟹ φSemType (a ⦂ A) TY
⟹ 𝗉𝗋𝗈𝖼 op_dest_tup (TY#TYs) ⦃ VAL (a,y) ⦂ (♣ A ∗ φIs_Tuple Y) ⟼ VAL a ⦂ A❟ X ⦄›
  unfolding op_dest_tup_cons_expn
  apply φreason apply (clarsimp simp add: φSemType_def subset_iff V_tup_mult φexpns)
  apply φreason apply (clarsimp simp add: φSemType_def subset_iff V_tup_mult φexpns, assumption)
  apply φreason apply (clarsimp simp add: φSemType_def subset_iff V_tup_mult φexpns, assumption)
  by (rule φframe0, assumption)



subsubsection ‹Accessing Elements›


definition op_get_element :: "nat list ⇒ TY ⇒ (VAL,'RES_N,'RES) proc"
  where "op_get_element idx TY =
    φM_get_Val (λv.
    φM_assert (v ∈ Well_Type TY ∧ valid_index TY idx) ≫
    φM_put_Val (index_value idx v))"

definition op_set_element :: "nat list ⇒ TY ⇒ (VAL,'RES_N,'RES) proc"
  where "op_set_element idx TY =
    φM_get_Val (λu.
    φM_get_Val (λv.
    φM_assert (v ∈ Well_Type TY ∧ valid_index TY idx ∧ u ∈ Well_Type (index_type idx TY)) ≫
    φM_put_Val (index_mod_value idx (λ_. u) v)
  ))"

lemma (in φempty) op_get_element:
  ‹ 𝗌𝗂𝗆𝗉𝗋𝖾𝗆 valid_index TY idx
⟹ φSemType (x ⦂ X) TY
⟹ φIndex_getter idx X Y f
⟹ 𝗉𝗋𝗈𝖼 op_get_element idx TY ⦃ VAL x ⦂ X ⟼ VAL f x ⦂ Y ⦄ ›
  unfolding op_get_element_def φIndex_getter_def Premise_def
  apply φreason apply (simp add: φSemType_def subset_iff)
  by φreason

lemma (in φempty) op_set_element:
  ‹ 𝗌𝗂𝗆𝗉𝗋𝖾𝗆 valid_index TY idx
⟹ φIndex_mapper idx X Y f
⟹ φSemType (x ⦂ X) TY
⟹ φSemType (y ⦂ Y) (index_type idx TY)
⟹ 𝗉𝗋𝗈𝖼 op_set_element idx TY ⦃ VAL x ⦂ X❟ VAL y ⦂ Y ⟼ f (λ_. y) x ⦂ X ⦄›
  unfolding op_set_element_def φIndex_mapper_def Premise_def
  apply φreason apply (simp add: φSemType_def subset_iff)
   apply (simp add: φSemType_def subset_iff)
  by φreason


*)

</span><span>*</span><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>