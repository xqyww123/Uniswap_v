<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Uniswap_Tick</title>
</head>


<body>
<div class="head">
<h1>Theory Uniswap_Tick</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Uniswap_Tick.html"><span>Uniswap_Tick</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Uniswap_Common.html"><span>Uniswap_Common</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Semantics</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Models of Tick</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;trace_reasoning|attribute"><span class="operator"><span>φtrace_reasoning</span></span></a><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> 0</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.arity_full_exhaustive_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.full_exhaustive_tick_info.simps|fact"><span class="entity_def" id="Uniswap_Tick.full_exhaustive_tick_info_inst.full_exhaustive_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_narrowing_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.narrowing_tick_info.simps|fact"><span class="entity_def" id="Uniswap_Tick.narrowing_tick_info_inst.narrowing_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_random_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.random_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.random_tick_info_inst.random_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.random_aux.simps|fact"><span class="entity_def" id="Uniswap_Tick.random_aux_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.size_gen|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.size|fact"><span class="entity_def" id="Uniswap_Tick.arity_size_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.size_tick_info_overloaded_def|fact"><span class="entity_def" id="Uniswap_Tick.size_tick_info_inst.size_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.size_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.simps|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.rec_transfer|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.rec|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.induct|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.case_transfer|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.splits|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.split_sels|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.split_sel_asm|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.split_sel|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.split_asm|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.split|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.sel|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.nchotomy|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.inject|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.expand|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.exhaust_sel|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.exhaust_disc|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.exhaust|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.disc_eq_case|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.collapse|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.case_eq_if|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.case_distrib|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.case_cong_weak|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.case_cong|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.case|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.eq.simps|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.eq.refl|fact"><span class="entity_def" id="Uniswap_Tick.arity_equal_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.equal_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.equal_tick_info_inst.equal_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_partial_term_of_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.partial_term_of_tick_info_triv|fact"><span class="entity_def" id="Uniswap_Tick.partial_term_of_tick_info_inst.partial_term_of_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_term_of_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.term_of_tick_info_triv|fact"><span class="entity_def" id="Uniswap_Tick.term_of_tick_info_inst.term_of_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.initialized_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.liquidityNet_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.liquidityGross_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.growth_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.case_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_rec_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.dtor_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_fold_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.arity_typerep_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.typerep_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.typerep_tick_info_inst.typerep_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info_induct|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info_induct|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info_cases|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info_cases|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info_inject|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info_inject|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info_inverse|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info_inverse|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.type_definition_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.str_init_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.arity_typerep_tick_info_IITN_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_IITN_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_IITN_tick_info_inst.typerep_tick_info_IITN_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info_induct|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info_induct|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info_cases|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info_cases|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info_inject|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info_inject|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info_inverse|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info_inverse|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.type_definition_tick_info_IITN_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info_IITN_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.min_alg_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.mor_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.alg_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.set_pre_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.rel_pre_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.map_pre_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.arity_typerep_tick_info_pre_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_pre_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_pre_tick_info_inst.typerep_tick_info_pre_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info_induct|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info_induct|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info_cases|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info_cases|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info_inject|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info_inject|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info_inverse|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info_inverse|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.type_definition_tick_info_pre_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info_pre_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_full_exhaustive_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.full_exhaustive_tick_info.simps|thm"><span class="entity_def" id="Uniswap_Tick.full_exhaustive_tick_info_inst.full_exhaustive_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.arity_narrowing_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.narrowing_tick_info.simps|thm"><span class="entity_def" id="Uniswap_Tick.narrowing_tick_info_inst.narrowing_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.arity_random_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.random_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.random_tick_info_inst.random_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.random_aux.simps|thm"><span class="entity_def" id="Uniswap_Tick.random_aux_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.size_gen|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.size(2)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.size(1)|thm"><span class="entity_def" id="Uniswap_Tick.arity_size_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.size_tick_info_overloaded_def|thm"><span class="entity_def" id="Uniswap_Tick.size_tick_info_inst.size_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.size_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.simps(3)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.simps(2)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.simps(1)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.rec_transfer|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.rec|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.induct|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.case_transfer|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.splits(2)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.splits(1)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.split_sels(2)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.split_sels(1)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.split_sel_asm|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.split_sel|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.split_asm|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.split|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.sel(4)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.sel(3)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.sel(2)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.sel(1)|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.nchotomy|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.inject|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.expand|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.exhaust_sel|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.exhaust_disc|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.exhaust|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.disc_eq_case|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.collapse|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.case_eq_if|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.case_distrib|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.case_cong_weak|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.case_cong|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.case|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.eq.simps|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.eq.refl|thm"><span class="entity_def" id="Uniswap_Tick.arity_equal_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.equal_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.equal_tick_info_inst.equal_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.arity_partial_term_of_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.partial_term_of_tick_info_triv|thm"><span class="entity_def" id="Uniswap_Tick.partial_term_of_tick_info_inst.partial_term_of_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.arity_term_of_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.term_of_tick_info_triv|thm"><span class="entity_def" id="Uniswap_Tick.term_of_tick_info_inst.term_of_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.initialized_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.liquidityNet_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.liquidityGross_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.growth_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.case_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_rec_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.dtor_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_fold_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.arity_typerep_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.typerep_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.typerep_tick_info_inst.typerep_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info_induct|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info_induct|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info_cases|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info_cases|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info_inject|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info_inject|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info_inverse|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info_inverse|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.type_definition_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.str_init_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.arity_typerep_tick_info_IITN_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_IITN_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_IITN_tick_info_inst.typerep_tick_info_IITN_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info_induct|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info_induct|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info_cases|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info_cases|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info_inject|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info_inject|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info_inverse|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info_inverse|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.type_definition_tick_info_IITN_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info_IITN_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.min_alg_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.mor_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.alg_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.set_pre_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.rel_pre_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.map_pre_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.arity_typerep_tick_info_pre_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_pre_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_pre_tick_info_inst.typerep_tick_info_pre_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info_induct|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info_induct|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info_cases|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info_cases|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info_inject|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info_inject|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info_inverse|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info_inverse|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.type_definition_tick_info_pre_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info_pre_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.full_exhaustive_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.full_exhaustive_tick_info_inst.full_exhaustive_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.narrowing_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.narrowing_tick_info_inst.narrowing_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.random_tick_info_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.random_tick_info_inst.random_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.random_aux_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.size_tick_info_overloaded_def|axiom"><span class="entity_def" id="Uniswap_Tick.size_tick_info_inst.size_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.size_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.rec_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.equal_tick_info_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.equal_tick_info_inst.equal_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.partial_term_of_tick_info_triv_raw|axiom"><span class="entity_def" id="Uniswap_Tick.partial_term_of_tick_info_inst.partial_term_of_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.term_of_tick_info_triv_raw|axiom"><span class="entity_def" id="Uniswap_Tick.term_of_tick_info_inst.term_of_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.initialized_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.liquidityNet_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.liquidityGross_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.growth_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.case_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_rec_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.dtor_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_fold_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.typerep_tick_info_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.typerep_tick_info_inst.typerep_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.type_definition_tick_info|axiom"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.str_init_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_IITN_tick_info_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_IITN_tick_info_inst.typerep_tick_info_IITN_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.type_definition_tick_info_IITN_tick_info|axiom"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info_IITN_tick_info|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.min_alg_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.mor_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.alg_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.wit_pre_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.pred_pre_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.rel_pre_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.set_pre_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.map_pre_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_pre_tick_info_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_pre_tick_info_inst.typerep_tick_info_pre_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.type_definition_tick_info_pre_tick_info|axiom"><span class="entity_def" id="Uniswap_Tick.arity_type_tick_info_pre_tick_info|axiom"><span class="entity_def" id="Uniswap_Tick.full_exhaustive_tick_info_inst.full_exhaustive_tick_info|const"><span class="entity_def" id="Uniswap_Tick.narrowing_tick_info_inst.narrowing_tick_info|const"><span class="entity_def" id="Uniswap_Tick.random_tick_info_inst.random_tick_info|const"><span class="entity_def" id="Uniswap_Tick.random_aux_tick_info|const"><span class="entity_def" id="Uniswap_Tick.size_tick_info_inst.size_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.size_tick_info|const"><span class="entity_def" id="Uniswap_Tick.equal_tick_info_inst.equal_tick_info|const"><span class="entity_def" id="Uniswap_Tick.partial_term_of_tick_info_inst.partial_term_of_tick_info|const"><span class="entity_def" id="Uniswap_Tick.term_of_tick_info_inst.term_of_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.case_tick_info|const"><span class="entity_def" id="Uniswap_Tick.typerep_tick_info_inst.typerep_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.Abs_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.Rep_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_IITN_tick_info_inst.typerep_tick_info_IITN_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Abs_tick_info_IITN_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info.Rep_tick_info_IITN_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.mor_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.alg_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.typerep_tick_info_pre_tick_info_inst.typerep_tick_info_pre_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Abs_tick_info_pre_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info.Rep_tick_info_pre_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_IITN_tick_info|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.tick_info.rec_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_rec_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.dtor_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_fold_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.ctor_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.str_init_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info.min_alg_tick_info|const"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.wit_pre_tick_info|const"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.pred_pre_tick_info|const"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.rel_pre_tick_info|const"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.set_pre_tick_info|const"><span class="entity_def" id="Uniswap_Tick.pre_tick_info.tick_info.map_pre_tick_info|const"><span class="entity_def" id="Uniswap_Tick.tick_info|type"><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info_pre_tick_info|type"><span>tick_info</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity_def" id="Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></span><span>
  </span><span class="main"><span>(</span></span><span class="free"><span class="entity"><span class="entity_def" id="Uniswap_Tick.tick_info.growth|const"><span>growth</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth|type"><span>growth</span></a></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>(</span></span><span class="free"><span class="entity"><span class="entity_def" id="Uniswap_Tick.tick_info.liquidityGross|const"><span>liquidityGross</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>(</span></span><span class="free"><span class="entity"><span class="entity_def" id="Uniswap_Tick.tick_info.liquidityNet|const"><span>liquidityNet</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>(</span></span><span class="free"><span class="entity"><span class="entity_def" id="Uniswap_Tick.tick_info.initialized|const"><span>initialized</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>‹</span><span>Sign.mandatory_path</span><span> </span><span class="inner_quoted"><span>"tick_info"</span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.tick_info.map_growth_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.map_growth_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.map_growth_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Uniswap_Tick.tick_info.map_growth|const"><span>map_growth</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> tick_info </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>l1</span></span><span> </span><span class="bound"><span>l2</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>l1</span></span><span> </span><span class="bound"><span>l2</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.map_growth|const"><span>tick_info.map_growth</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>l1</span></span><span> </span><span class="free"><span>l2</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>l1</span></span><span> </span><span class="free"><span>l2</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.map_growth_def|fact"><span>tick_info.map_growth_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.tick_info.map_initialized_def|fact"><span class="entity_def" id="Uniswap_Tick.tick_info.map_initialized_def|thm"><span class="entity_def" id="Uniswap_Tick.tick_info.map_initialized_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Uniswap_Tick.tick_info.map_initialized|const"><span>map_initialized</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> tick_info </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>l1</span></span><span> </span><span class="bound"><span>l2</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>l1</span></span><span> </span><span class="bound"><span>l2</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.map_initialized|const"><span>tick_info.map_initialized</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>l1</span></span><span> </span><span class="free"><span>l2</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>l1</span></span><span> </span><span class="free"><span>l2</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.map_initialized_def|fact"><span>tick_info.map_initialized_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>‹</span><span>Sign.parent_path</span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.map_liquidityGross_def|fact"><span class="entity_def" id="Uniswap_Tick.map_liquidityGross_def|thm"><span class="entity_def" id="Uniswap_Tick.map_liquidityGross_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Uniswap_Tick.map_liquidityGross|const"><span>map_liquidityGross</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> tick_info </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>l1</span></span><span> </span><span class="bound"><span>l2</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>l1</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>l2</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.map_liquidityGross|const"><span>map_liquidityGross</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>l1</span></span><span> </span><span class="free"><span>l2</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="free"><span>l1</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>l2</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.map_liquidityGross_def|fact"><span>map_liquidityGross_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.map_liquidityNet_def|fact"><span class="entity_def" id="Uniswap_Tick.map_liquidityNet_def|thm"><span class="entity_def" id="Uniswap_Tick.map_liquidityNet_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Uniswap_Tick.map_liquidityNet|const"><span>map_liquidityNet</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> tick_info </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>l1</span></span><span> </span><span class="bound"><span>l2</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>l1</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="bound"><span>l2</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.map_liquidityNet|const"><span>map_liquidityNet</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>l1</span></span><span> </span><span class="free"><span>l2</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>l1</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>F</span></span><span> </span><span class="free"><span>l2</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.map_liquidityNet_def|fact"><span>map_liquidityNet_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>hide_const</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>open</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.growth|const"><span>growth</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.initialized|const"><span>initialized</span></a><span>

</span><span class="keyword1"><span class="command"><span>instantiation</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info|type"><span>tick_info</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero|class"><span>zero</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.zero_tick_info_def|fact"><span class="entity_def" id="Uniswap_Tick.zero_tick_info_inst.zero_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.zero_tick_info_def|thm"><span class="entity_def" id="Uniswap_Tick.zero_tick_info_inst.zero_tick_info|thm"><span class="entity_def" id="Uniswap_Tick.zero_tick_info_def_raw|axiom"><span class="entity_def" id="Uniswap_Tick.zero_tick_info_inst.zero_tick_info_def|axiom"><span class="entity_def" id="Uniswap_Tick.zero_tick_info_inst.zero_tick_info|const"><span>definition</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="class_parameter"><span>zero_tick_info</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info|type"><span>tick_info</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>zero_tick_info</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.arity_zero_tick_info|fact"><span class="entity_def" id="Uniswap_Tick.arity_zero_tick_info|thm"><span>instance</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.ticks|type"><span>ticks</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.tick|type"><span>tick</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info|type"><span>tick_info</span></a><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>
resource_space φuniswap =
  ticks :: ‹UNIV::ticks nonsepable_mono_resource set› (nonsepable_mono_resource)
  by (standard; simp add: set_eq_iff image_iff)


subsubsection ‹Fiction›

fiction_space φuniswap =
  ticks :: ‹RES.ticks.basic_fiction ℱ_it› (identity_fiction RES.ticks)
  by (standard; simp add: set_eq_iff image_iff) </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>φ-Types - Part I - Raw</span><span>›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Tick Info Data</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.opt_growths|type"><span>opt_growths</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.tick|type"><span>tick</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth|type"><span>growth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.growth_outside_def|fact"><span class="entity_def" id="Uniswap_Tick.growth_outside_def|thm"><span class="entity_def" id="Uniswap_Tick.growth_outside_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Uniswap_Tick.growth_outside|const"><span>growth_outside</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growths|type"><span>growths</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.tick|type"><span>tick</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth|type"><span>growth</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.tick|type"><span>tick</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth|type"><span>growth</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>growth_outside</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>abs_func</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>tick</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>delta</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>current</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
  </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>tick</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>current</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>abs_func</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span class="bound"><span class="entity"><span>tick</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>delta</span></span></span></span><span>
                      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>abs_func</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span class="bound"><span class="entity"><span>tick</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>delta</span></span></span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>report: the spec of the tick_info.initialized is incorrect!
  it is not ‹liquidity i ≠ 0› 

  abst: real (physical) growth
  delta: is some if initialized.
</span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.Invt_A_Tick_def|fact"><span class="entity_def" id="Uniswap_Tick.Invt_A_Tick_def|thm"><span class="entity_def" id="Uniswap_Tick.Invt_A_Tick_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Uniswap_Tick.Invt_A_Tick|const"><span>Invt_A_Tick</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.tick|type"><span>tick</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.tick|type"><span>tick</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.liquiditys|type"><span>liquiditys</span></a><span> </span><span class="main"><span>⇒</span></span><span>  </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.liquiditys|type"><span>liquiditys</span></a><span>
                                </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growths|type"><span>growths</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth|type"><span>growth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info|type"><span>tick_info</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>Invt_A_Tick</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>current</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity_gross</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>growth</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>δ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ti</span></span></span></span><span>
          </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.liquidityGross|const"><span>tick_info.liquidityGross</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ti</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity_gross</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
              </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.liquidityNet|const"><span>tick_info.liquidityNet</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ti</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
              </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.pred_option|const"><span>pred_option</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>δ</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.growth|const"><span>tick_info.growth</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ti</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside|const"><span>growth_outside</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>growth</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="bound"><span>δ</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>current</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>δ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
              </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.initialized|const"><span>tick_info.initialized</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ti</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>δ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>
        </span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.Invt_Ticks_def|fact"><span class="entity_def" id="Uniswap_Tick.Invt_Ticks_def|thm"><span class="entity_def" id="Uniswap_Tick.Invt_Ticks_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Uniswap_Tick.Invt_Ticks|const"><span>Invt_Ticks</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.tick|type"><span>tick</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.liquiditys|type"><span>liquiditys</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.liquiditys|type"><span>liquiditys</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growths|type"><span>growths</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.opt_growths|type"><span>opt_growths</span></a><span>
                               </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.ticks|type"><span>ticks</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>Invt_Ticks</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>current</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity_gross</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>growth</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>δ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ticks</span></span></span></span><span>
          </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick|const"><span>Invt_A_Tick</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>current</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity_gross</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>growth</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>δ</span></span></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ticks</span></span></span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
              </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>current</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span>
              </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity_gross</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>δ</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>
              </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity_gross</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
              </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity_gross</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>growth</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span>
              </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>liquidity_gross</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Invt_Ticks_initialization|fact"><span class="entity_def" id="Uniswap_Tick.Invt_Ticks_initialization|thm"><span>Invt_Ticks_initialization</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks|const"><span>Invt_Ticks</span></a><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>L</span></span><span> </span><span class="free"><span>gr</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>ticks</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_def|fact"><span>Invt_Ticks_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick_def|fact"><span>Invt_A_Tick_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>locale</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_resource|locale"><span>Tick_resource</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>RawTicks</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction|type"><span>fiction</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.ticks|type"><span>ticks</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.Tick_resource.Ticks_def|fact"><span class="entity_def" id="Uniswap_Tick.Tick_resource.Ticks_def|thm"><span class="entity_def" id="Uniswap_Tick.Tick_resource.Ticks_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Uniswap_Tick.Tick_resource.Ticks.cong|fact"><span class="entity_def" id="Uniswap_Tick.Tick_resource.Ticks.cong|thm"><span class="entity_def" id="Uniswap_Tick.Tick_resource.Ticks|const"><span class="entity_def" id="offset_3698..3703">Ticks</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.fiction|type"><span>fiction</span></a><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.liquiditys|type"><span>liquiditys</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.liquiditys|type"><span>liquiditys</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growths|type"><span>growths</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.tick|type"><span>tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.opt_growths|type"><span>opt_growths</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;phi&gt;defs|attribute"><span class="operator"><span>φdefs</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>Ticks</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>liquidity</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>growth</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>current</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span>
                    </span><span class="bound"><span>ticks</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>ticks</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks|const"><span>Invt_Ticks</span></a><span> </span><span class="bound"><span>current</span></span><span> </span><span class="bound"><span>Lg</span></span><span> </span><span class="bound"><span>liquidity</span></span><span> </span><span class="bound"><span>growth</span></span><span> </span><span class="bound"><span>δ</span></span><span> </span><span class="bound"><span>ticks</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>A problem of the automatic transformation rule is,
  look, the source ‹ticks› and the target ‹liquidity, growth, δ› has no common term,
  meaning if there are two ‹ticks1 ⦂ RawTicks❟ ticks2 ⦂ RawTicks›, it is impossible to determine
  which one is the desired one to be transformed, or any combination of them two.

  There is no problem if there is only one ‹ticks ⦂ RawTicks›.
</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks|const"><span>Invt_Ticks</span></a><span> </span><span class="free"><span>current</span></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>liquidity</span></span><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>ticks</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>ticks</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>liquidity</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>growth</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>current</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.construct\&lt;phi&gt;_\&lt;phi&gt;app|fact"><span>constructφ</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>liquidity</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>growth</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>current</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks|const"><span>Invt_Ticks</span></a><span> </span><span class="free"><span>current</span></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>liquidity</span></span><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>ticks</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>ticks</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>liquidity</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>growth</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>current</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span>
    </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.to|const"><span>to</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#Phi_Logic_Programming_Reasoner.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> 3000</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/inhabited_rule.ML.html#Phi_Preliminary.\&lt;phi&gt;inhabitance_rule|attribute"><span class="operator"><span>φinhabitance_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>liquidity</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>growth</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>current</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span>
    </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="bound"><span>ticks</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>ticks</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks|const"><span>Invt_Ticks</span></a><span> </span><span class="free"><span>current</span></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>liquidity</span></span><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="bound"><span>ticks</span></span><span>
    </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Action_Tag|const"><span>@action</span></a></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.to|const"><span>to</span></a><span> </span><span class="free"><span>RawTicks</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.destruct\&lt;phi&gt;_\&lt;phi&gt;app|fact"><span>destructφ</span></a><span> </span><span class="quoted"><span class="main"><span>_</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Axiomatic Semantics of Abstract Operations</span><span>›</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span>Someday when we finish the solidity semantics, we will instantiate this!</span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Uniswap_Tick.Tick_spec.intro|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec_def|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.intro|thm"><span class="entity_def" id="Uniswap_Tick.Tick_spec_def|thm"><span class="entity_def" id="Uniswap_Tick.Tick_spec_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec|locale"><span class="entity_def" id="Uniswap_Tick.Tick_spec|const"><span>Tick_spec</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Tick_resource|locale"><span>Tick_resource</span></a><span> </span><span class="main"><span>+</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>op_get_liquidityGross</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_set_liquidityGross</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_get_liquidityNet</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_set_liquidityNet</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_get_initialized</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_set_initialized</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_get_feeGrowth0</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_set_feeGrowth0</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_get_feeGrowth1</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>op_set_feeGrowth1</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.proc&apos;|type"><span>proc'</span></a><span>›</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>and op_get_tickCumulative :: ‹(VAL, VAL) proc'›
and op_set_tickCumulative :: ‹(VAL × VAL, VAL) proc'›
and op_get_secondsPerLiquidity :: ‹(VAL, VAL) proc'›
and op_set_secondsPerLiquidity :: ‹(VAL × VAL, VAL) proc'›
and op_get_seconds :: ‹(VAL, VAL) proc'›
and op_set_seconds :: ‹(VAL × VAL, VAL) proc'› </span><span>*</span><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span>
    </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_liquidityGross_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_liquidityGross_\&lt;phi&gt;app|thm"><span>get_liquidityGross_φapp</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.\&lt;phi&gt;synthesis|attribute"><span class="operator"><span>φsynthesis</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_get_liquidityGross</span></span><span> </span><span class="free"><span>ri</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span>
                                   </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.liquidityGross|const"><span>liquidityGross</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
                                                    </span><span class="comment1"><span>(</span><span>*</span><span> to prevent higher-order unification! </span><span>*</span><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_liquidityGross_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_liquidityGross_\&lt;phi&gt;app|thm"><span>set_liquidityGross_φapp</span></span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_set_liquidityGross</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>ri</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.map_liquidityGross|const"><span>map_liquidityGross</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_liquidityNet_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_liquidityNet_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_6461..6482">get_liquidityNet_φapp</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.\&lt;phi&gt;synthesis|attribute"><span class="operator"><span>φsynthesis</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_get_liquidityNet</span></span><span> </span><span class="free"><span>ri</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.liquidityNet|const"><span>liquidityNet</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_liquidityNet_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_liquidityNet_\&lt;phi&gt;app|thm"><span>set_liquidityNet_φapp</span></span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_set_liquidityNet</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>ri</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.map_liquidityNet|const"><span>map_liquidityNet</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_initialized_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_initialized_\&lt;phi&gt;app|thm"><span>get_initialized_φapp</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.\&lt;phi&gt;synthesis|attribute"><span class="operator"><span>φsynthesis</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_get_initialized</span></span><span> </span><span class="free"><span>ri</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.initialized|const"><span>tick_info.initialized</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_initialized_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_initialized_\&lt;phi&gt;app|thm"><span>set_initialized_φapp</span></span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_set_initialized</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>ri</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.map_initialized|const"><span>tick_info.map_initialized</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_feeGrowth0_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_feeGrowth0_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_7285..7304">get_feeGrowth0_φapp</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.\&lt;phi&gt;synthesis|attribute"><span class="operator"><span>φsynthesis</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_get_feeGrowth0</span></span><span> </span><span class="free"><span>ri</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.fee0|const"><span>growth.fee0</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.growth|const"><span>tick_info.growth</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_feeGrowth0_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_feeGrowth0_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_7488..7507">set_feeGrowth0_φapp</span></span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_set_feeGrowth0</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>ri</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.map_growth|const"><span>tick_info.map_growth</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.map_fee0|const"><span>growth.map_fee0</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_feeGrowth1_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.get_feeGrowth1_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_7722..7741">get_feeGrowth1_φapp</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Reasoning3.html#IDE_CP_Reasoning3.\&lt;phi&gt;synthesis|attribute"><span class="operator"><span>φsynthesis</span></span></a><span> 1200</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_get_feeGrowth1</span></span><span> </span><span class="free"><span>ri</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.fee1|const"><span>growth.fee1</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.growth|const"><span>tick_info.growth</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_feeGrowth1_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.set_feeGrowth1_\&lt;phi&gt;app|thm"><span class="entity_def" id="offset_7925..7944">set_feeGrowth1_φapp</span></span></span><span class="main"><span>:</span></span><span>
      </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>𝗉𝗋𝗈𝖼</span></a></span><span> </span><span class="free"><span>op_set_feeGrowth1</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_pair|const"><span><span class="hidden">❙</span><b>,</b></span></a></span><span> </span><span class="free"><span>ri</span></span><span class="main"><span>)</span></span><span>
            </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦃</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>ri</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>𝗏𝖺𝗅[</span></a></span><span class="free"><span>rv</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Val|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span>
                </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⟼</span></a></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.map_growth|const"><span>tick_info.map_growth</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.map_fee1|const"><span>growth.map_fee1</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>RawTicks</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.\&lt;phi&gt;Procedure_no_exception|const"><span>⦄</span></a></span><span>›</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span> and get_tickCumulative_φapp[φsynthesis 1200]:
      ‹ 𝗉𝗋𝗈𝖼 op_get_tickCumulative ri
            ⦃ f ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅[ri] Tick
                ⟼ f ⦂ RawTicks❟ (growth.tickCumulative o tick_info.growth o f) i ⦂ 𝗏𝖺𝗅 ℤ ⦄›
and set_tickCumulative_φapp:
      ‹ 𝗉𝗋𝗈𝖼 op_set_tickCumulative (rv<span class="hidden">❙</span><b>,</b> ri)
            ⦃ f ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅[ri] Tick ❟ v ⦂ 𝗏𝖺𝗅[rv] ℤ
                ⟼ f(i := tick_info.map_growth (growth.map_tickCumulative (λ_. v)) (f i)) ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅 Tick ⦄›
and get_secondsPerLiquidity_φapp[φsynthesis 1200]:
      ‹ 𝗉𝗋𝗈𝖼 op_get_secondsPerLiquidity ri
            ⦃ f ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅[ri] Tick
                ⟼ f ⦂ RawTicks❟ (growth.secondsPerLiquidity o tick_info.growth o f) i ⦂ 𝗏𝖺𝗅 ℝ ⦄›
and set_secondsPerLiquidity_φapp:
      ‹ 𝗉𝗋𝗈𝖼 op_set_secondsPerLiquidity (rv<span class="hidden">❙</span><b>,</b> ri)
            ⦃ f ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅[ri] Tick ❟ r ⦂ 𝗏𝖺𝗅[rv] ℝ
                ⟼ f(i := tick_info.map_growth (growth.map_secondsPerLiquidity (λ_. r)) (f i)) ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅 Tick ⦄›
and get_seconds_φapp[φsynthesis 1200]:
      ‹ 𝗉𝗋𝗈𝖼 op_get_seconds ri
            ⦃ f ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅[ri] Tick
                ⟼ f ⦂ RawTicks❟ (growth.seconds o tick_info.growth o f) i ⦂ 𝗏𝖺𝗅 ℤ ⦄›
and set_seconds_φapp:
      ‹ 𝗉𝗋𝗈𝖼 op_set_seconds (rv<span class="hidden">❙</span><b>,</b> ri)
            ⦃ f ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅[ri] Tick ❟ v ⦂ 𝗏𝖺𝗅[rv] ℤ
                ⟼ f(i := tick_info.map_growth (growth.map_seconds (λ_. v)) (f i)) ⦂ RawTicks❟ i ⦂ 𝗏𝖺𝗅 Tick ⦄›
</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Verify</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Auxiliary Library</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.interval_sub_1|fact"><span class="entity_def" id="Uniswap_Tick.interval_sub_1|thm"><span>interval_sub_1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.sum_sub_1|fact"><span class="entity_def" id="Uniswap_Tick.sum_sub_1|thm"><span>sum_sub_1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_group_add|class"><span>ab_group_add</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> del_insts</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.atLeastLessThan_upto|fact"><span>atLeastLessThan_upto</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.preorder_class.atLeastatMost_subset_iff|fact"><span>atLeastatMost_subset_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.finite_atLeastAtMost_int|fact"><span>finite_atLeastAtMost_int</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.interval_sub_1|fact"><span>interval_sub_1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.set_upto|fact"><span>set_upto</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.sum_diff|fact"><span>sum_diff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.interval_sub_2|fact"><span class="entity_def" id="Uniswap_Tick.interval_sub_2|thm"><span>interval_sub_2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.sum_sub_2|fact"><span class="entity_def" id="Uniswap_Tick.sum_sub_2|thm"><span>sum_sub_2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="free"><span>A</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>B</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_group_add|class"><span>ab_group_add</span></a><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.sum_diff|fact"><span>sum_diff</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.interval_sub_2|fact"><span>interval_sub_2</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.preorder_class.atLeastatMost_subset_iff|fact"><span>atLeastatMost_subset_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.dual_order.refl|fact"><span>dual_order.refl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.finite_atLeastAtMost_int|fact"><span>finite_atLeastAtMost_int</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Uniswap_Tick.gSum|const"><span>gSum</span></span></span><span> </span><span class="comment1"><span>― ‹</span><span>global sum</span><span>›</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>gSum</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>growth</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∑</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>..</span></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>growth</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Uniswap_Tick.global_fee1_growth|const"><span>global_fee1_growth</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.fee1|const"><span>growth.fee1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Uniswap_Tick.global_fee0_growth|const"><span>global_fee0_growth</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.fee0|const"><span>growth.fee0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.gSum_subtract1|fact"><span class="entity_def" id="Uniswap_Tick.gSum_subtract1|thm"><span>gSum_subtract1</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside|const"><span>growth_outside</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside|const"><span>growth_outside</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.gSum_subtract2|fact"><span class="entity_def" id="Uniswap_Tick.gSum_subtract2|thm"><span>gSum_subtract2</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside|const"><span>growth_outside</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside|const"><span>growth_outside</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.growth_outside_shift_mono|fact"><span class="entity_def" id="Uniswap_Tick.growth_outside_shift_mono|thm"><span>growth_outside_shift_mono</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>k</span></span><span>   </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span>   </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside|const"><span>growth_outside</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside|const"><span>growth_outside</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>k</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.sum_plus_fun|fact"><span class="entity_def" id="Uniswap_Tick.sum_plus_fun|thm"><span>sum_plus_fun</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>g</span></span><span> </span><span class="free"><span>S</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.plus_fun_def|fact"><span>plus_fun_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum.distrib|fact"><span>sum.distrib</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Uniswap_Tick.next_initialized|const"><span>next_initialized</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Lg</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Lg</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Tick_resource|locale"><span>Tick_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_resource.shift_current_tick_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_resource.shift_current_tick_\&lt;phi&gt;app|thm"><span>shift_current_tick_φapp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.next_initialized|const"><span>next_initialized</span></a><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.next_initialized|const"><span>next_initialized</span></a><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>L</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>L</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.to_\&lt;phi&gt;app|fact"><span>to</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>RawTicks</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11511..11512">❵</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;|fact"><span class="dynamic"><span class="dynamic"><span>φ</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_def|fact"><span>Invt_Ticks_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick_def|fact"><span>Invt_A_Tick_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick_def|fact"><span>Invt_A_Tick_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_def|fact"><span>Invt_Ticks_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.pred_inject|fact"><span>option.pred_inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.pred_inject|fact"><span>option.pred_inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_11511..11512"><span>the_φlemmata</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Tick_resource|locale"><span>Tick_resource</span></a><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_resource.shift_current_tick_\&lt;Delta&gt;_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_resource.shift_current_tick_\&lt;Delta&gt;_\&lt;phi&gt;app|thm"><span>shift_current_tick_Δ_φapp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.next_initialized|const"><span>next_initialized</span></a><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.next_initialized|const"><span>next_initialized</span></a><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Logic_Programming_Reasoner.Phi_Logic_Programming_Reasoner.html#Phi_Logic_Programming_Reasoner.Normal_Premise|const"><span>𝗉𝗋𝖾𝗆𝗂𝗌𝖾</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>L</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>g</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.SimpleImply|const"><span>𝗂𝗆𝗉𝗅𝗂𝖾𝗌</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>L</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span> </span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.to_\&lt;phi&gt;app|fact"><span>to</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>RawTicks</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;|fact"><span class="dynamic"><span class="dynamic"><span>φ</span></span></span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_def|fact"><span>Invt_Ticks_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick_def|fact"><span>Invt_A_Tick_def</span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.plus_fun|fact"><span>plus_fun</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i'</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>i'</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.pred_inject|fact"><span>option.pred_inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.pred_inject|fact"><span>option.pred_inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.pred_inject|fact"><span>option.pred_inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/SMT/smt_systems.ML.html#SMT.smt|method"><span class="operator"><span>smt</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.distinct|fact"><span>option.distinct</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.pred_inject|fact"><span>option.pred_inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.add_order_0_class.add_nonneg_nonneg|fact"><span>add_order_0_class.add_nonneg_nonneg</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> lemma (in Tick_resource) shift_current_tick_φapp:
  ‹ 𝗉𝗋𝖾𝗆𝗂𝗌𝖾 j ∈ {MIN_TICK-1..MAX_TICK}
⟹ 𝗉𝗋𝖾𝗆𝗂𝗌𝖾 (if j ≤ i then next_initialized Lg j (i+1) else next_initialized Lg i (j+1))
⟹ 𝗉𝗋𝖾𝗆𝗂𝗌𝖾 (if i ≤ j then (∀k. k &lt; i ∨ k &gt; j ⟶ Δ k = 0) else (∀k. k &lt; j ∨ k ≥ i ⟶ Δ k = 0)
⟹ (Lg, L, g, i, δ) ⦂ Ticks 𝗂𝗆𝗉𝗅𝗂𝖾𝗌 (Lg, L, g, j, δ) ⦂ Ticks ›
  ❴ to ‹RawTicks› ❵
</span><span>*</span><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.sum_update|fact"><span class="entity_def" id="Uniswap_Tick.sum_update|thm"><span>sum_update</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>S</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>S</span></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>δ</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.semigroup_add_class.add.assoc|fact"><span>add.assoc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.ab_semigroup_add_class.add.commute|fact"><span>add.commute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum.remove|fact"><span>sum.remove</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.gSum_update|fact"><span class="entity_def" id="Uniswap_Tick.gSum_update|thm"><span>gSum_update</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>‹</span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span>
</span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>δ</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.sum_update|fact"><span>sum_update</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> S</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span>›</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>




</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Tick_spec|locale"><span>Tick_spec</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.getFeeGrowthInside_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.getFeeGrowthInside_def|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.getFeeGrowthInside.cong|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.getFeeGrowthInside_\&lt;phi&gt;app|thm"><span class="entity_def" id="Uniswap_Tick.Tick_spec.getFeeGrowthInside_def|thm"><span class="entity_def" id="Uniswap_Tick.Tick_spec.getFeeGrowthInside.cong|thm"><span class="entity_def" id="Uniswap_Tick.Tick_spec.getFeeGrowthInside_def|axiom"><span class="entity_def" id="Uniswap_Tick.Tick_spec.getFeeGrowthInside|const"><span class="entity_def" id="offset_13406..13424">getFeeGrowthInside</span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>lower</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>upper</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span>They mean the upper tick and the lower tick is initialized</span><span>*</span><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>lower</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>upper</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>global_fee0</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.fee0|const"><span>growth.fee0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>growth</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span>global_fee0 is the sum of all the growth at every ticks</span><span>*</span><span>)</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>global_fee1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.fee1|const"><span>growth.fee1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>growth</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>liq</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>growth</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>current</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="free"><span>lower</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>upper</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>current</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>global_fee0</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>global_fee1</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>liq</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>growth</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>current</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.fee0|const"><span>growth.fee0</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="free"><span>lower</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>upper</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>lower</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>upper</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.growth.fee1|const"><span>growth.fee1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><span class="free"><span>lower</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>upper</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>lower</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>upper</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine_Basic.html#PhiSem_CF_Routine_Basic.routine_basic|attribute"><span class="operator"><span>routine_basic</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.to_\&lt;phi&gt;app|fact"><span>to</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>RawTicks</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14162..14164">;;</span></span></span><span>

    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>δ_lower</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>δ_upper</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>δ_lower</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>lower</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>δ_lower</span></span><span>›</span></span></span><span>
                            </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>δ_upper</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>upper</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>δ_upper</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_initialization|fact"><span>Invt_Ticks_initialization</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.not_None_eq|fact"><span>not_None_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder_class.not_less_iff_gr_or_eq|fact"><span>not_less_iff_gr_or_eq</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_14162..14164"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>12</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_14162..14164"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>13</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_14162..14164"><span>the_φlemmata</span></a><span class="main"><span class="main"><span>(</span></span></span><span>7</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span>lower_simps</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks|const"><span>Invt_Ticks</span></a><span> </span><span class="free"><span>current</span></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>liq</span></span><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>ticks</span></span><span>›</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_def|fact"><span>Invt_Ticks_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick_def|fact"><span>Invt_A_Tick_def</span></a><span>
                  </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>lower</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span>upper_simps</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
          </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks|const"><span>Invt_Ticks</span></a><span> </span><span class="free"><span>current</span></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>liq</span></span><span> </span><span class="free"><span>growth</span></span><span> </span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>ticks</span></span><span>›</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_def|fact"><span>Invt_Ticks_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick_def|fact"><span>Invt_A_Tick_def</span></a><span>
                  </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjunct1|fact"><span>conjunct1</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.spec|fact"><span>spec</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="free"><span>upper</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>

    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>lower </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><span>$</span></span><span>current</span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="main"><span>$</span></span><span>lower </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7285..7304"><span>get_feeGrowth0</span></a><span>
      </span><span class="main"><span>$</span></span><span>lower </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7722..7741"><span>get_feeGrowth1</span></a><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="main"><span>$</span></span><span>global_fee0 </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.sub_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>sub</span></span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>lower </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7285..7304"><span>get_feeGrowth0</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>$</span></span><span>global_fee1 </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.sub_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>sub</span></span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>lower </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7722..7741"><span>get_feeGrowth1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>fee0_below</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fee1_below</span></span><span>

    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>current </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><span>$</span></span><span>upper</span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>upper</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>current</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>current</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>upper</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/lin_arith.ML.html#Fields.linarith|method"><span class="operator"><span>linarith</span></span></a><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
      </span><span class="main"><span>$</span></span><span>upper </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7285..7304"><span>get_feeGrowth0</span></a><span>
      </span><span class="main"><span>$</span></span><span>upper </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7722..7741"><span>get_feeGrowth1</span></a><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>upper</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>current</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>current</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>upper</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/lin_arith.ML.html#Fields.linarith|method"><span class="operator"><span>linarith</span></span></a><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
      </span><span class="main"><span>$</span></span><span>global_fee0 </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.sub_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>sub</span></span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>upper </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7285..7304"><span>get_feeGrowth0</span></a><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>$</span></span><span>global_fee1 </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.sub_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>sub</span></span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>upper </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7722..7741"><span>get_feeGrowth1</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>fee0_above</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fee1_above</span></span><span>

    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.group_add_class.add_diff_eq|fact"><span>add_diff_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.fee0_sum|fact"><span>fee0_sum</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.fee1_sum|fact"><span>fee1_sum</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.diff_diff_eq|fact"><span>diff_diff_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
      
    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>global_fee0 </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>$</span></span><span>fee0_below </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>$</span></span><span>fee0_above</span><span>›</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>$</span></span><span>global_fee1 </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>$</span></span><span>fee1_below </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>$</span></span><span>fee1_above</span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵.</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_13406..13424"><span>getFeeGrowthInside_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>simplified</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.\&lt;phi&gt;V_simps|fact"><span>φV_simps</span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_13406..13424"><span>getFeeGrowthInside_φapp</span></a><span>

</span><span class="comment1"><span>(</span><span>*</span><span>❟
          liq i - liq current ⦂ 𝗏𝖺𝗅 ℤ </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_def|fact"><span>Invt_Ticks_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick_def|fact"><span>Invt_A_Tick_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Uniswap_Tick.Tick_spec.tick_cross_\&lt;phi&gt;app|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.tick_cross_def|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.tick_cross.cong|fact"><span class="entity_def" id="Uniswap_Tick.Tick_spec.tick_cross_\&lt;phi&gt;app|thm"><span class="entity_def" id="Uniswap_Tick.Tick_spec.tick_cross_def|thm"><span class="entity_def" id="Uniswap_Tick.Tick_spec.tick_cross.cong|thm"><span class="entity_def" id="Uniswap_Tick.Tick_spec.tick_cross_def|axiom"><span class="entity_def" id="Uniswap_Tick.Tick_spec.tick_cross|const"><span>tick_cross</span></span></span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.next_initialized|const"><span>next_initialized</span></a><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.next_initialized|const"><span>next_initialized</span></a><span> </span><span class="free"><span>Lg</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>≥</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>    </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>fee0</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>fee1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>Δ</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span>global_fee0 is the sum of all the growth at every ticks</span><span>*</span><span>)</span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>    and    ‹sec_per_liq = growth.secondsPerLiquidity (gSum growth)›
    and    ‹tick_cumu = growth.tickCumulative (gSum growth)›
    and    ‹time = growth.seconds (gSum growth)›</span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>liq</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>growth</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>j</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.Tick|const"><span>Tick</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>fee0</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>fee1</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span>›</span></span></span><span>
        </span><span class="comment1"><span>(</span><span>*</span><span> sec_per_liq ⦂ 𝗏𝖺𝗅 ℝ❟ tick_cumu ⦂ 𝗏𝖺𝗅 ℤ ❟ time ⦂ 𝗏𝖺𝗅 ℤ </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>Lg</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>liq</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>growth</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>Δ</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>δ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_3698..3703"><span>Ticks</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>liq</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="free"><span>liq</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Real_Abst.html#PhiSem_Real_Abst.\&lt;phi&gt;AReal|const"><span>ℝ</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16652..16653">❴</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.to_\&lt;phi&gt;app|fact"><span>to</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>RawTicks</span></span><span>›</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>ticks</span></span><span>

  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>fee0'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>fee1'</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span>spl' tc' time'</span><span>*</span><span>)</span></span><span> </span><span class="skolem"><span class="skolem"><span>liqG'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>liqN'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>init'</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_16744..16750">Tick_i</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>ticks</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.tick_info|const"><span>tick_info</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>fee0'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fee1'</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>liqG'</span></span><span> </span><span class="skolem"><span>liqN'</span></span><span> </span><span class="skolem"><span>init'</span></span><span>›</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span>(fee0', fee1', spl', tc', time')</span><span>*</span><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.surj_pair|fact"><span>surj_pair</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.exhaust|fact"><span>tick_info.exhaust</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span> </span><span class="main"><span>$</span></span><span>i </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7488..7507"><span>set_feeGrowth0</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>fee0 </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.sub_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>sub</span></span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>i </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7285..7304"><span>get_feeGrowth0</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7925..7944"><span>set_feeGrowth1</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>fee1 </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.sub_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>sub</span></span></span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>$</span></span><span>i </span><a class="entity_ref" href="Uniswap_Tick.html#offset_7722..7741"><span>get_feeGrowth1</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
     </span><span class="comment1"><span>(</span><span>*</span><span> set_secondsPerLiquidity ($sec_per_liq sub ($i get_secondsPerLiquidity))
        set_tickCumulative ($tick_cumu sub ($i get_tickCumulative))
        set_seconds ($time sub ($i get_seconds))</span><span>*</span><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
  </span><span class="main"><span>pure-fact</span></span><span> </span><span>x1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17325..17327">x2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>Δ</span></span><span>›</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17380..17382">x3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i'</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.greaterThanAtMost|const"><span>{</span></a></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.greaterThanAtMost|const"><span>&lt;..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.greaterThanAtMost|const"><span>}</span></a></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17503..17505">x4</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i'</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17670..17672">y3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.gSum|const"><span>gSum</span></a><span> </span><span class="free"><span>Δ</span></span><span>›</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17730..17732">y4</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>{</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MIN_TICK|const"><span>MIN_TICK</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>..&lt;</span></a></span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastLessThan|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i'</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17804..17806">y5</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum|const"><span>sum</span></a><span> </span><span class="free"><span>Δ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>{</span></a></span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>..</span></a></span><a class="entity_ref" href="Uniswap_Common.html#Uniswap_Common.MAX_TICK|const"><span>MAX_TICK</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set_Interval.html#Set_Interval.ord_class.atLeastAtMost|const"><span>}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i'</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17873..17875">a1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.initialized|const"><span>tick_info.initialized</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ticks</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>i</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17953..17955">a2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.growth|const"><span>tick_info.growth</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ticks</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside|const"><span>growth_outside</span></a><span> </span><span class="free"><span>growth</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>j</span></span><span>›</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18062..18064">t1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="free"><span>fee0</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="skolem"><span>fee0'</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>fee1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="skolem"><span>fee1'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>fee0</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>fee1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>fee0'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fee1'</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>
  have th1[simp]:
        ‹⋀A. (growth.fee0 A - fee0', growth.fee1 A - fee1') = A - (fee0', fee1')›
        (* (growth.fee0 A - fee0', growth.fee1 A - fee1', growth.tickCumulative A - spl',
              growth.secondsPerLiquidity A - tc', growth.seconds A - time')
          = A - (fee0', fee1', spl', tc', time') *)
    by (case_tac A; simp)
  note th2 = ‹Invt_Ticks j Lg liq growth δ ticks›[unfolded Invt_Ticks_def Invt_A_Tick_def]
  note th3 = th2[THEN conjunct1] ;; </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>
  </span><span class="main"><span>$</span></span><span>i </span><a class="entity_ref" href="Uniswap_Tick.html#offset_6461..6482"><span>get_liquidityNet</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18635..18636">❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_Ticks_def|fact"><span>Invt_Ticks_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.Invt_A_Tick_def|fact"><span>Invt_A_Tick_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/system/Phi_Envir.ML.html#IDE_CP_Core.\&lt;phi&gt;|fact"><span class="dynamic"><span class="dynamic"><span>φ</span></span></span></a><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.plus_fun|fact"><span>plus_fun</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_16744..16750"><span>Tick_i</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.sel|fact"><span>tick_info.sel</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_16744..16750"><span>Tick_i</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.sel|fact"><span>tick_info.sel</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17953..17955"><span>a2</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>i</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17325..17327"><span>x2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18062..18064"><span>t1</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span>(</span></span><span>13</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17873..17875"><span>a1</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i'</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17953..17955"><span>a2</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>i'</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>i'</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17325..17327"><span>x2</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17380..17382"><span>x3</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_16652..16653"><span>that</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>6</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>i'</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17503..17505"><span>x4</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.add_order_0_class.add_nonneg_nonneg|fact"><span>add_order_0_class.add_nonneg_nonneg</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>14</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_16744..16750"><span>Tick_i</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.sel|fact"><span>tick_info.sel</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_16744..16750"><span>Tick_i</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.sel|fact"><span>tick_info.sel</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_16744..16750"><span>Tick_i</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.sel|fact"><span>tick_info.sel</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17953..17955"><span>a2</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="free"><span>i</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17325..17327"><span>x2</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17670..17672"><span>y3</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18062..18064"><span>t1</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span>(</span></span><span>13</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17873..17875"><span>a1</span></a><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i'</span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17953..17955"><span>a2</span></a><span class="main"><span class="main"><span>[</span></span></span><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.of|attribute"><span class="operator"><span>of</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>i'</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>j</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>i'</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17730..17732"><span>y4</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>i</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span>(</span></span><span>16</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>6</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>δ</span></span><span> </span><span class="skolem"><span>i'</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.growth_outside_def|fact"><span>growth_outside_def</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_17804..17806"><span>y5</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Algebras.Algebras.html#Algebras.add_order_0_class.add_nonneg_nonneg|fact"><span>add_order_0_class.add_nonneg_nonneg</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>14</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φlemmata</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_16744..16750"><span>Tick_i</span></a><span> </span><a class="entity_ref" href="Uniswap_Tick.html#offset_18635..18636"><span>the_φ</span></a><span class="main"><span class="main"><span>(</span></span></span><span>10</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Uniswap_Tick.html#Uniswap_Tick.tick_info.sel|fact"><span>tick_info.sel</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>