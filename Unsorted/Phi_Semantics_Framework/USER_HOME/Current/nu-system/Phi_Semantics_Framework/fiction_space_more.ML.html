<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>File ‹fiction_space_more.ML›</title>
</head>


<body>
<div class="head">
<h1>File ‹fiction_space_more.ML›</h1>
</div>

<pre class="source"><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Fiction_Space_Argument</span></span><span> </span><span class="main"><span>:</span></span><span> </span><span class="entity"><span>GENERIC_RESOURCE_SPACE_ARGUMENT</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="keyword2"><span class="keyword"><span>struct</span></span></span><span>

</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Loc</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fiction_Locale_Argument</span><span>

</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>additional_data'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">typ</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="../../../../Phi_Semantics_Framework.html#Phi_Semantics_Framework.RES_N|type"><span>RES_N</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../../../Phi_Semantics_Framework.html#Phi_Semantics_Framework.RES|type"><span>RES</span></a><span>›</span></span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>prepare_space_name_binding</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Binding.suffix_name</span><span> </span><span class="inner_quoted"><span>"_fic"</span></span><span>
</span><span class="keyword1"><span class="keyword"><span>val</span></span></span><span> </span><span class="entity"><span>mandatory_path</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="inner_quoted"><span>"FIC"</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>prepare_map_rewr</span></span><span> </span><span class="entity"><span>field_B</span></span><span> </span><span class="entity"><span>field</span></span><span> </span><span class="entity"><span>domain</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Expression.Positional</span></span><span> </span><span class="entity"><span>TMS</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>rw</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
      </span><span class="main"><span>(</span></span><span class="entity"><span>Expression.Positional</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>TMS</span></span><span> </span><span>@</span><span> </span><span class="main"><span>[</span></span><span>SOME</span><span> </span><span class="entity"><span>field</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>rw</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>prepare_map_rewr</span></span><span> </span><span class="entity"><span>field_B</span></span><span> </span><span class="entity"><span>field</span></span><span> </span><span class="entity"><span>domain</span></span><span> </span><span class="main"><span>(</span></span><span class="entity"><span>Expression.Named</span></span><span> </span><span class="entity"><span>TMS</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>rw</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
      </span><span class="main"><span>(</span></span><span class="entity"><span>Expression.Named</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"Fic"</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>field</span></span><span class="main"><span>)</span></span><span> </span><span>::</span><span> </span><span class="entity"><span>TMS</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="entity"><span>rw</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>field_typ_of</span></span><span> </span><span class="entity"><span>tm</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>case</span></span></span><span> </span><span>type_of</span><span> </span><span class="entity"><span>tm</span></span><span> </span><span class="keyword2"><span class="keyword"><span>of</span></span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Type</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../../../Phi_Algebras.Algebras.html#Algebras.interp|type"><span>interp</span></a><span> </span><span class="entity"><span>T</span></span><span> </span><span class="main"><span>_</span></span><span>›</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Type</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../../../Resource_Space.html#Resource_Space.kind|type"><span>Resource_Space.kind</span></a><span> </span><span class="quoted"><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Type</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../../../Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC_N|type"><span>FIC_N</span></a><span>›</span></span></span><span> </span><span class="quoted"><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Type</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../../../Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC|type"><span>FIC</span></a><span>›</span></span></span><span> </span><span class="entity"><span>T</span></span><span> </span><span class="quoted"><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">Type</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../../../../../HOL/HOL/Product_Type.html#Product_Type.unit|type"><span>unit</span></a><span>›</span></span></span><span>›</span></span><span>
                   </span><span class="main"><span>|</span></span><span> </span><span class="entity"><span>TY</span></span><span> </span><span class="main"><span>=&gt;</span></span><span> </span><span class="keyword3"><span class="keyword"><span>raise</span></span></span><span> </span><span>TYPE</span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>"Internal Bug #qcujm903"</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="entity"><span>TY</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="keyword"><span>fun</span></span></span><span> </span><span class="entity"><span>space_locale_exp</span></span><span> </span><span class="entity"><span>fields</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="main"><span>(</span></span><span class="entity"><span>Expression.Positional</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span>SOME</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="../../../../Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC.DOMAIN|const"><span>FIC.DOMAIN</span></a><span>›</span></span></span><span class="main"><span>,</span></span><span> </span><span>SOME</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><a class="entity_ref" href="../../../../Phi_Semantics_Framework.html#Phi_Semantics_Framework.INTERPRET|const"><span>INTERPRET</span></a><span>›</span></span></span><span class="main"><span>]</span></span><span>
      </span><span>@</span><span> </span><span>map</span><span> </span><span>SOME</span><span> </span><span class="entity"><span>fields</span></span><span>
      </span><span>@</span><span> </span><span class="main"><span>[</span></span><span>SOME</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../../../Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC_N|type"><span>FIC_N</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span> </span><span>SOME</span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">term</span><span class="hidden">&gt;</span></span></span><span class="quoted"><span>‹</span><span class="keyword1"><span>TYPE</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../../../Phi_Semantics_Framework.html#Phi_Semantics_Framework.FIC|type"><span>FIC</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="keyword"><span>structure</span></span></span><span> </span><span class="entity"><span>Fiction_Space</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity"><span>Generic_Resource_Space</span></span><span class="main"><span>(</span></span><span class="entity"><span>Fiction_Space_Argument</span></span><span class="main"><span>)</span></span></pre>
</body>

</html>