<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory HOL-Library.Finite_Map</title>
</head>


<body>
<div class="head">
<h1>Theory HOL-Library.Finite_Map</h1>
</div>

<pre class="source"><span class="comment1"><span>(</span><span>*</span><span>  Title:      HOL/Library/Finite_Map.thy
    Author:     Lars Hupel, TU München
</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Type of finite maps defined as a subtype of maps</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="HOL-Library.Finite_Map.html"><span>Finite_Map</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="HOL-Library.FSet.html"><span>FSet</span></a><span> </span><a href="HOL-Library.AList.html"><span>AList</span></a><span> </span><a href="HOL-Library.Conditional_Parametricity.html"><span>Conditional_Parametricity</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>abbrevs</span></span></span><span> </span><span class="quoted"><span>"</span><span>(=</span><span>"</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span>"</span><span>⊆<span class="hidden">⇩</span><sub>f</sub></span><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Auxiliary constants and lemmas over </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">type</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>map</span></a><span>›</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_add_transfer|fact"><span class="entity_def" id="Finite_Map.map_add_transfer|thm"><span>map_add_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_of_transfer|fact"><span class="entity_def" id="Finite_Map.map_of_transfer|thm"><span>map_of_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of_def|fact"><span>map_of_def</span></a><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>includes</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.lifting_syntax|bundle"><span>lifting_syntax</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.rel_map|const"><span>rel_map</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rel_map</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span>===&gt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.ran_transfer|fact"><span class="entity_def" id="Finite_Map.ran_transfer|thm"><span>ran_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.rel_map|const"><span>rel_map</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span>===&gt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_set|const"><span>rel_set</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.rel_map|const"><span>rel_map</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_set|const"><span>rel_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_setI|fact"><span>rel_setI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.rel_map|const"><span>rel_map</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_funD|fact"><span>rel_funD</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>y</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.rel_map|const"><span>rel_map</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_funD|fact"><span>rel_funD</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>A</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∃</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.ran_alt_def|fact"><span class="entity_def" id="Finite_Map.ran_alt_def|thm"><span>ran_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.dom_transfer|fact"><span class="entity_def" id="Finite_Map.dom_transfer|thm"><span>dom_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.map_upd_def|fact"><span class="entity_def" id="Finite_Map.map_upd_def|thm"><span class="entity_def" id="Finite_Map.map_upd_def_raw|axiom"><span class="entity_def" id="offset_1689..1699">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.map_upd|const"><span>map_upd</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>map_upd</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_upd_transfer|fact"><span class="entity_def" id="Finite_Map.map_upd_transfer|thm"><span>map_upd_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_1689..1699"><span>map_upd_def</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.map_filter_def|fact"><span class="entity_def" id="Finite_Map.map_filter_def|thm"><span class="entity_def" id="Finite_Map.map_filter_def_raw|axiom"><span class="entity_def" id="offset_1845..1855">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.map_filter|const"><span>map_filter</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>map_filter</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_filter_transfer|fact"><span class="entity_def" id="Finite_Map.map_filter_transfer|thm"><span>map_filter_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_1845..1855"><span>map_filter_def</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_filter_map_of|fact"><span class="entity_def" id="Finite_Map.map_filter_map_of|thm"><span>map_filter_map_of</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter|const"><span>map_filter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter|const"><span>map_filter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>]</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_1845..1855"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2251..2256">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_filter_finite|fact"><span class="entity_def" id="Finite_Map.map_filter_finite|thm"><span>map_filter_finite</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter|const"><span>map_filter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter|const"><span>map_filter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.filter|const"><span>Set.filter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_1845..1855"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.filter_def|fact"><span>Set.filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_2251..2256"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.filter_def|fact"><span>Set.filter_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.map_drop_def|fact"><span class="entity_def" id="Finite_Map.map_drop_def|thm"><span class="entity_def" id="Finite_Map.map_drop_def_raw|axiom"><span class="entity_def" id="offset_2550..2560">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.map_drop|const"><span>map_drop</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>map_drop</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter|const"><span>map_filter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_drop_transfer|fact"><span class="entity_def" id="Finite_Map.map_drop_transfer|thm"><span>map_drop_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_2550..2560"><span>map_drop_def</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.map_drop_set_def|fact"><span class="entity_def" id="Finite_Map.map_drop_set_def|thm"><span class="entity_def" id="Finite_Map.map_drop_set_def_raw|axiom"><span class="entity_def" id="offset_2717..2727">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.map_drop_set|const"><span>map_drop_set</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>map_drop_set</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter|const"><span>map_filter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_drop_set_transfer|fact"><span class="entity_def" id="Finite_Map.map_drop_set_transfer|thm"><span>map_drop_set_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_2717..2727"><span>map_drop_set_def</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.map_restrict_set_def|fact"><span class="entity_def" id="Finite_Map.map_restrict_set_def|thm"><span class="entity_def" id="Finite_Map.map_restrict_set_def_raw|axiom"><span class="entity_def" id="offset_2902..2912">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.map_restrict_set|const"><span>map_restrict_set</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>map_restrict_set</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter|const"><span>map_filter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_restrict_set_transfer|fact"><span class="entity_def" id="Finite_Map.map_restrict_set_transfer|thm"><span>map_restrict_set_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_2902..2912"><span>map_restrict_set_def</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.map_pred_def|fact"><span class="entity_def" id="Finite_Map.map_pred_def|thm"><span class="entity_def" id="Finite_Map.map_pred_def_raw|axiom"><span class="entity_def" id="offset_3103..3113">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.map_pred|const"><span>map_pred</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>map_pred</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><span>of</span></span><span> None </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>|</span></span><span> Some </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_pred_transfer|fact"><span class="entity_def" id="Finite_Map.map_pred_transfer|thm"><span>map_pred_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_3103..3113"><span>map_pred_def</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.rel_map_on_set_def|fact"><span class="entity_def" id="Finite_Map.rel_map_on_set_def|thm"><span class="entity_def" id="Finite_Map.rel_map_on_set_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.rel_map_on_set|const"><span>rel_map_on_set</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rel_map_on_set</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.eq_onp|const"><span>eq_onp</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span>===&gt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.set_of_map_def|fact"><span class="entity_def" id="Finite_Map.set_of_map_def|thm"><span class="entity_def" id="Finite_Map.set_of_map_def_raw|axiom"><span class="entity_def" id="offset_3458..3468">definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.set_of_map|const"><span>set_of_map</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>set_of_map</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>|</span></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>v</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.set_of_map_alt_def|fact"><span class="entity_def" id="Finite_Map.set_of_map_alt_def|thm"><span class="entity_def" id="offset_3568..3586">set_of_map_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map|const"><span>set_of_map</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_3458..3468"><span>set_of_map_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.set_of_map_finite|fact"><span class="entity_def" id="Finite_Map.set_of_map_finite|thm"><span>set_of_map_finite</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map|const"><span>set_of_map</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_3568..3586"><span>set_of_map_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.set_of_map_inj|fact"><span class="entity_def" id="Finite_Map.set_of_map_inj|thm"><span>set_of_map_inj</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj|const"><span>inj</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map|const"><span>set_of_map</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map|const"><span>set_of_map</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map|const"><span>set_of_map</span></a><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_3458..3468"><span>set_of_map_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>k</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.not_None_eq|fact"><span>not_None_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.dom_comp|fact"><span class="entity_def" id="Finite_Map.dom_comp|thm"><span class="entity_def" id="offset_4043..4051">dom_comp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_comp|const"><span>∘<span class="hidden">⇩</span><sub>m</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_comp_def|fact"><span>map_comp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.dom_comp_finite|fact"><span class="entity_def" id="Finite_Map.dom_comp_finite|thm"><span>dom_comp_finite</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_comp|const"><span>map_comp</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_subset|fact"><span>finite_subset</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_4043..4051"><span>dom_comp</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>parametric_constant</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_comp_transfer|fact"><span class="entity_def" id="Finite_Map.map_comp_transfer|thm"><span>map_comp_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_comp_def|fact"><span>map_comp_def</span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Abstract characterisation</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.arity_typerep_fmap|fact"><span class="entity_def" id="Finite_Map.typerep_fmap_def|fact"><span class="entity_def" id="Finite_Map.typerep_fmap_inst.typerep_fmap|fact"><span class="entity_def" id="Finite_Map.fmap.type_definition_fmap|fact"><span class="entity_def" id="Finite_Map.arity_type_fmap|fact"><span class="entity_def" id="Finite_Map.arity_typerep_fmap|thm"><span class="entity_def" id="Finite_Map.typerep_fmap_def|thm"><span class="entity_def" id="Finite_Map.typerep_fmap_inst.typerep_fmap|thm"><span class="entity_def" id="Finite_Map.fmap.type_definition_fmap|thm"><span class="entity_def" id="Finite_Map.arity_type_fmap|thm"><span class="entity_def" id="Finite_Map.typerep_fmap_def_raw|axiom"><span class="entity_def" id="Finite_Map.typerep_fmap_inst.typerep_fmap_def|axiom"><span class="entity_def" id="Finite_Map.fmap.type_definition_fmap|axiom"><span class="entity_def" id="Finite_Map.arity_type_fmap|axiom"><span class="entity_def" id="Finite_Map.typerep_fmap_inst.typerep_fmap|const"><span>typedef</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="Finite_Map.fmap|type"><span>fmap</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>morphisms</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap.fmlookup_induct|fact"><span class="entity_def" id="Finite_Map.fmap.fmlookup_cases|fact"><span class="entity_def" id="Finite_Map.fmap.fmlookup_inject|fact"><span class="entity_def" id="Finite_Map.fmap.fmlookup_inverse|fact"><span class="entity_def" id="Finite_Map.fmap.fmlookup|fact"><span class="entity_def" id="Finite_Map.fmap.fmlookup_induct|thm"><span class="entity_def" id="Finite_Map.fmap.fmlookup_cases|thm"><span class="entity_def" id="Finite_Map.fmap.fmlookup_inject|thm"><span class="entity_def" id="Finite_Map.fmap.fmlookup_inverse|thm"><span class="entity_def" id="Finite_Map.fmap.fmlookup|thm"><span class="entity_def" id="Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap.Abs_fmap_induct|fact"><span class="entity_def" id="Finite_Map.fmap.Abs_fmap_cases|fact"><span class="entity_def" id="Finite_Map.fmap.Abs_fmap_inject|fact"><span class="entity_def" id="Finite_Map.fmap.Abs_fmap_inverse|fact"><span class="entity_def" id="Finite_Map.fmap.Abs_fmap_induct|thm"><span class="entity_def" id="Finite_Map.fmap.Abs_fmap_cases|thm"><span class="entity_def" id="Finite_Map.fmap.Abs_fmap_inject|thm"><span class="entity_def" id="Finite_Map.fmap.Abs_fmap_inverse|thm"><span class="entity_def" id="Finite_Map.fmap.Abs_fmap|const"><span>Abs_fmap</span></span></span></span></span></span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.Quotient_fmap|fact"><span class="entity_def" id="Finite_Map.fmap.domain_eq|fact"><span class="entity_def" id="Finite_Map.fmap.domain_par_left_total|fact"><span class="entity_def" id="Finite_Map.fmap.domain_par|fact"><span class="entity_def" id="Finite_Map.fmap.domain|fact"><span class="entity_def" id="Finite_Map.fmap.rep_transfer|fact"><span class="entity_def" id="Finite_Map.fmap.right_total|fact"><span class="entity_def" id="Finite_Map.fmap.bi_unique|fact"><span class="entity_def" id="Finite_Map.fmap.right_unique|fact"><span class="entity_def" id="Finite_Map.fmap.left_unique|fact"><span class="entity_def" id="Finite_Map.arity_term_of_fmap|fact"><span class="entity_def" id="Finite_Map.term_of_fmap_triv|fact"><span class="entity_def" id="Finite_Map.term_of_fmap_inst.term_of_fmap|fact"><span class="entity_def" id="Finite_Map.fmap.pcr_cr_eq|fact"><span class="entity_def" id="Finite_Map.pcr_fmap_def|fact"><span class="entity_def" id="Finite_Map.cr_fmap_def|fact"><span class="entity_def" id="Finite_Map.fmap.lifting|bundle"><span class="entity_def" id="Finite_Map.Quotient_fmap|thm"><span class="entity_def" id="Finite_Map.fmap.domain_eq|thm"><span class="entity_def" id="Finite_Map.fmap.domain_par_left_total|thm"><span class="entity_def" id="Finite_Map.fmap.domain_par|thm"><span class="entity_def" id="Finite_Map.fmap.domain|thm"><span class="entity_def" id="Finite_Map.fmap.rep_transfer|thm"><span class="entity_def" id="Finite_Map.fmap.right_total|thm"><span class="entity_def" id="Finite_Map.fmap.bi_unique|thm"><span class="entity_def" id="Finite_Map.fmap.right_unique|thm"><span class="entity_def" id="Finite_Map.fmap.left_unique|thm"><span class="entity_def" id="Finite_Map.arity_term_of_fmap|thm"><span class="entity_def" id="Finite_Map.term_of_fmap_triv|thm"><span class="entity_def" id="Finite_Map.term_of_fmap_inst.term_of_fmap|thm"><span class="entity_def" id="Finite_Map.fmap.pcr_cr_eq|thm"><span class="entity_def" id="Finite_Map.pcr_fmap_def|thm"><span class="entity_def" id="Finite_Map.cr_fmap_def|thm"><span class="entity_def" id="Finite_Map.term_of_fmap_triv_raw|axiom"><span class="entity_def" id="Finite_Map.term_of_fmap_inst.term_of_fmap_def|axiom"><span class="entity_def" id="Finite_Map.pcr_fmap_def_raw|axiom"><span class="entity_def" id="Finite_Map.cr_fmap_def|axiom"><span class="entity_def" id="Finite_Map.term_of_fmap_inst.term_of_fmap|const"><span class="entity_def" id="Finite_Map.pcr_fmap|const"><span class="entity_def" id="Finite_Map.cr_fmap|const"><span>setup_lifting</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.type_definition_fmap|fact"><span>type_definition_fmap</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.dom_fmlookup_finite|fact"><span class="entity_def" id="Finite_Map.dom_fmlookup_finite|thm"><span>dom_fmlookup_finite</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|fact"><span>fmap.fmlookup</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4649..4654">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_ext|fact"><span class="entity_def" id="Finite_Map.fmap_ext|thm"><span>fmap_ext</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_4649..4654"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Operations</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>includes</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmran.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmran.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmran.transfer|fact"><span class="entity_def" id="Finite_Map.fmran.rsp|fact"><span class="entity_def" id="Finite_Map.fmran_def|fact"><span class="entity_def" id="Finite_Map.fmran.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmran.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmran.transfer|thm"><span class="entity_def" id="Finite_Map.fmran.rsp|thm"><span class="entity_def" id="Finite_Map.fmran_def|thm"><span class="entity_def" id="Finite_Map.fmran_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran|const"><span>fmran</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.ran_transfer|fact"><span>ran_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.finite_ran|fact"><span>finite_ran</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_ran_iff|fact"><span class="entity_def" id="Finite_Map.fmlookup_ran_iff|thm"><span class="entity_def" id="offset_4935..4951">fmlookup_ran_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmranI|fact"><span class="entity_def" id="Finite_Map.fmranI|thm"><span>fmranI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_4935..4951"><span>fmlookup_ran_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5122..5127">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmranE|fact"><span class="entity_def" id="Finite_Map.fmranE|thm"><span>fmranE</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5122..5127"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_4935..4951"><span>fmlookup_ran_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmdom.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmdom.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmdom.transfer|fact"><span class="entity_def" id="Finite_Map.fmdom.rsp|fact"><span class="entity_def" id="Finite_Map.fmdom_def|fact"><span class="entity_def" id="Finite_Map.fmdom.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmdom.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmdom.transfer|thm"><span class="entity_def" id="Finite_Map.fmdom.rsp|thm"><span class="entity_def" id="Finite_Map.fmdom_def|thm"><span class="entity_def" id="Finite_Map.fmdom_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom|const"><span>fmdom</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.dom_transfer|fact"><span>dom_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_dom_iff|fact"><span class="entity_def" id="Finite_Map.fmlookup_dom_iff|thm"><span class="entity_def" id="offset_5351..5367">fmlookup_dom_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_notI|fact"><span class="entity_def" id="Finite_Map.fmdom_notI|thm"><span>fmdom_notI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.notin_fset|const"><span>|∉|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5351..5367"><span>fmlookup_dom_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdomI|fact"><span class="entity_def" id="Finite_Map.fmdomI|thm"><span>fmdomI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5351..5367"><span>fmlookup_dom_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_notD|fact"><span class="entity_def" id="Finite_Map.fmdom_notD|thm"><span>fmdom_notD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.dest|attribute"><span class="operator"><span>dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.notin_fset|const"><span>|∉|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5351..5367"><span>fmlookup_dom_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5703..5708">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdomE|fact"><span class="entity_def" id="Finite_Map.fmdomE|thm"><span>fmdomE</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5703..5708"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5351..5367"><span>fmlookup_dom_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmdom&apos;.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;.transfer|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;.rsp|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_def|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmdom&apos;.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmdom&apos;.transfer|thm"><span class="entity_def" id="Finite_Map.fmdom&apos;.rsp|thm"><span class="entity_def" id="Finite_Map.fmdom&apos;_def|thm"><span class="entity_def" id="Finite_Map.fmdom&apos;_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;|const"><span>fmdom'</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.dom_transfer|fact"><span>dom_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_dom&apos;_iff|fact"><span class="entity_def" id="Finite_Map.fmlookup_dom&apos;_iff|thm"><span class="entity_def" id="offset_5932..5949">fmlookup_dom'_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>a</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_notI|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_notI|thm"><span>fmdom'_notI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5932..5949"><span>fmlookup_dom'_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;I|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;I|thm"><span class="entity_def" id="offset_6110..6117">fmdom'I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5932..5949"><span>fmlookup_dom'_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_notD|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_notD|thm"><span>fmdom'_notD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.dest|attribute"><span class="operator"><span>dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5932..5949"><span>fmlookup_dom'_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6287..6292">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;E|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;E|thm"><span>fmdom'E</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_6287..6292"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5932..5949"><span>fmlookup_dom'_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_alt_def|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_alt_def|thm"><span class="entity_def" id="offset_6430..6444">fmdom'_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.fset|const"><span>fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.finite_fmdom&apos;|fact"><span class="entity_def" id="Finite_Map.finite_fmdom&apos;|thm"><span>finite_fmdom'</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_6430..6444"><span>fmdom'_alt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.dom_fmlookup|fact"><span class="entity_def" id="Finite_Map.dom_fmlookup|thm"><span>dom_fmlookup</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmempty.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmempty.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmempty.transfer|fact"><span class="entity_def" id="Finite_Map.fmempty.rsp|fact"><span class="entity_def" id="Finite_Map.fmempty_def|fact"><span class="entity_def" id="Finite_Map.fmempty.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmempty.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmempty.transfer|thm"><span class="entity_def" id="Finite_Map.fmempty.rsp|thm"><span class="entity_def" id="Finite_Map.fmempty_def|thm"><span class="entity_def" id="Finite_Map.fmempty_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmempty|const"><span>fmempty</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmempty_lookup|fact"><span class="entity_def" id="Finite_Map.fmempty_lookup|thm"><span>fmempty_lookup</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_empty|fact"><span class="entity_def" id="Finite_Map.fmdom_empty|thm"><span>fmdom_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fempty|const"><span>{||}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_empty|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_empty|thm"><span>fmdom'_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran_empty|fact"><span class="entity_def" id="Finite_Map.fmran_empty|thm"><span>fmran_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fempty|const"><span>fempty</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmupd.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmupd.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmupd.transfer|fact"><span class="entity_def" id="Finite_Map.fmupd.rsp|fact"><span class="entity_def" id="Finite_Map.fmupd_def|fact"><span class="entity_def" id="Finite_Map.fmupd.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmupd.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmupd.transfer|thm"><span class="entity_def" id="Finite_Map.fmupd.rsp|thm"><span class="entity_def" id="Finite_Map.fmupd_def|thm"><span class="entity_def" id="Finite_Map.fmupd_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmupd|const"><span>fmupd</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd|const"><span>map_upd</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_transfer|fact"><span>map_upd_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmupd_lookup|fact"><span class="entity_def" id="Finite_Map.fmupd_lookup|thm"><span>fmupd_lookup</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>a'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>a'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_fmupd|fact"><span class="entity_def" id="Finite_Map.fmdom_fmupd|thm"><span>fmdom_fmupd</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finsert|const"><span>finsert</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_fmupd|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_fmupd|thm"><span>fmdom'_fmupd</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7525..7530">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmupd_reorder_neq|fact"><span class="entity_def" id="Finite_Map.fmupd_reorder_neq|thm"><span>fmupd_reorder_neq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_7525..7530"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmupd_idem|fact"><span class="entity_def" id="Finite_Map.fmupd_idem|thm"><span>fmupd_idem</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmfilter.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmfilter.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmfilter.transfer|fact"><span class="entity_def" id="Finite_Map.fmfilter.rsp|fact"><span class="entity_def" id="Finite_Map.fmfilter_def|fact"><span class="entity_def" id="Finite_Map.fmfilter.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmfilter.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmfilter.transfer|thm"><span class="entity_def" id="Finite_Map.fmfilter.rsp|thm"><span class="entity_def" id="Finite_Map.fmfilter_def|thm"><span class="entity_def" id="Finite_Map.fmfilter_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter|const"><span>fmfilter</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter|const"><span>map_filter</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_transfer|fact"><span>map_filter_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_filter|fact"><span class="entity_def" id="Finite_Map.fmdom_filter|thm"><span>fmdom_filter</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.ffilter|const"><span>ffilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.filter_def|fact"><span>Set.filter_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_filter|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_filter|thm"><span>fmdom'_filter</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.filter|const"><span>Set.filter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.filter_def|fact"><span>Set.filter_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_filter|fact"><span class="entity_def" id="Finite_Map.fmlookup_filter|thm"><span>fmlookup_filter</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_empty|fact"><span class="entity_def" id="Finite_Map.fmfilter_empty|thm"><span>fmfilter_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8449..8454">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_true|fact"><span class="entity_def" id="Finite_Map.fmfilter_true|thm"><span>fmfilter_true</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8581..8585">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_8581..8585"><span>that</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_8449..8454"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8725..8730">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_false|fact"><span class="entity_def" id="Finite_Map.fmfilter_false|thm"><span>fmfilter_false</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_8725..8730"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_comp|fact"><span class="entity_def" id="Finite_Map.fmfilter_comp|thm"><span class="entity_def" id="offset_8899..8912">fmfilter_comp</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_comm|fact"><span class="entity_def" id="Finite_Map.fmfilter_comm|thm"><span class="entity_def" id="offset_9025..9038">fmfilter_comm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_8899..8912"><span>fmfilter_comp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9130..9135">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_cong|fact"><span class="entity_def" id="Finite_Map.fmfilter_cong|thm"><span class="entity_def" id="offset_9136..9149">fmfilter_cong</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>cong</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9279..9283">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_9279..9283"><span>that</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_9130..9135"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9440..9445">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_cong&apos;|fact"><span class="entity_def" id="Finite_Map.fmfilter_cong&apos;|thm"><span>fmfilter_cong'</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/Fun_Def_Base.html#Fun_Def_Base.fundef_cong|attribute"><span class="operator"><span>fundef_cong</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_9440..9445"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_9440..9445"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_9136..9149"><span>fmfilter_cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_6110..6117"><span>fmdom'I</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_upd|fact"><span class="entity_def" id="Finite_Map.fmfilter_upd|thm"><span>fmfilter_upd</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmdrop.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmdrop.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmdrop.transfer|fact"><span class="entity_def" id="Finite_Map.fmdrop.rsp|fact"><span class="entity_def" id="Finite_Map.fmdrop_def|fact"><span class="entity_def" id="Finite_Map.fmdrop.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmdrop.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmdrop.transfer|thm"><span class="entity_def" id="Finite_Map.fmdrop.rsp|thm"><span class="entity_def" id="Finite_Map.fmdrop_def|thm"><span class="entity_def" id="Finite_Map.fmdrop_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop|const"><span>fmdrop</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop|const"><span>map_drop</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_transfer|fact"><span>map_drop_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_lookup|fact"><span class="entity_def" id="Finite_Map.fmdrop_lookup|thm"><span>fmdrop_lookup</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmdrop_set.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmdrop_set.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmdrop_set.transfer|fact"><span class="entity_def" id="Finite_Map.fmdrop_set.rsp|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_def|fact"><span class="entity_def" id="Finite_Map.fmdrop_set.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmdrop_set.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmdrop_set.transfer|thm"><span class="entity_def" id="Finite_Map.fmdrop_set.rsp|thm"><span class="entity_def" id="Finite_Map.fmdrop_set_def|thm"><span class="entity_def" id="Finite_Map.fmdrop_set_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set|const"><span>map_drop_set</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_transfer|fact"><span>map_drop_set_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_def|fact"><span>map_drop_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmdrop_fset.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset.transfer|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset.rsp|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_def|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmdrop_fset.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmdrop_fset.transfer|thm"><span class="entity_def" id="Finite_Map.fmdrop_fset.rsp|thm"><span class="entity_def" id="Finite_Map.fmdrop_fset_def|thm"><span class="entity_def" id="Finite_Map.fmdrop_fset_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set|const"><span>map_drop_set</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_transfer|fact"><span>map_drop_set_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_def|fact"><span>map_drop_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmrestrict_set.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set.transfer|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set.rsp|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_def|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmrestrict_set.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmrestrict_set.transfer|thm"><span class="entity_def" id="Finite_Map.fmrestrict_set.rsp|thm"><span class="entity_def" id="Finite_Map.fmrestrict_set_def|thm"><span class="entity_def" id="Finite_Map.fmrestrict_set_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set|const"><span>map_restrict_set</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set_transfer|fact"><span>map_restrict_set_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set_def|fact"><span>map_restrict_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmrestrict_fset.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset.transfer|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset.rsp|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_def|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmrestrict_fset.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmrestrict_fset.transfer|thm"><span class="entity_def" id="Finite_Map.fmrestrict_fset.rsp|thm"><span class="entity_def" id="Finite_Map.fmrestrict_fset_def|thm"><span class="entity_def" id="Finite_Map.fmrestrict_fset_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set|const"><span>map_restrict_set</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set_transfer|fact"><span>map_restrict_set_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set_def|fact"><span>map_restrict_set_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_alt_defs|fact"><span class="entity_def" id="Finite_Map.fmfilter_alt_defs(5)|thm"><span class="entity_def" id="Finite_Map.fmfilter_alt_defs(4)|thm"><span class="entity_def" id="Finite_Map.fmfilter_alt_defs(3)|thm"><span class="entity_def" id="Finite_Map.fmfilter_alt_defs(2)|thm"><span class="entity_def" id="Finite_Map.fmfilter_alt_defs(1)|thm"><span class="entity_def" id="offset_10742..10759">fmfilter_alt_defs</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.notin_fset|const"><span>|∉|</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_def|fact"><span>map_drop_set_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set_def|fact"><span>map_restrict_set_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_drop|fact"><span class="entity_def" id="Finite_Map.fmdom_drop|thm"><span>fmdom_drop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{|</span></span><span class="free"><span>a</span></span><span class="main"><span>|}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_drop|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_drop|thm"><span>fmdom'_drop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_drop_set|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_drop_set|thm"><span>fmdom'_drop_set</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_drop_fset|fact"><span class="entity_def" id="Finite_Map.fmdom_drop_fset|thm"><span>fmdom_drop_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_restrict_set|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_restrict_set|thm"><span>fmdom'_restrict_set</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_restrict_fset|fact"><span class="entity_def" id="Finite_Map.fmdom_restrict_fset|thm"><span>fmdom_restrict_fset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fsubset_eq|const"><span>|⊆|</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fmupd|fact"><span class="entity_def" id="Finite_Map.fmdrop_fmupd|thm"><span>fmdrop_fmupd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_idle|fact"><span class="entity_def" id="Finite_Map.fmdrop_idle|thm"><span>fmdrop_idle</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.notin_fset|const"><span>|∉|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_idle&apos;|fact"><span class="entity_def" id="Finite_Map.fmdrop_idle&apos;|thm"><span>fmdrop_idle'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fmupd_same|fact"><span class="entity_def" id="Finite_Map.fmdrop_fmupd_same|thm"><span>fmdrop_fmupd_same</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_restrict_set_precise|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_restrict_set_precise|thm"><span>fmdom'_restrict_set_precise</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_restrict_fset_precise|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_restrict_fset_precise|thm"><span>fmdom'_restrict_fset_precise</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finter|const"><span>|∩|</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_drop_fset|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_drop_fset|thm"><span>fmdom'_drop_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.fset|const"><span>fset</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.if_splits|fact"><span>if_splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_restrict_fset|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_restrict_fset|thm"><span>fmdom'_restrict_fset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.fset|const"><span>fset</span></a><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_drop|fact"><span class="entity_def" id="Finite_Map.fmlookup_drop|thm"><span>fmlookup_drop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_drop_set|fact"><span class="entity_def" id="Finite_Map.fmlookup_drop_set|thm"><span>fmlookup_drop_set</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_drop_fset|fact"><span class="entity_def" id="Finite_Map.fmlookup_drop_fset|thm"><span>fmlookup_drop_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.notin_fset|const"><span>|∉|</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_restrict_set|fact"><span class="entity_def" id="Finite_Map.fmlookup_restrict_set|thm"><span>fmlookup_restrict_set</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_restrict_fset|fact"><span class="entity_def" id="Finite_Map.fmlookup_restrict_fset|thm"><span>fmlookup_restrict_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set_dom|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_dom|thm"><span>fmrestrict_set_dom</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset_dom|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_dom|thm"><span>fmrestrict_fset_dom</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_empty|fact"><span class="entity_def" id="Finite_Map.fmdrop_empty|thm"><span>fmdrop_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_empty|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_empty|thm"><span>fmdrop_set_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_empty|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_empty|thm"><span>fmdrop_fset_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_fmdom|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_fmdom|thm"><span>fmdrop_fset_fmdom</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_def|fact"><span>map_drop_set_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_fmdom|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_fmdom|thm"><span>fmdrop_set_fmdom</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_def|fact"><span>map_drop_set_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set_empty|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_empty|thm"><span>fmrestrict_set_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset_empty|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_empty|thm"><span>fmrestrict_fset_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_null|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_null|thm"><span>fmdrop_set_null</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_null|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_null|thm"><span>fmdrop_fset_null</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fempty|const"><span>{||}</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_single|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_single|thm"><span>fmdrop_set_single</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>a</span></span><span class="main"><span>}</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_single|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_single|thm"><span>fmdrop_fset_single</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="main"><span>{|</span></span><span class="free"><span>a</span></span><span class="main"><span>|}</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set_null|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_null|thm"><span>fmrestrict_set_null</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset_null|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_null|thm"><span>fmrestrict_fset_null</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fempty|const"><span>{||}</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_comm|fact"><span class="entity_def" id="Finite_Map.fmdrop_comm|thm"><span>fmdrop_comm</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_9025..9038"><span>fmfilter_comm</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_insert|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_insert|thm"><span>fmdrop_set_insert</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_insert|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_insert|thm"><span>fmdrop_fset_insert</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finsert|const"><span>finsert</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set_twice|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_twice|thm"><span>fmrestrict_set_twice</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>∩</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset_twice|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_twice|thm"><span>fmrestrict_fset_twice</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finter|const"><span>|∩|</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set_drop|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_drop|thm"><span>fmrestrict_set_drop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset_drop|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_drop|thm"><span>fmrestrict_fset_drop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{|</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>|}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fmrestrict_set|fact"><span class="entity_def" id="Finite_Map.fmdrop_fmrestrict_set|thm"><span>fmdrop_fmrestrict_set</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fmrestrict_fset|fact"><span class="entity_def" id="Finite_Map.fmdrop_fmrestrict_fset|thm"><span>fmdrop_fmrestrict_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{|</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>|}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_idem|fact"><span class="entity_def" id="Finite_Map.fmdrop_idem|thm"><span>fmdrop_idem</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_twice|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_twice|thm"><span>fmdrop_set_twice</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_twice|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_twice|thm"><span>fmdrop_fset_twice</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.funion|const"><span>|∪|</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_fmdrop|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_fmdrop|thm"><span>fmdrop_set_fmdrop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_fmdrop|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_fmdrop|thm"><span>fmdrop_fset_fmdrop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finsert|const"><span>finsert</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmadd.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmadd.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmadd.transfer|fact"><span class="entity_def" id="Finite_Map.fmadd.rsp|fact"><span class="entity_def" id="Finite_Map.fmadd_def|fact"><span class="entity_def" id="Finite_Map.fmadd.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmadd.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmadd.transfer|thm"><span class="entity_def" id="Finite_Map.fmadd.rsp|thm"><span class="entity_def" id="Finite_Map.fmadd_def|thm"><span class="entity_def" id="Finite_Map.fmadd_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd|const"><span>fmadd</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>++<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 100</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add|const"><span>map_add</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_add_transfer|fact"><span>map_add_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_add|fact"><span class="entity_def" id="Finite_Map.fmlookup_add|thm"><span>fmlookup_add</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_add|fact"><span class="entity_def" id="Finite_Map.fmdom_add|thm"><span>fmdom_add</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.funion|const"><span>|∪|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_add|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_add|thm"><span>fmdom'_add</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd_drop_left_dom|fact"><span class="entity_def" id="Finite_Map.fmadd_drop_left_dom|thm"><span>fmadd_drop_left_dom</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd_restrict_right_dom|fact"><span class="entity_def" id="Finite_Map.fmadd_restrict_right_dom|thm"><span>fmadd_restrict_right_dom</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_add_distrib|fact"><span class="entity_def" id="Finite_Map.fmfilter_add_distrib|thm"><span>fmfilter_add_distrib</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_add_distrib|fact"><span class="entity_def" id="Finite_Map.fmdrop_add_distrib|thm"><span>fmdrop_add_distrib</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_add_distrib|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_add_distrib|thm"><span>fmdrop_set_add_distrib</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_add_distrib|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_add_distrib|thm"><span>fmdrop_fset_add_distrib</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set_add_distrib|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_add_distrib|thm"><span>fmrestrict_set_add_distrib</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset_add_distrib|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_add_distrib|thm"><span>fmrestrict_fset_add_distrib</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd_empty|fact"><span class="entity_def" id="Finite_Map.fmadd_empty(2)|thm"><span class="entity_def" id="Finite_Map.fmadd_empty(1)|thm"><span>fmadd_empty</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd_idempotent|fact"><span class="entity_def" id="Finite_Map.fmadd_idempotent|thm"><span>fmadd_idempotent</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd_assoc|fact"><span class="entity_def" id="Finite_Map.fmadd_assoc|thm"><span>fmadd_assoc</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd_fmupd|fact"><span class="entity_def" id="Finite_Map.fmadd_fmupd|thm"><span>fmadd_fmupd</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmpred.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmpred.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmpred.transfer|fact"><span class="entity_def" id="Finite_Map.fmpred.rsp|fact"><span class="entity_def" id="Finite_Map.fmpred_def|fact"><span class="entity_def" id="Finite_Map.fmpred.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmpred.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmpred.transfer|thm"><span class="entity_def" id="Finite_Map.fmpred.rsp|thm"><span class="entity_def" id="Finite_Map.fmpred_def|thm"><span class="entity_def" id="Finite_Map.fmpred_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred|const"><span>fmpred</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred|const"><span>map_pred</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_transfer|fact"><span>map_pred_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18689..18694">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpredI|fact"><span class="entity_def" id="Finite_Map.fmpredI|thm"><span>fmpredI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_18689..18694"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpredD|fact"><span class="entity_def" id="Finite_Map.fmpredD|thm"><span>fmpredD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.dest|attribute"><span class="operator"><span>dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.split_asm|fact"><span>option.split_asm</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_iff|fact"><span class="entity_def" id="Finite_Map.fmpred_iff|thm"><span class="entity_def" id="offset_18989..18999">fmpred_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_alt_def|fact"><span class="entity_def" id="Finite_Map.fmpred_alt_def|thm"><span>fmpred_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fBall|const"><span>fBall</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_18989..18999"><span>fmpred_iff</span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rename_tac</span></span><span> x y</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>erule_tac</span></span><span> x </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="improper"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fBallE|fact"><span>fBallE</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_5351..5367"><span>fmlookup_dom_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19280..19285">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_mono_strong|fact"><span class="entity_def" id="Finite_Map.fmpred_mono_strong|thm"><span class="entity_def" id="offset_19286..19304">fmpred_mono_strong</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_19280..19285"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_18989..18999"><span>fmpred_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_mono|fact"><span class="entity_def" id="Finite_Map.fmpred_mono|thm"><span>fmpred_mono</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/inductive.ML.html#Inductive.mono|attribute"><span class="operator"><span>mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_19286..19304"><span>fmpred_mono_strong</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> P </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>P</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> Q </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>Q</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_empty|fact"><span class="entity_def" id="Finite_Map.fmpred_empty|thm"><span>fmpred_empty</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_upd|fact"><span class="entity_def" id="Finite_Map.fmpred_upd|thm"><span>fmpred_upd</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_updD|fact"><span class="entity_def" id="Finite_Map.fmpred_updD|thm"><span>fmpred_updD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.dest|attribute"><span class="operator"><span>dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_add|fact"><span class="entity_def" id="Finite_Map.fmpred_add|thm"><span>fmpred_add</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_filter|fact"><span class="entity_def" id="Finite_Map.fmpred_filter|thm"><span>fmpred_filter</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_drop|fact"><span class="entity_def" id="Finite_Map.fmpred_drop|thm"><span>fmpred_drop</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_drop_set|fact"><span class="entity_def" id="Finite_Map.fmpred_drop_set|thm"><span>fmpred_drop_set</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_drop_fset|fact"><span class="entity_def" id="Finite_Map.fmpred_drop_fset|thm"><span>fmpred_drop_fset</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_restrict_set|fact"><span class="entity_def" id="Finite_Map.fmpred_restrict_set|thm"><span>fmpred_restrict_set</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_restrict_fset|fact"><span class="entity_def" id="Finite_Map.fmpred_restrict_fset|thm"><span>fmpred_restrict_fset</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20638..20643">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_cases|fact"><span class="entity_def" id="Finite_Map.fmpred_cases|thm"><span>fmpred_cases</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="main"><span>(</span></span><span>none</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>some</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_20638..20643"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmsubset.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmsubset.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmsubset.transfer|fact"><span class="entity_def" id="Finite_Map.fmsubset.rsp|fact"><span class="entity_def" id="Finite_Map.fmsubset_def|fact"><span class="entity_def" id="Finite_Map.fmsubset.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmsubset.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmsubset.transfer|thm"><span class="entity_def" id="Finite_Map.fmsubset.rsp|thm"><span class="entity_def" id="Finite_Map.fmsubset_def|thm"><span class="entity_def" id="Finite_Map.fmsubset_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset|const"><span>fmsubset</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 50</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le|const"><span>map_le</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_alt_def|fact"><span class="entity_def" id="Finite_Map.fmsubset_alt_def|thm"><span class="entity_def" id="offset_20907..20923">fmsubset_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le_def|fact"><span>map_le_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_pred|fact"><span class="entity_def" id="Finite_Map.fmsubset_pred|thm"><span>fmsubset_pred</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_20907..20923"><span>fmsubset_alt_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_18989..18999"><span>fmpred_iff</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_filter_mono|fact"><span class="entity_def" id="Finite_Map.fmsubset_filter_mono|thm"><span class="entity_def" id="offset_21166..21186">fmsubset_filter_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_20907..20923"><span>fmsubset_alt_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_18989..18999"><span>fmpred_iff</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_drop_mono|fact"><span class="entity_def" id="Finite_Map.fmsubset_drop_mono|thm"><span>fmsubset_drop_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21166..21186"><span>fmsubset_filter_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_drop_set_mono|fact"><span class="entity_def" id="Finite_Map.fmsubset_drop_set_mono|thm"><span>fmsubset_drop_set_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21166..21186"><span>fmsubset_filter_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_drop_fset_mono|fact"><span class="entity_def" id="Finite_Map.fmsubset_drop_fset_mono|thm"><span>fmsubset_drop_fset_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21166..21186"><span>fmsubset_filter_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_restrict_set_mono|fact"><span class="entity_def" id="Finite_Map.fmsubset_restrict_set_mono|thm"><span>fmsubset_restrict_set_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21166..21186"><span>fmsubset_filter_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_restrict_fset_mono|fact"><span class="entity_def" id="Finite_Map.fmsubset_restrict_fset_mono|thm"><span>fmsubset_restrict_fset_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21166..21186"><span>fmsubset_filter_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_subset|fact"><span class="entity_def" id="Finite_Map.fmfilter_subset|thm"><span class="entity_def" id="offset_21981..21996">fmfilter_subset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_20907..20923"><span>fmsubset_alt_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_18989..18999"><span>fmpred_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_drop|fact"><span class="entity_def" id="Finite_Map.fmsubset_drop|thm"><span>fmsubset_drop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21981..21996"><span>fmfilter_subset</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_drop_set|fact"><span class="entity_def" id="Finite_Map.fmsubset_drop_set|thm"><span>fmsubset_drop_set</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21981..21996"><span>fmfilter_subset</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_drop_fset|fact"><span class="entity_def" id="Finite_Map.fmsubset_drop_fset|thm"><span>fmsubset_drop_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21981..21996"><span>fmfilter_subset</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_restrict_set|fact"><span class="entity_def" id="Finite_Map.fmsubset_restrict_set|thm"><span>fmsubset_restrict_set</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21981..21996"><span>fmfilter_subset</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmsubset_restrict_fset|fact"><span class="entity_def" id="Finite_Map.fmsubset_restrict_fset|thm"><span>fmsubset_restrict_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_10742..10759"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_21981..21996"><span>fmfilter_subset</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fset_of_fmap.rep_eq|fact"><span class="entity_def" id="Finite_Map.fset_of_fmap.abs_eq|fact"><span class="entity_def" id="Finite_Map.fset_of_fmap.transfer|fact"><span class="entity_def" id="Finite_Map.fset_of_fmap.rsp|fact"><span class="entity_def" id="Finite_Map.fset_of_fmap_def|fact"><span class="entity_def" id="Finite_Map.fset_of_fmap.rep_eq|thm"><span class="entity_def" id="Finite_Map.fset_of_fmap.abs_eq|thm"><span class="entity_def" id="Finite_Map.fset_of_fmap.transfer|thm"><span class="entity_def" id="Finite_Map.fset_of_fmap.rsp|thm"><span class="entity_def" id="Finite_Map.fset_of_fmap_def|thm"><span class="entity_def" id="Finite_Map.fset_of_fmap_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fset_of_fmap|const"><span>fset_of_fmap</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map|const"><span>set_of_map</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map_finite|fact"><span>set_of_map_finite</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fset_of_fmap_inj|fact"><span class="entity_def" id="Finite_Map.fset_of_fmap_inj|thm"><span>fset_of_fmap_inj</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj|const"><span>inj</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fset_of_fmap|const"><span>fset_of_fmap</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map_inj|fact"><span>set_of_map_inj</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_def|fact"><span>inj_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fset_of_fmap_iff|fact"><span class="entity_def" id="Finite_Map.fset_of_fmap_iff|thm"><span>fset_of_fmap_iff</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fset_of_fmap|const"><span>fset_of_fmap</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map_def|fact"><span>set_of_map_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fset_of_fmap_iff&apos;|fact"><span class="entity_def" id="Finite_Map.fset_of_fmap_iff&apos;|thm"><span>fset_of_fmap_iff'</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.fset|const"><span>fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fset_of_fmap|const"><span>fset_of_fmap</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map_def|fact"><span>set_of_map_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmap_of_list.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmap_of_list.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmap_of_list.transfer|fact"><span class="entity_def" id="Finite_Map.fmap_of_list.rsp|fact"><span class="entity_def" id="Finite_Map.fmap_of_list_def|fact"><span class="entity_def" id="Finite_Map.fmap_of_list.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmap_of_list.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmap_of_list.transfer|thm"><span class="entity_def" id="Finite_Map.fmap_of_list.rsp|thm"><span class="entity_def" id="Finite_Map.fmap_of_list_def|thm"><span class="entity_def" id="Finite_Map.fmap_of_list_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_of_transfer|fact"><span>map_of_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.finite_dom_map_of|fact"><span>finite_dom_map_of</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_of_list_simps|fact"><span class="entity_def" id="Finite_Map.fmap_of_list_simps(2)|thm"><span class="entity_def" id="Finite_Map.fmap_of_list_simps(1)|thm"><span>fmap_of_list_simps</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span>kvs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>kvs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_of_list_app|fact"><span class="entity_def" id="Finite_Map.fmap_of_list_app|thm"><span>fmap_of_list_app</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>ys</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmupd_alt_def|fact"><span class="entity_def" id="Finite_Map.fmupd_alt_def|thm"><span>fmupd_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23639..23644">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_of_list|fact"><span class="entity_def" id="Finite_Map.fmpred_of_list|thm"><span>fmpred_of_list</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_23639..23644"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_of_list_SomeD|fact"><span class="entity_def" id="Finite_Map.fmap_of_list_SomeD|thm"><span>fmap_of_list_SomeD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of_SomeD|fact"><span>map_of_SomeD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_fmap_of_list|fact"><span class="entity_def" id="Finite_Map.fmdom_fmap_of_list|thm"><span>fmdom_fmap_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset_of_list|const"><span>fset_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_map_of_conv_image_fst|fact"><span>dom_map_of_conv_image_fst</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmrel_on_fset.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset.transfer|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset.rsp|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset_def|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmrel_on_fset.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmrel_on_fset.transfer|thm"><span class="entity_def" id="Finite_Map.fmrel_on_fset.rsp|thm"><span class="entity_def" id="Finite_Map.fmrel_on_fset_def|thm"><span class="entity_def" id="Finite_Map.fmrel_on_fset_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.rel_map_on_set|const"><span>rel_map_on_set</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fset_alt_def|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset_alt_def|thm"><span class="entity_def" id="offset_24229..24250">fmrel_on_fset_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fBall|const"><span>fBall</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.rel_map_on_set_def|fact"><span>rel_map_on_set_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.eq_onp_def|fact"><span>eq_onp_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun_def|fact"><span>rel_fun_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_24404..24409">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fsetI|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fsetI|thm"><span>fmrel_on_fsetI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_24404..24409"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_24229..24250"><span>fmrel_on_fset_alt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fset_mono|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset_mono|thm"><span>fmrel_on_fset_mono</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/inductive.ML.html#Inductive.mono|attribute"><span class="operator"><span>mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>Q</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_24229..24250"><span>fmrel_on_fset_alt_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>abs_def</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.le_funI|fact"><span>le_funI</span></a><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fBall_mono|fact"><span>fBall_mono</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.Option.option.rel_mono|fact"><span>option.rel_mono</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fsetD|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fsetD|thm"><span>fmrel_on_fsetD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_24229..24250"><span>fmrel_on_fset_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fsubset|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fsubset|thm"><span>fmrel_on_fsubset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fsubset_eq|const"><span>|⊆|</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_24229..24250"><span>fmrel_on_fset_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fset_unionI|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset_unionI|thm"><span>fmrel_on_fset_unionI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.funion|const"><span>|∪|</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_24229..24250"><span>fmrel_on_fset_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_25188..25193">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fset_updateI|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset_updateI|thm"><span>fmrel_on_fset_updateI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finsert|const"><span>finsert</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>1</sub></span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v<span class="hidden">⇩</span><sub>2</sub></span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_25188..25193"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_24229..24250"><span>fmrel_on_fset_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmimage.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmimage.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmimage.transfer|fact"><span class="entity_def" id="Finite_Map.fmimage.rsp|fact"><span class="entity_def" id="Finite_Map.fmimage_def|fact"><span class="entity_def" id="Finite_Map.fmimage.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmimage.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmimage.transfer|thm"><span class="entity_def" id="Finite_Map.fmimage.rsp|thm"><span class="entity_def" id="Finite_Map.fmimage_def|thm"><span class="entity_def" id="Finite_Map.fmimage_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage|const"><span>fmimage</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>m</span></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>b</span></span><span class="main"><span>|</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> m S</span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_subset|fact"><span>finite_subset</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> B </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran|const"><span>ran</span></a></a><span> </span><span class="skolem"><span class="skolem"><span>m</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>[</span></span></span><span class="main"><span class="keyword3"><span>]</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.finite_ran|fact"><span>finite_ran</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_alt_def|fact"><span class="entity_def" id="Finite_Map.fmimage_alt_def|thm"><span>fmimage_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set_def|fact"><span>map_restrict_set_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_empty|fact"><span class="entity_def" id="Finite_Map.fmimage_empty|thm"><span>fmimage_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fempty|const"><span>fempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fempty|const"><span>fempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_subset_ran|fact"><span class="entity_def" id="Finite_Map.fmimage_subset_ran|thm"><span>fmimage_subset_ran</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fsubset_eq|const"><span>|⊆|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_dom|fact"><span class="entity_def" id="Finite_Map.fmimage_dom|thm"><span>fmimage_dom</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_inter|fact"><span class="entity_def" id="Finite_Map.fmimage_inter|thm"><span>fmimage_inter</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finter|const"><span>|∩|</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fsubset_eq|const"><span>|⊆|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finter|const"><span>|∩|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fimage_inter_dom|fact"><span class="entity_def" id="Finite_Map.fimage_inter_dom(2)|thm"><span class="entity_def" id="Finite_Map.fimage_inter_dom(1)|thm"><span>fimage_inter_dom</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finter|const"><span>|∩|</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finter|const"><span>|∩|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_union|fact"><span class="entity_def" id="Finite_Map.fmimage_union|thm"><span>fmimage_union</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.funion|const"><span>|∪|</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.funion|const"><span>|∪|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_Union|fact"><span class="entity_def" id="Finite_Map.fmimage_Union|thm"><span>fmimage_Union</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.ffUnion|const"><span>ffUnion</span></a><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.ffUnion|const"><span>ffUnion</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fimage|const"><span>|`|</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_filter|fact"><span class="entity_def" id="Finite_Map.fmimage_filter|thm"><span>fmimage_filter</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.ffilter|const"><span>ffilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_drop|fact"><span class="entity_def" id="Finite_Map.fmimage_drop|thm"><span>fmimage_drop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{|</span></span><span class="free"><span>a</span></span><span class="main"><span>|}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_drop_fset|fact"><span class="entity_def" id="Finite_Map.fmimage_drop_fset|thm"><span>fmimage_drop_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_def|fact"><span>map_drop_set_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_restrict_fset|fact"><span class="entity_def" id="Finite_Map.fmimage_restrict_fset|thm"><span>fmimage_restrict_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>B</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finter|const"><span>|∩|</span></a></span><span> </span><span class="free"><span>B</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set_def|fact"><span>map_restrict_set_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_ran|fact"><span class="entity_def" id="Finite_Map.fmfilter_ran|thm"><span>fmfilter_ran</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.ffilter|const"><span>ffilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran_drop|fact"><span class="entity_def" id="Finite_Map.fmran_drop|thm"><span>fmran_drop</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{|</span></span><span class="free"><span>a</span></span><span class="main"><span>|}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran_drop_fset|fact"><span class="entity_def" id="Finite_Map.fmran_drop_fset|thm"><span>fmran_drop_fset</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_set_def|fact"><span>map_drop_set_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran_restrict_fset|fact"><span class="entity_def" id="Finite_Map.fmran_restrict_fset|thm"><span>fmran_restrict_fset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.finter|const"><span>|∩|</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_restrict_set_def|fact"><span>map_restrict_set_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_image_iff|fact"><span class="entity_def" id="Finite_Map.fmlookup_image_iff|thm"><span class="entity_def" id="offset_27572..27590">fmlookup_image_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimageI|fact"><span class="entity_def" id="Finite_Map.fmimageI|thm"><span>fmimageI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_27572..27590"><span>fmlookup_image_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27793..27798">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimageE|fact"><span class="entity_def" id="Finite_Map.fmimageE|thm"><span>fmimageE</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_27793..27798"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_27572..27590"><span>fmlookup_image_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmcomp.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmcomp.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmcomp.transfer|fact"><span class="entity_def" id="Finite_Map.fmcomp.rsp|fact"><span class="entity_def" id="Finite_Map.fmcomp_def|fact"><span class="entity_def" id="Finite_Map.fmcomp.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmcomp.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmcomp.transfer|thm"><span class="entity_def" id="Finite_Map.fmcomp.rsp|thm"><span class="entity_def" id="Finite_Map.fmcomp_def|thm"><span class="entity_def" id="Finite_Map.fmcomp_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmcomp|const"><span>fmcomp</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixl</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∘<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_comp|const"><span>map_comp</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>parametric</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_comp_transfer|fact"><span>map_comp_transfer</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.dom_comp_finite|fact"><span>dom_comp_finite</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_comp|fact"><span class="entity_def" id="Finite_Map.fmlookup_comp|thm"><span>fmlookup_comp</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmcomp|const"><span>∘<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.bind|const"><span>Option.bind</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_comp_def|fact"><span>map_comp_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>BNF setup</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.set_transfer_raw|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_transfer_raw|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_transfer_raw|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_transfer_raw|fact"><span class="entity_def" id="Finite_Map.fmap.Domainp_rel|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.fmran&apos;_def|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.Finite_Map.pred_fmap_def|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.fmrel_def|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.fmmap_def|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.set_transfer|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.set_map|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_transfer|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_transp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_symp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_reflp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_refl_strong|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_refl|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_cong_simp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_cong|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_mono_strong|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_mono|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_map|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_Grp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_flip|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_eq_onp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_eq|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_conversep|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_compp_Grp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_compp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_set|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_True|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_transfer|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_rel|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_map|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_cong_simp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_cong|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_mono_strong|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_mono|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_ident_strong|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_ident|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_transfer|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_id0|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_id|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_cong_pred|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_cong_simp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_cong|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_cong0|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_comp|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.inj_map_strong|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.inj_map|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.in_rel|fact"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.set_transfer_raw|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_transfer_raw|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_transfer_raw|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_transfer_raw|thm"><span class="entity_def" id="Finite_Map.fmap.Domainp_rel|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.fmran&apos;_def|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.Finite_Map.pred_fmap_def|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.fmrel_def|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.fmmap_def|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.set_transfer|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.set_map|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_transfer|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_transp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_symp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_reflp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_refl_strong|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_refl|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_cong_simp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_cong|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_mono_strong|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_mono|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_map(2)|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_map(1)|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_Grp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_flip|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_eq_onp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_eq|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_conversep|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_compp_Grp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.rel_compp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_set|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_True|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_transfer|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_rel|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_map|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_cong_simp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_cong|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_mono_strong|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.pred_mono|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_ident_strong|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_ident|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_transfer|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_id0|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_id|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_cong_pred|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_cong_simp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_cong|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_cong0|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.map_comp|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.inj_map_strong|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.inj_map|thm"><span class="entity_def" id="Finite_Map.Finite_Map.fmap.in_rel|thm"><span class="entity_def" id="Finite_Map.fmap.Finite_Map.wit_fmap_def|axiom"><span class="entity_def" id="Finite_Map.fmap.Finite_Map.pred_fmap_def|axiom"><span class="entity_def" id="Finite_Map.fmap.fmrel_def|axiom"><span class="entity_def" id="Finite_Map.fmap.Finite_Map.bd_fmap_def|axiom"><span class="entity_def" id="Finite_Map.fmap.fmran&apos;_def|axiom"><span class="entity_def" id="Finite_Map.fmap.fmmap_def|axiom"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.wit_fun_def|axiom"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.pred_fun_def|axiom"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.rel_fun_def|axiom"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.bd_fun_def|axiom"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.set_fun_def|axiom"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.map_fun_def|axiom"><span class="entity_def" id="Finite_Map.fmap.Finite_Map.wit_fmap|const"><span class="entity_def" id="Finite_Map.fmap.Finite_Map.pred_fmap|const"><span class="entity_def" id="Finite_Map.fmap.Finite_Map.bd_fmap|const"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.wit_fun|const"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.pred_fun|const"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.rel_fun|const"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.bd_fun|const"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.set_fun|const"><span class="entity_def" id="Finite_Map.fun.Finite_Map.fmap.fun.map_fun|const"><span>lift_bnf</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="entity_def" id="Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></span><span class="main"><span>:</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>[</span></span><span>wits</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> map</span><span class="main"><span>:</span></span><span> </span><span class="entity_def" id="Finite_Map.fmap.fmmap|const"><span>fmmap</span></span><span>
      rel</span><span class="main"><span>:</span></span><span> </span><span class="entity_def" id="Finite_Map.fmap.fmrel|const"><span>fmrel</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.pred_mono|fact"><span>fmap.pred_mono</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/inductive.ML.html#Inductive.mono|attribute"><span class="operator"><span>mono</span></span></a><span class="main"><span>]</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran&apos;_alt_def|fact"><span class="entity_def" id="Finite_Map.fmran&apos;_alt_def|thm"><span>fmran'_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.fset|const"><span>fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_ran&apos;_iff|fact"><span class="entity_def" id="Finite_Map.fmlookup_ran&apos;_iff|thm"><span>fmlookup_ran'_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran&apos;I|fact"><span class="entity_def" id="Finite_Map.fmran&apos;I|thm"><span>fmran'I</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmlookup_ran&apos;_iff|fact"><span>fmlookup_ran'_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28730..28735">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran&apos;E|fact"><span class="entity_def" id="Finite_Map.fmran&apos;E|thm"><span>fmran'E</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.elim|attribute"><span class="operator"><span>elim</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_28730..28735"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmlookup_ran&apos;_iff|fact"><span>fmlookup_ran'_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_iff|fact"><span class="entity_def" id="Finite_Map.fmrel_iff|thm"><span>fmrel_iff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun_def|fact"><span>rel_fun_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28986..28991">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrelI|fact"><span class="entity_def" id="Finite_Map.fmrelI|thm"><span>fmrelI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_28986..28991"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_upd|fact"><span class="entity_def" id="Finite_Map.fmrel_upd|thm"><span>fmrel_upd</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun_def|fact"><span>rel_fun_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrelD|fact"><span class="entity_def" id="Finite_Map.fmrelD|thm"><span>fmrelD</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.dest|attribute"><span class="operator"><span>dest</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun_def|fact"><span>rel_fun_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29372..29377">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_addI|fact"><span class="entity_def" id="Finite_Map.fmrel_addI|thm"><span>fmrel_addI</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_29372..29377"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun_def|fact"><span>rel_fun_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.case_eq_if|fact"><span>option.case_eq_if</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.collapse|fact"><span>option.collapse</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_sel|fact"><span>option.rel_sel</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29607..29612">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_cases|fact"><span class="entity_def" id="Finite_Map.fmrel_cases|thm"><span>fmrel_cases</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_29673..29677">none</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_29734..29738">some</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_29607..29612"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="free"><span>thesis</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_29673..29677"><span>none</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_29734..29738"><span>some</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_cases|fact"><span>option.rel_cases</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_filter|fact"><span class="entity_def" id="Finite_Map.fmrel_filter|thm"><span>fmrel_filter</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_iff|fact"><span>fmrel_iff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_drop|fact"><span class="entity_def" id="Finite_Map.fmrel_drop|thm"><span>fmrel_drop</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_drop_set|fact"><span class="entity_def" id="Finite_Map.fmrel_drop_set|thm"><span>fmrel_drop_set</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_drop_fset|fact"><span class="entity_def" id="Finite_Map.fmrel_drop_fset|thm"><span>fmrel_drop_fset</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_restrict_set|fact"><span class="entity_def" id="Finite_Map.fmrel_restrict_set|thm"><span>fmrel_restrict_set</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_restrict_fset|fact"><span class="entity_def" id="Finite_Map.fmrel_restrict_fset|thm"><span>fmrel_restrict_fset</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fset_fmrel_restrict|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset_fmrel_restrict|thm"><span>fmrel_on_fset_fmrel_restrict</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset_alt_def|fact"><span>fmrel_on_fset_alt_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_iff|fact"><span>fmrel_iff</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_30896..30901">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fset_refl_strong|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset_refl_strong|thm"><span>fmrel_on_fset_refl_strong</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset_fmrel_restrict|fact"><span>fmrel_on_fset_fmrel_restrict</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_iff|fact"><span>fmrel_iff</span></a><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_30896..30901"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_sel|fact"><span>option.rel_sel</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31111..31116">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_on_fset_addI|fact"><span class="entity_def" id="Finite_Map.fmrel_on_fset_addI|thm"><span>fmrel_on_fset_addI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_31111..31116"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset_fmrel_restrict|fact"><span>fmrel_on_fset_fmrel_restrict</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31305..31310">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_fmdom_eq|fact"><span class="entity_def" id="Finite_Map.fmrel_fmdom_eq|thm"><span>fmrel_fmdom_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_31305..31310"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_iff|fact"><span>fmrel_iff</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdomI|fact"><span>fmdomI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_fmdom&apos;_eq|fact"><span class="entity_def" id="Finite_Map.fmrel_fmdom&apos;_eq|thm"><span>fmrel_fmdom'_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;_alt_def|fact"><span>fmdom'_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_fmdom_eq|fact"><span>fmrel_fmdom_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31753..31758">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_rel_fmran|fact"><span class="entity_def" id="Finite_Map.fmrel_rel_fmran|thm"><span>fmrel_rel_fmran</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.rel_fset|const"><span>rel_fset</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_31753..31758"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>b'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="bound"><span>b'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option_rel_Some1|fact"><span>option_rel_Some1</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmranI|fact"><span>fmranI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_31753..31758"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>b'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option_rel_Some2|fact"><span>option_rel_Some2</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmranI|fact"><span>fmranI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.rel_fset_alt_def|fact"><span>rel_fset_alt_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_rel_fmran&apos;|fact"><span class="entity_def" id="Finite_Map.fmrel_rel_fmran&apos;|thm"><span>fmrel_rel_fmran'</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_set|const"><span>rel_set</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran&apos;_alt_def|fact"><span>fmran'_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_rel_fmran|fact"><span>fmrel_rel_fmran</span></a><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.rel_fset_fset|fact"><span>rel_fset_fset</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.pred_fmap_fmpred|fact"><span class="entity_def" id="Finite_Map.pred_fmap_fmpred|thm"><span>pred_fmap_fmpred</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.Finite_Map.pred_fmap|const"><span>pred_fmap</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.pred_set|fact"><span>fmap.pred_set</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran&apos;_alt_def|fact"><span>fmran'_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.ext|fact"><span>ext</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.pred_fmap_id|fact"><span class="entity_def" id="Finite_Map.pred_fmap_id|thm"><span>pred_fmap_id</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.Finite_Map.pred_fmap|const"><span>pred_fmap</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.Finite_Map.pred_fmap|const"><span>pred_fmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.pred_set|fact"><span>fmap.pred_set</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.set_map|fact"><span>fmap.set_map</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.pred_fmapD|fact"><span class="entity_def" id="Finite_Map.pred_fmapD|thm"><span>pred_fmapD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.Finite_Map.pred_fmap|const"><span>pred_fmap</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_map|fact"><span class="entity_def" id="Finite_Map.fmlookup_map|thm"><span>fmlookup_map</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_map|fact"><span class="entity_def" id="Finite_Map.fmpred_map|thm"><span>fmpred_map</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred_iff|fact"><span>fmpred_iff</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.Finite_Map.pred_fmap_def|fact"><span>pred_fmap_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.set_map|fact"><span>fmap.set_map</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_id|fact"><span class="entity_def" id="Finite_Map.fmpred_id|thm"><span>fmpred_id</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.id|const"><span>id</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_add|fact"><span class="entity_def" id="Finite_Map.fmmap_add|thm"><span>fmmap_add</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_add_def|fact"><span>map_add_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_empty|fact"><span class="entity_def" id="Finite_Map.fmmap_empty|thm"><span>fmmap_empty</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_map|fact"><span class="entity_def" id="Finite_Map.fmdom_map|thm"><span>fmdom_map</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom&apos;_map|fact"><span class="entity_def" id="Finite_Map.fmdom&apos;_map|thm"><span>fmdom'_map</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran_fmmap|fact"><span class="entity_def" id="Finite_Map.fmran_fmmap|thm"><span>fmran_fmmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fimage|const"><span>|`|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran&apos;_fmmap|fact"><span class="entity_def" id="Finite_Map.fmran&apos;_fmmap|thm"><span>fmran'_fmmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.ran_def|fact"><span>ran_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_fmmap|fact"><span class="entity_def" id="Finite_Map.fmfilter_fmmap|thm"><span>fmfilter_fmmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fmmap|fact"><span class="entity_def" id="Finite_Map.fmdrop_fmmap|thm"><span>fmdrop_fmmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_fmmap|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_fmmap|thm"><span>fmdrop_set_fmmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_fmmap|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_fmmap|thm"><span>fmdrop_fset_fmmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set_fmmap|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_fmmap|thm"><span>fmrestrict_set_fmmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset_fmmap|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_fmmap|thm"><span>fmrestrict_fset_fmmap</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_subset|fact"><span class="entity_def" id="Finite_Map.fmmap_subset|thm"><span>fmmap_subset</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le_def|fact"><span>map_le_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_fset_of_fmap|fact"><span class="entity_def" id="Finite_Map.fmmap_fset_of_fmap|thm"><span>fmmap_fset_of_fmap</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fset_of_fmap|const"><span>fset_of_fmap</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fimage|const"><span>|`|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fset_of_fmap|const"><span>fset_of_fmap</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.set_of_map_def|fact"><span>set_of_map_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_fmupd|fact"><span class="entity_def" id="Finite_Map.fmmap_fmupd|thm"><span>fmmap_fmupd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span>›</span></span><span> setup</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.size_fmap_def|fact"><span class="entity_def" id="Finite_Map.size_fmap_def|thm"><span class="entity_def" id="Finite_Map.size_fmap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.size_fmap|const"><span>size_fmap</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_fmap</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.size_fset|const"><span>size_fset</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fset_of_fmap|const"><span>fset_of_fmap</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>instantiation</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.type|class"><span>type</span></a></span><span class="main"><span>,</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.type|class"><span>type</span></a></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size|class"><span>size</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.size_fmap_inst.size_fmap|fact"><span class="entity_def" id="Finite_Map.size_fmap_inst.size_fmap|thm"><span class="entity_def" id="Finite_Map.size_fmap_inst.size_fmap_def|axiom"><span class="entity_def" id="Finite_Map.size_fmap_inst.size_fmap|const"><span>definition</span></span></span></span></span></span></span><span> </span><span class="entity"><span class="class_parameter"><span>size_fmap</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="entity_def" id="Finite_Map.size_fmap_overloaded_def|fact"><span class="entity_def" id="Finite_Map.size_fmap_overloaded_def|thm"><span class="entity_def" id="Finite_Map.size_fmap_overloaded_def_raw|axiom"><span>size_fmap_overloaded_def</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_fmap</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap|const"><span>Finite_Map.size_fmap</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.arity_size_fmap|fact"><span class="entity_def" id="Finite_Map.arity_size_fmap|thm"><span>instance</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.size_fmap_overloaded_simps|fact"><span class="entity_def" id="Finite_Map.size_fmap_overloaded_simps|thm"><span>size_fmap_overloaded_simps</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.size_class.size|const"><span>size</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fset_of_fmap|const"><span>fset_of_fmap</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap_overloaded_def|fact"><span>size_fmap_overloaded_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_size_o_map|fact"><span class="entity_def" id="Finite_Map.fmap_size_o_map|thm"><span>fmap_size_o_map</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj|const"><span>inj</span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap|const"><span>size_fmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>h</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap|const"><span>size_fmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="free"><span>h</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap_def|fact"><span>size_fmap_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_fset_of_fmap|fact"><span>fmmap_fset_of_fmap</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum.reindex|fact"><span>sum.reindex</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> m</span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Basic_BNFs.html#Basic_BNFs.Product_Type.prod.inj_map|fact"><span>prod.inj_map</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_def|fact"><span>map_prod_def</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>h</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_on_def|fact"><span>inj_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups_Big.html#Groups_Big.comm_monoid_add_class.sum.cong|fact"><span>sum.cong</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>setup</span></span></span><span> </span><span class="quoted"><span>‹</span><span>
</span><span class="entity"><span>BNF_LFP_Size.register_size_global</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">type_name</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>›</span></span><span> </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">const_name</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap|const"><span>size_fmap</span></a><span>›</span></span><span>
  </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap_overloaded_def|fact"><span>size_fmap_overloaded_def</span></a><span class="antiquote"><span>}</span></span></span></span><span> </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap_def|fact"><span>size_fmap_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.size_fmap_overloaded_simps|fact"><span>size_fmap_overloaded_simps</span></a><span class="antiquote"><span>}</span></span></span></span><span>
  </span><span class="antiquoted"><span class="entity"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thms</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_size_o_map|fact"><span>fmap_size_o_map</span></a><span class="antiquote"><span>}</span></span></span></span><span>
</span><span>›</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Additional operations</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.fmmap_keys.rep_eq|fact"><span class="entity_def" id="Finite_Map.fmmap_keys.abs_eq|fact"><span class="entity_def" id="Finite_Map.fmmap_keys.transfer|fact"><span class="entity_def" id="Finite_Map.fmmap_keys.rsp|fact"><span class="entity_def" id="Finite_Map.fmmap_keys_def|fact"><span class="entity_def" id="Finite_Map.fmmap_keys.rep_eq|thm"><span class="entity_def" id="Finite_Map.fmmap_keys.abs_eq|thm"><span class="entity_def" id="Finite_Map.fmmap_keys.transfer|thm"><span class="entity_def" id="Finite_Map.fmmap_keys.rsp|thm"><span class="entity_def" id="Finite_Map.fmmap_keys_def|thm"><span class="entity_def" id="Finite_Map.fmmap_keys_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'c</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>m</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmpred_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmpred_fmmap_keys|thm"><span>fmpred_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmdom_fmmap_keys|thm"><span>fmdom_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmlookup_fmmap_keys|thm"><span>fmlookup_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmfilter_fmmap_keys|thm"><span>fmfilter_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmdrop_fmmap_keys|thm"><span>fmdrop_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_set_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmdrop_set_fmmap_keys|thm"><span>fmdrop_set_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdrop_fset_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmdrop_fset_fmmap_keys|thm"><span>fmdrop_fset_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_set_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmrestrict_set_fmmap_keys|thm"><span>fmrestrict_set_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrestrict_fset_fmmap_keys|fact"><span class="entity_def" id="Finite_Map.fmrestrict_fset_fmmap_keys|thm"><span>fmrestrict_fset_fmmap_keys</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_keys_subset|fact"><span class="entity_def" id="Finite_Map.fmmap_keys_subset|thm"><span>fmmap_keys_subset</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>⊆<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_le_def|fact"><span>map_le_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.sorted_list_of_fmap_def|fact"><span class="entity_def" id="Finite_Map.sorted_list_of_fmap_def|thm"><span class="entity_def" id="Finite_Map.sorted_list_of_fmap_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Finite_Map.sorted_list_of_fmap|const"><span>sorted_list_of_fmap</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.linorder|class"><span>linorder</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>sorted_list_of_fmap</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>k</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.sorted_list_of_fset|const"><span>sorted_list_of_fset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.list_all_sorted_list|fact"><span class="entity_def" id="Finite_Map.list_all_sorted_list|thm"><span>list_all_sorted_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all|const"><span>list_all</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.sorted_list_of_fmap|const"><span>sorted_list_of_fmap</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.curry|const"><span>curry</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.sorted_list_of_fmap_def|fact"><span>sorted_list_of_fmap_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.curry_def|fact"><span>curry_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.List.list.pred_map|fact"><span>list.pred_map</span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all_iff|fact"><span>list_all_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.map_of_sorted_list|fact"><span class="entity_def" id="Finite_Map.map_of_sorted_list|thm"><span>map_of_sorted_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.sorted_list_of_fmap|const"><span>sorted_list_of_fmap</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.sorted_list_of_fmap_def|fact"><span>sorted_list_of_fmap_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of_map_keys|fact"><span>map_of_map_keys</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Additional properties</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_38277..38282">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmchoice&apos;|fact"><span class="entity_def" id="Finite_Map.fmchoice&apos;|thm"><span>fmchoice'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>y</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_38400..38401">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Q</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_38277..38282"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.bchoice|fact"><span>bchoice</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_38469..38475">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.eq_onp|const"><span>eq_onp</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>f'</span></span><span> </span><span class="skolem"><span>f'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.eq_onp_def|fact"><span>eq_onp_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_38469..38475"><span>f'_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_38277..38282"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.Abs_fmap|const"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.Abs_fmap|const"><span>Abs_fmap</span></a></a><span> </span><span class="skolem"><span class="skolem"><span>f'</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred.abs_eq|fact"><span>fmpred.abs_eq</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>fact</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;.abs_eq|fact"><span>fmdom'.abs_eq</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>fact</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_38469..38475"><span>f'_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_pred_def|fact"><span>map_pred_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_38400..38401"><span>f</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Lifting/transfer setup</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>includes</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.lifting_syntax|bundle"><span>lifting_syntax</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmempty_transfer|fact"><span class="entity_def" id="Finite_Map.fmempty_transfer|thm"><span>fmempty_transfer</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd_transfer|fact"><span class="entity_def" id="Finite_Map.fmadd_transfer|thm"><span>fmadd_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span>===&gt;</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span>===&gt;</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>fmadd</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>fmadd</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_addI|fact"><span>fmrel_addI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_funI|fact"><span>rel_funI</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmupd_transfer|fact"><span class="entity_def" id="Finite_Map.fmupd_transfer|thm"><span>fmupd_transfer</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer_rule|attribute"><span class="operator"><span>transfer_rule</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span>===&gt;</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span>===&gt;</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.rel_fun|const"><span>===&gt;</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39245..39250">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.Quotient_fmap_bnf|fact"><span class="entity_def" id="Finite_Map.Quotient_fmap_bnf|thm"><span>Quotient_fmap_bnf</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Lifting/lifting_info.ML.html#Lifting.quot_map|attribute"><span class="operator"><span>quot_map</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Lifting.html#Lifting.Quotient|const"><span>Quotient</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>Abs</span></span><span> </span><span class="free"><span>Rep</span></span><span> </span><span class="free"><span>T</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Lifting.html#Lifting.Quotient|const"><span>Quotient</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>R</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>Abs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>Rep</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lifting.html#Lifting.Quotient_alt_def4|fact"><span>Quotient_alt_def4</span></a><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.safe|method"><span class="operator"><span>safe</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>Abs</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_cases|fact"><span>fmrel_cases</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> x </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>x</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_39245..39250"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lifting.html#Lifting.Quotient_alt_def|fact"><span>Quotient_alt_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>Abs</span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>m</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>Rep</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.rel_map|fact"><span>fmap.rel_map</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.rel_refl|fact"><span>fmap.rel_refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_39245..39250"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lifting.html#Lifting.Quotient_alt_def|fact"><span>Quotient_alt_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_39245..39250"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.relcompp|const"><span>OO</span></a></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lifting.html#Lifting.Quotient_alt_def4|fact"><span>Quotient_alt_def4</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.relcompp|const"><span>OO</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Relation.html#Relation.conversep|const"><span>¯¯</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.rel_compp|fact"><span>fmap.rel_compp</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.Finite_Map.fmap.rel_conversep|fact"><span>fmap.rel_conversep</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>View as datatype</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_distinct|fact"><span class="entity_def" id="Finite_Map.fmap_distinct(2)|thm"><span class="entity_def" id="Finite_Map.fmap_distinct(1)|thm"><span>fmap_distinct</span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lifting_update</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.lifting|bundle"><span>fmap.lifting</span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_40196..40201">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_exhaust|fact"><span class="entity_def" id="Finite_Map.fmap_exhaust|thm"><span>fmap_exhaust</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|attribute"><span class="operator"><span>cases</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>type</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>:</span></span></span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="main"><span>(</span></span><span>fmempty</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
        </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>fmupd</span><span class="main"><span>)</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m'</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>m'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.notin_fset|const"><span>|∉|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_40196..40201"><span>that</span></a><span> </span><span class="keyword1"><span class="command"><span>including</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.lifting|bundle"><span>fmap.lifting</span></a><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>P</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_40442..40447">empty</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_40479..40486">map_upd</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="skolem"><span>m'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd|const"><span>map_upd</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>m'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="skolem"><span>m'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>m'</span></span><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>P</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_40442..40447"><span>empty</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?m'</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop|const"><span>map_drop</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>

      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_40479..40486"><span>map_upd</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="var"><span>?m'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd|const"><span>map_upd</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?m'</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="skolem"><span>m</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_upd_def|fact"><span>map_upd_def</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="var"><span>?m'</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_41257..41262">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_induct|fact"><span class="entity_def" id="Finite_Map.fmap_induct|thm"><span>fmap_induct</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>case_names</span></span><span> fmempty fmupd</span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|attribute"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>type</span></span></span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>:</span></span></span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a></a></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset_induct_stronger|fact"><span>fset_induct_stronger</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>empty</span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset_dom|fact"><span>fmrestrict_fset_dom</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset_null|fact"><span>fmrestrict_fset_null</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_41257..41262"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_41631..41637">insert</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>S</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_41631..41637"><span>insert</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_41631..41637"><span>insert</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>_</span></span><span>›</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_41257..41262"><span>assms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Code setup</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>instantiation</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.type|class"><span>type</span></a></span><span class="main"><span>,</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.equal|class"><span>equal</span></a></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.equal|class"><span>equal</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.equal_fmap_def|fact"><span class="entity_def" id="Finite_Map.equal_fmap_inst.equal_fmap|fact"><span class="entity_def" id="Finite_Map.equal_fmap_def|thm"><span class="entity_def" id="Finite_Map.equal_fmap_inst.equal_fmap|thm"><span class="entity_def" id="Finite_Map.equal_fmap_def_raw|axiom"><span class="entity_def" id="Finite_Map.equal_fmap_inst.equal_fmap_def|axiom"><span class="entity_def" id="Finite_Map.equal_fmap_inst.equal_fmap|const"><span class="entity_def" id="offset_42092..42102">definition</span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="class_parameter"><span>equal_fmap</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.equal_class.equal|const"><span>HOL.equal</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.arity_equal_fmap|fact"><span class="entity_def" id="Finite_Map.arity_equal_fmap|thm"><span>instance</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>(=)</span></a></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.Option.option.rel_eq|fact"><span>option.rel_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Transfer.html#Transfer.rel_fun_eq|fact"><span>rel_fun_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.equal_class.equal|const"><span>equal_class.equal</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_42092..42102"><span>equal_fmap_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.equal_class.equal_eq|fact"><span>equal_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>abs_def</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fBall_alt_def|fact"><span class="entity_def" id="Finite_Map.fBall_alt_def|thm"><span>fBall_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fBall|const"><span>fBall</span></a><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmrel_code|fact"><span class="entity_def" id="Finite_Map.fmrel_code|thm"><span>fmrel_code</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span>
    </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fBall|const"><span>fBall</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
    </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fBall|const"><span>fBall</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_option|const"><span>rel_option</span></a><span> </span><span class="free"><span>R</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_iff|fact"><span>fmrel_iff</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmlookup_dom_iff|fact"><span>fmlookup_dom_iff</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fBall_alt_def|fact"><span>fBall_alt_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.collapse|fact"><span>option.collapse</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.rel_sel|fact"><span>option.rel_sel</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_code|fact"><span>fmrel_code</span></a><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran&apos;_alt_def|fact"><span>fmran'_alt_def</span></a><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;_alt_def|fact"><span>fmdom'_alt_def</span></a><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.pred_fmap_fmpred|fact"><span>pred_fmap_fmpred</span></a><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset_alt_def|fact"><span>fmsubset_alt_def</span></a><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd_alt_def|fact"><span>fmupd_alt_def</span></a><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset_alt_def|fact"><span>fmrel_on_fset_alt_def</span></a><span>
  </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred_alt_def|fact"><span>fmpred_alt_def</span></a><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.arity_partial_term_of_fmap|fact"><span class="entity_def" id="Finite_Map.partial_term_of_fmap_triv|fact"><span class="entity_def" id="Finite_Map.partial_term_of_fmap_inst.partial_term_of_fmap|fact"><span class="entity_def" id="Finite_Map.arity_partial_term_of_fmap|thm"><span class="entity_def" id="Finite_Map.partial_term_of_fmap_triv|thm"><span class="entity_def" id="Finite_Map.partial_term_of_fmap_inst.partial_term_of_fmap|thm"><span class="entity_def" id="Finite_Map.partial_term_of_fmap_triv_raw|axiom"><span class="entity_def" id="Finite_Map.partial_term_of_fmap_inst.partial_term_of_fmap_def|axiom"><span class="entity_def" id="Finite_Map.partial_term_of_fmap_inst.partial_term_of_fmap|const"><span>code_datatype</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.arity_random_fmap|fact"><span class="entity_def" id="Finite_Map.random_fmap_def|fact"><span class="entity_def" id="Finite_Map.random_fmap_inst.random_fmap|fact"><span class="entity_def" id="Finite_Map.fmap.random_aux.simps|fact"><span class="entity_def" id="Finite_Map.random_aux_fmap_def|fact"><span class="entity_def" id="Finite_Map.arity_full_exhaustive_fmap|fact"><span class="entity_def" id="Finite_Map.fmap.full_exhaustive_fmap.simps|fact"><span class="entity_def" id="Finite_Map.full_exhaustive_fmap_inst.full_exhaustive_fmap|fact"><span class="entity_def" id="Finite_Map.arity_random_fmap|thm"><span class="entity_def" id="Finite_Map.random_fmap_def|thm"><span class="entity_def" id="Finite_Map.random_fmap_inst.random_fmap|thm"><span class="entity_def" id="Finite_Map.fmap.random_aux.simps|thm"><span class="entity_def" id="Finite_Map.random_aux_fmap_def|thm"><span class="entity_def" id="Finite_Map.arity_full_exhaustive_fmap|thm"><span class="entity_def" id="Finite_Map.fmap.full_exhaustive_fmap.simps|thm"><span class="entity_def" id="Finite_Map.full_exhaustive_fmap_inst.full_exhaustive_fmap|thm"><span class="entity_def" id="Finite_Map.random_fmap_def_raw|axiom"><span class="entity_def" id="Finite_Map.random_fmap_inst.random_fmap_def|axiom"><span class="entity_def" id="Finite_Map.random_aux_fmap_def|axiom"><span class="entity_def" id="Finite_Map.full_exhaustive_fmap_def|axiom"><span class="entity_def" id="Finite_Map.full_exhaustive_fmap_inst.full_exhaustive_fmap_def|axiom"><span class="entity_def" id="Finite_Map.random_fmap_inst.random_fmap|const"><span class="entity_def" id="Finite_Map.random_aux_fmap|const"><span class="entity_def" id="Finite_Map.full_exhaustive_fmap_inst.full_exhaustive_fmap|const"><span>quickcheck_generator</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> constructors</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>includes</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmlookup_of_list|fact"><span class="entity_def" id="Finite_Map.fmlookup_of_list|thm"><span class="entity_def" id="offset_43027..43043">fmlookup_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmempty_of_list|fact"><span class="entity_def" id="Finite_Map.fmempty_of_list|thm"><span>fmempty_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmran_of_list|fact"><span class="entity_def" id="Finite_Map.fmran_of_list|thm"><span class="entity_def" id="offset_43189..43202">fmran_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fimage|const"><span>|`|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset_of_list|const"><span>fset_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.AList.html#AList.clearjunk|const"><span>AList.clearjunk</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.AList.html#AList.ran_map_of|fact"><span>ran_map_of</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmdom_of_list|fact"><span class="entity_def" id="Finite_Map.fmdom_of_list|thm"><span>fmdom_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fimage|const"><span>|`|</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset_of_list|const"><span>fset_of_list</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_map_of_conv_image_fst|fact"><span>dom_map_of_conv_image_fst</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmfilter_of_list|fact"><span class="entity_def" id="Finite_Map.fmfilter_of_list|thm"><span class="entity_def" id="offset_43450..43466">fmfilter_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter|const"><span>filter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmadd_of_list|fact"><span class="entity_def" id="Finite_Map.fmadd_of_list|thm"><span>fmadd_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>++<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.AList.html#AList.merge|const"><span>AList.merge</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.AList.html#AList.merge_conv&apos;|fact"><span>merge_conv'</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_of_list|fact"><span class="entity_def" id="Finite_Map.fmmap_of_list|thm"><span>fmmap_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.apsnd|const"><span>apsnd</span></a><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of_map|fact"><span>map_of_map</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.apsnd_def|fact"><span>apsnd_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_def|fact"><span>map_prod_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmmap_keys_of_list|fact"><span class="entity_def" id="Finite_Map.fmmap_keys_of_list|thm"><span>fmmap_keys_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f m</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.apsnd_def|fact"><span>apsnd_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.map_prod_def|fact"><span>map_prod_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.fun_eq_iff|fact"><span>fun_eq_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmimage_of_list|fact"><span class="entity_def" id="Finite_Map.fmimage_of_list|thm"><span>fmimage_of_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset_of_list|const"><span>fset_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter|const"><span>filter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fmember|const"><span>|∈|</span></a></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.AList.html#AList.clearjunk|const"><span>AList.clearjunk</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage_alt_def|fact"><span>fmimage_alt_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter_alt_defs|fact"><span>fmfilter_alt_defs</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_43450..43466"><span>fmfilter_of_list</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_43189..43202"><span>fmran_of_list</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer&apos;|method"><span class="operator"><span>transfer'</span></span></a><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.AList.html#AList.restrict_eq|fact"><span>AList.restrict_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.AList.html#AList.clearjunk_restrict|fact"><span>clearjunk_restrict</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.AList.html#AList.restrict_eq|fact"><span>AList.restrict_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmcomp_list|fact"><span class="entity_def" id="Finite_Map.fmcomp_list|thm"><span>fmcomp_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmcomp|const"><span>∘<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.AList.html#AList.compose|const"><span>AList.compose</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_ext|fact"><span>fmap_ext</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_43027..43043"><span>fmlookup_of_list</span></a><span> </span><a class="entity_ref" href="HOL-Library.AList.html#AList.compose_conv|fact"><span>compose_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_comp_def|fact"><span>map_comp_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Instances</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_44707..44712">lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.exists_map_of|fact"><span class="entity_def" id="Finite_Map.exists_map_of|thm"><span>exists_map_of</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_44707..44712"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>empty</span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_44986..44992">insert</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>F</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop|const"><span>map_drop</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_44986..44992"><span>insert</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="bound"><span>xs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop|const"><span>map_drop</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="skolem"><span>xs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop|const"><span>map_drop</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#offset_44986..44992"><span>insert</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom_def|fact"><span>dom_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map_of|const"><span>map_of</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="skolem"><span>xs'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>F</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="skolem"><span>m</span></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_drop_def|fact"><span>map_drop_def</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.map_filter_def|fact"><span>map_filter_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.exists_fmap_of_list|fact"><span class="entity_def" id="Finite_Map.exists_fmap_of_list|thm"><span>exists_fmap_of_list</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>xs</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Transfer/transfer.ML.html#Transfer.transfer|method"><span class="operator"><span>transfer</span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.exists_map_of|fact"><span>exists_map_of</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Finite_Map.fmap_of_list_surj|fact"><span class="entity_def" id="Finite_Map.fmap_of_list_surj|thm"><span>fmap_of_list_surj</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.intro|attribute"><span class="operator"><span>intro</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.surj|const"><span>surj</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.range|const"><span>range</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.exists_fmap_of_list|fact"><span>exists_fmap_of_list</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV_I|fact"><span>UNIV_I</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.arity_countable_fmap|fact"><span class="entity_def" id="Finite_Map.arity_countable_fmap|thm"><span>instance</span></span></span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><a class="entity_ref" href="HOL-Library.Countable.html#Countable.countable|class"><span>countable</span></a></span><span class="main"><span>,</span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Countable.html#Countable.countable|class"><span>countable</span></a></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><a class="entity_ref" href="HOL-Library.Countable.html#Countable.countable|class"><span>countable</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>to_nat</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj|const"><span>inj</span></a><span> </span><span class="skolem"><span>to_nat</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HOL-Library.Countable.html#Countable.countable_class.ex_inj|fact"><span>ex_inj</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj|const"><span>inj</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span>inv</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list_surj|fact"><span>fmap_of_list_surj</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.surj_imp_inj_inv|fact"><span>surj_imp_inj_inv</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj|const"><span>inj</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>to_nat</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Hilbert_Choice.html#Hilbert_Choice.inv|const"><span>inv</span></a><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap_of_list|const"><span>fmap_of_list</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_compose|fact"><span>inj_compose</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>to_nat</span></span><span class="main"><span>::</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj|const"><span>inj</span></a><span> </span><span class="bound"><span>to_nat</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.arity_finite_fmap|fact"><span class="entity_def" id="Finite_Map.arity_finite_fmap|thm"><span>instance</span></span></span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|class"><span>finite</span></a></span><span class="main"><span>,</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|class"><span>finite</span></a></span><span class="main"><span>)</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|class"><span>finite</span></a></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_imageD|fact"><span>finite_imageD</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lifting_update</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.lifting|bundle"><span>fmap.lifting</span></a><span>
</span><span class="keyword1"><span class="command"><span>lifting_forget</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.lifting|bundle"><span>fmap.lifting</span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Tests</span><span>›</span></span></span><span>

</span><span class="comment1"><span>― ‹Code generation›</span></span><span>

</span><span class="keyword1"><span class="command"><span>export_code</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fBall|const"><span>fBall</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmrel|const"><span>fmrel</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmran|const"><span>fmran</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmran&apos;|const"><span>fmran'</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom|const"><span>fmdom</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdom&apos;|const"><span>fmdom'</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmpred|const"><span>fmpred</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.Finite_Map.pred_fmap|const"><span>pred_fmap</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmsubset|const"><span>fmsubset</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrel_on_fset|const"><span>fmrel_on_fset</span></a></span></span><span>
  </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop|const"><span>fmdrop</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_set|const"><span>fmdrop_set</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmdrop_fset|const"><span>fmdrop_fset</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_set|const"><span>fmrestrict_set</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmrestrict_fset|const"><span>fmrestrict_fset</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmimage|const"><span>fmimage</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmlookup|const"><span>fmlookup</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a></span></span><span>
  </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmfilter|const"><span>fmfilter</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmadd|const"><span>fmadd</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap.fmmap|const"><span>fmmap</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmmap_keys|const"><span>fmmap_keys</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmcomp|const"><span>fmcomp</span></a></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>checking</span></span></span><span> SML Scala Haskell</span><span class="main"><span>?</span></span><span> OCaml</span><span class="main"><span>?</span></span><span>

</span><span class="comment1"><span>― ‹</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>‹</span></span><span>lifting›</span></span></span><span> through </span><span class="antiquoted"><span class="operator"><span><span class="hidden">\&lt;^</span><span class="control">type</span><span class="hidden">&gt;</span></span></span><span>‹</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>›</span></span><span>›</span></span><span>

</span><span class="keyword1"><span class="command"><span>experiment</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>includes</span></span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset.lifting|bundle"><span>fset.lifting</span></a><span> </span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.experiment5879176.test1.abs_eq|fact"><span class="entity_def" id="Finite_Map.experiment5879176.test1.transfer|fact"><span class="entity_def" id="Finite_Map.experiment5879176.test1.rsp|fact"><span class="entity_def" id="Finite_Map.experiment5879176.test1_def|fact"><span class="entity_def" id="Finite_Map.experiment5879176.test1.abs_eq|thm"><span class="entity_def" id="Finite_Map.experiment5879176.test1.transfer|thm"><span class="entity_def" id="Finite_Map.experiment5879176.test1.rsp|thm"><span class="entity_def" id="Finite_Map.experiment5879176.test1_def|thm"><span class="entity_def" id="Finite_Map.experiment5879176.test1_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.experiment5879176.test1|const"><span>test1</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Finite_Map.experiment5879176.test2.abs_eq|fact"><span class="entity_def" id="Finite_Map.experiment5879176.test2.transfer|fact"><span class="entity_def" id="Finite_Map.experiment5879176.test2.rsp|fact"><span class="entity_def" id="Finite_Map.experiment5879176.test2_def|fact"><span class="entity_def" id="Finite_Map.experiment5879176.test2.abs_eq|thm"><span class="entity_def" id="Finite_Map.experiment5879176.test2.transfer|thm"><span class="entity_def" id="Finite_Map.experiment5879176.test2.rsp|thm"><span class="entity_def" id="Finite_Map.experiment5879176.test2_def|thm"><span class="entity_def" id="Finite_Map.experiment5879176.test2_def|axiom"><span>lift_definition</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Finite_Map.experiment5879176.test2|const"><span>test2</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'b</span></span><span> </span><a class="entity_ref" href="HOL-Library.FSet.html#FSet.fset|type"><span>fset</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmap|type"><span>fmap</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>λ</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmupd|const"><span>fmupd</span></a><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>b</span></span><span class="main"><span>}</span></span><span> </span><a class="entity_ref" href="HOL-Library.Finite_Map.html#Finite_Map.fmempty|const"><span>fmempty</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>